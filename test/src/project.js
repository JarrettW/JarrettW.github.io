require=function t(e,i,o){function n(a,c){if(!i[a]){if(!e[a]){var r="function"==typeof require&&require;if(!c&&r)return r(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){var i=e[a][1][t];return n(i||t)},l,l.exports,t,e,i,o)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({AddScoreAction:[function(t,e,i){"use strict";cc._RF.push(e,"d8a55X0r1lIPo/2CEIMqDvK","AddScoreAction"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.text="",e.addScoreAction=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.setScore=function(t){var e=this;e.text=""+t,e.scoreLabel.string=e.text,e.text="";var i=cc.moveBy(.5,cc.p(0,10)),o=cc.fadeOut(.5),n=cc.delayTime(.6),s=cc.callFunc(function(){e.node.opacity=255},e);e.node.runAction(cc.sequence(i,o,n,s))},e.prototype.addAction=function(t){var e=cc.instantiate(this.addScoreAction);e.getComponent("AddScoreAction").currentSetScore(t),this.node.addChild(e)},e.prototype.currentSetScore=function(t){var e=this;e.text=""+t,e.scoreLabel.string=e.text,e.text="";var i=cc.moveBy(.5,cc.p(0,10)),o=cc.fadeOut(.5),n=cc.delayTime(.6),s=cc.callFunc(function(){e.node.destroy()},e);e.node.runAction(cc.sequence(i,o,n,s))},__decorate([s(cc.Label)],e.prototype,"scoreLabel",void 0),__decorate([s(cc.Prefab)],e.prototype,"addScoreAction",void 0),e=__decorate([n],e)}(cc.Component);i.default=a,cc._RF.pop()},{}],AdsLed:[function(require,module,exports){"use strict";cc._RF.push(module,"5bc95rKBbVGk7AynP2+03iy","AdsLed");var StorageData=require("StorageData"),Global=require("Common");cc.Class({extends:cc.Component,properties:{getReward:cc.Node},onLoad:function(){this.rewardBox=this.getReward.getChildByName("tanchuang"),this.divContainer=null,this.videoContent=null,GlobalEvent.on("AdsOver",this.adsReward,this),GlobalEvent.on("AdError",this.openBtn,this)},JSplayAds:function JSplayAds(){"adsRevive"==this.node.name?this.node.parent.active=!1:"adsFinal"==this.node.name&&(this.node.getComponent(cc.Button).interactable=!1,this.node.parent.getChildByName("return").getComponent(cc.Button).interactable=!1);var init=cc.callFunc(function(){this.initADS()},this),delT=cc.delayTime(1),play=cc.callFunc(function(){this.videoContent.style.top="0px",this.divContainer.style.top="0px",eval("playAds()")},this);this.node.runAction(cc.sequence(init,delT,play))},initADS:function initADS(){cc.sys.platform!=cc.sys.MOBILE_BROWSER&&cc.sys.platform!=cc.sys.DESKTOP_BROWSER||(this.createVideoPlayer(),this.createContainer(),eval("init(this.videoContent, this.divContainer)"))},removeADS:function(){var t=document.body,e=document.getElementById("contentElement"),i=document.getElementById("adContainer");t.removeChild(e),t.removeChild(i),this.divContainer=null,this.videoContent=null},createVideoPlayer:function(){var t=document.body;this.videoContent=document.createElement("video"),this.videoContent.id="contentElement",this.videoContent.style.overflow="hidden",t.appendChild(this.videoContent)},createContainer:function(){var t=document.body;this.divContainer=document.createElement("div"),this.divContainer.id="adContainer",this.divContainer.style.position="fixed",cc.sys.isMobile||(this.divContainer.style.backgroundPosition="center top"),t.appendChild(this.divContainer)},adsReward:function(){if(this.removeADS(),"adsLed"==this.node.name){this.getReward.active=!0,this.getReward.getChildByName("tanchuang").getChildByName("goldCount").opacity=255;var t=Math.floor(21*Math.random()+10);this.getReward.getChildByName("tanchuang").getChildByName("goldCount").getComponent(cc.Label).string=t+"",this.getReward.getChildByName("tanchuang").getChildByName("jb").opacity=255;var e=parseInt(StorageData.getLocalData("Gold"));e+=t,StorageData.setLocalData("Gold",e),Global.Gold=e}else"adsRevive"==this.node.name?cc.find("Canvas/continueNode").getComponent("ContinueLayer").yesContinue():"adsFinal"==this.node.name&&(Global.PlayerBattleScore*=2,this.node.parent.getChildByName("return").getComponent(cc.Button).interactable=!0)},openBtn:function(){this.removeADS(),"adsFinal"==this.node.name&&(this.node.parent.getChildByName("return").getComponent(cc.Button).interactable=!0)}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],AnimationDestroy:[function(t,e,i){"use strict";cc._RF.push(e,"84b69MHihFDgJnQVS5kQS2U","AnimationDestroy"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},destroyNode:function(){if(this.node.getComponent(cc.Animation).defaultClip.wrapMode===cc.WrapMode.Normal){var t=cc.callFunc(function(){this.node.destroy()},this);this.node.runAction(cc.sequence(cc.fadeOut(1),cc.delayTime(1),t))}},hardModeNbo:function(t,e,i){var o=cc.instantiate(i);o.runAction(cc.fadeIn(.2)),t.addChild(o);var n=this.numberChange(e);o.getChildByName("zi").getComponent(cc.Label).string="第"+n+"波来袭"},numberChange:function(t){if(this.changeNumber=["零","一","二","三","四","五","六","七","八","九","十"],t<0)return"";var e=t,i="";if(e<=10)i=this.changeNumber[e];else if(e<20){var o=e%10;i="十"+this.changeNumber[o]}else{var n=Math.floor(e/10),s=e%10;i=0!==s?this.changeNumber[n]+"十"+this.changeNumber[s]:this.changeNumber[n]+"十"}return i}}),cc._RF.pop()},{}],AnimationHardBoci:[function(t,e,i){"use strict";cc._RF.push(e,"4e3e0Ze8aFIfJqjgH8ZPpYm","AnimationHardBoci");var o=t("AnimationDestroy"),n=t("Common");cc.Class({extends:cc.Component,properties:{hardNboPF:cc.Prefab,animEffect:{default:null,url:cc.AudioClip}},onLoad:function(){n.HardModel||(this.node.active=!1),this.count=0,this.node.setLocalZOrder(12)},bociAnimation:function(t){n.EffectOffset&&cc.audioEngine.play(this.animEffect,!1,1),(new o).hardModeNbo(this.node,t,this.hardNboPF),this.setScaleFlag=!0},update:function(){this.setScaleFlag&&this.count<70&&(this.count+=1,cc.director.getScheduler().setTimeScale(1),68===this.count&&(this.setScaleFlag=!1,this.count=0,n.TaoFaDongZhuo?cc.find("Canvas/dongZhuo").getComponent("Dongzhuo").setPreScale():n.RedWar?cc.find("Canvas/redWar").getComponent("RedWar").setPreScale():n.QuEZhiZhan&&cc.find("Canvas/queWar").getComponent("QuEWar").setPreScale()))}}),cc._RF.pop()},{AnimationDestroy:"AnimationDestroy",Common:"Common"}],BLGame:[function(t,e,i){"use strict";cc._RF.push(e,"56e87NJffJCrbf+RrJwDG/m","BLGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{startAnim:cc.Node,totalTime:{default:null,type:cc.Label,tooltip:"一局总计时"},enemyTroop:{default:null,type:cc.Node,tooltip:"敌军可布置兵力"},totalTroop:{default:null,type:cc.Label,tooltip:"玩家可布置兵力"},coolingYellow:{default:null,type:cc.Prefab,tooltip:"兵力放置冷却条"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},overBattle:{default:null,type:cc.Layout,tooltip:"失败结算"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},nullNode:cc.Node,upZhedang:cc.Sprite,timeNode:cc.Node,timeAction:cc.Node,exitBox:cc.Prefab},onLoad:function(){this.upZhedang.node.setLocalZOrder(1),this.timeNode.setLocalZOrder(2),o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),this.bgmID=cc.audioEngine.play(this.battleMusic,!0,.4)),cc.director.getCollisionManager().enabled=!0,o.HardModel&&(this.totalTime.node.active=!1,this.timeAction.active=!1),o.returnOnce=!0,this.flag=!0,this.clickNumber=4,this.totalCooling=[],this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.rWidth=98,this.rHeight=104,this.spacing=(this.screenWidth-5*this.rWidth)/3-5,this.spawnY=.5*-this.screenHeight+19,this.initCoolingBlock()},startGame:function(){this.startAnim.active=!0,this.startAnim.setLocalZOrder(11),this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal;var t=cc.delayTime(3),e=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard13","start"):s.UMLevelCheck("level13","start"),o.HardModel||this.totalTime.getComponent("BLstageTimer").startmyUpdate(),this.totalTroop.getComponent("BLtroopIncrease").troopStartUpdate(),this.enemyTroop.getComponent("BLtroopLayout").startmyUpdate();for(var t=0;t<this.totalCooling.length;++t)for(var e=0;e<this.totalCooling[t].length;++e)this.totalCooling[t][e].getComponent("BLyellow").openTouch();this.returnMenu()},this);this.node.runAction(cc.sequence(t,e))},lineIntoCooling:function(t){for(var e=0;e<this.totalCooling.length;++e)for(var i=0;i<this.totalCooling[e].length;++i)e===t&&this.totalCooling[e][i].getComponent("BLyellow").showCooling()},initCoolingBlock:function(){for(var t=0;t<3;++t){for(var e=[],i=0;i<5;++i){var n=cc.instantiate(this.coolingYellow);n.parent=this.node,n.getChildByName("cooling").x=2*i,0===t?(n.tag=1,o.HardModel?n.getComponent("BLyellow").setCoolingTime(48,1.25):n.getComponent("BLyellow").setCoolingTime(60,1)):1===t?(n.tag=2,o.HardModel?n.getComponent("BLyellow").setCoolingTime(54,1.11):n.getComponent("BLyellow").setCoolingTime(72,.83)):2===t&&(n.tag=3,o.HardModel?n.getComponent("BLyellow").setCoolingTime(60,1):n.getComponent("BLyellow").setCoolingTime(84,.66)),e.push(n)}this.totalCooling.push(e)}this.setCoolingPos(this.totalCooling)},setCoolingPos:function(t){for(var e=0;e<t.length;++e)for(var i=39,o=2,n=0;n<t[e].length;++n)2===n?i=38:3===n?i=37:4===n&&(i=37),t[e][n].setPosition(.5*-this.screenWidth+this.spacing+n*this.spacing+n*this.rWidth+60-n*i,this.spawnY+this.rHeight*(3-e)-2*e+2),3!==n&&4!==n||(o=1.4),t[e][n].getChildByName("blsDisable").setPosition(n*o,0)},totalTroopMinus:function(t){this.totalTroop.getComponent("BLtroopIncrease").minusTroop(t)},totalTroopReturn:function(){return this.totalTroop.getComponent("BLtroopIncrease").troopReturn()},stopGame:function(){o.HardModel||cc.director.getScheduler().pauseTarget(this.totalTime.getComponent("BLstageTimer")),cc.director.getScheduler().pauseTarget(this.totalTroop.getComponent("BLtroopIncrease")),cc.director.getScheduler().pauseTarget(this.enemyTroop.getComponent("BLtroopLayout")),this.enemyTroop.getComponent("BLtroopLayout").allChildrenStopUpdate();for(t=0;t<this.totalCooling.length;++t)for(e=0;e<this.totalCooling[t].length;++e)this.totalCooling[t][e].getComponent("BLyellow").closeTouch(),cc.director.getScheduler().pauseTarget(this.totalCooling[t][e].getComponent("BLyellow"));for(var t=0;t<this.totalCooling.length;++t)for(var e=0;e<this.totalCooling[t].length;++e)if(this.totalCooling[t][e].childrenCount>0)for(var i=0;i<this.totalCooling[t][e].children.length;++i)"BLarexOneR"!==this.totalCooling[t][e].children[i].name&&"BLarexTwoR"!==this.totalCooling[t][e].children[i].name&&"BLarexThreeR"!==this.totalCooling[t][e].children[i].name||cc.director.getScheduler().pauseTarget(this.totalCooling[t][e].children[i].getComponent("BLarexRScroll"))},resumeGame:function(){o.HardModel||cc.director.getScheduler().resumeTarget(this.totalTime.getComponent("BLstageTimer")),cc.director.getScheduler().resumeTarget(this.totalTroop.getComponent("BLtroopIncrease")),cc.director.getScheduler().resumeTarget(this.enemyTroop.getComponent("BLtroopLayout")),this.enemyTroop.getComponent("BLtroopLayout").allChildrenResumeUpdate();for(t=0;t<this.totalCooling.length;++t)for(e=0;e<this.totalCooling[t].length;++e)this.totalCooling[t][e].getComponent("BLyellow").openTouch(),cc.director.getScheduler().resumeTarget(this.totalCooling[t][e].getComponent("BLyellow"));for(var t=0;t<this.totalCooling.length;++t)for(var e=0;e<this.totalCooling[t].length;++e)if(this.totalCooling[t][e].childrenCount>0)for(var i=0;i<this.totalCooling[t][e].children.length;++i)"BLarexOneR"!==this.totalCooling[t][e].children[i].name&&"BLarexTwoR"!==this.totalCooling[t][e].children[i].name&&"BLarexThreeR"!==this.totalCooling[t][e].children[i].name||cc.director.getScheduler().resumeTarget(this.totalCooling[t][e].children[i].getComponent("BLarexRScroll"))},checkBlood:function(){if(this.clickNumber>0){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5),i=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e,i))}0===this.clickNumber&&this.flag&&(this.flag=!1,this.clickN())},clickN:function(){this.stopGame(),this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=cc.hide(),i=cc.scaleTo(0,.1),n=cc.show(),a=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),h=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),l=cc.delayTime(2.5),u=cc.delayTime(1),d=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11);var c=cc.find("Canvas/OverBattle").getComponent("GameOver");o.HardModel||s.UMLevelCheck("level13","fail"),c.battleScore(t,0);var r=this,h=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(r.bgmID),o.HardModel&&o.EffectOffset?cc.audioEngine.play(r.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(r.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(e,i,n,a,h))},this);this.node.runAction(cc.sequence(c,r,u,h,l,d))},overSuccess:function(){this.stopGame(),this.scoreDisplay.string=parseInt(this.scoreDisplay.string),this.callOne=!1,this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=cc.hide(),i=cc.scaleTo(0,.1),n=cc.show(),a=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),h=cc.delayTime(2.5),l=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var c=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||s.UMLevelCheck("level13","finish"),o.HardModel||c.judgeOnce(-1),c.battleScore(t,0);var r=this,h=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(r.bgmID),o.EffectOffset&&cc.audioEngine.play(r.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(e,i,n,a,h))},this);this.node.runAction(cc.sequence(c,r,h,l))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],BLarexRScroll:[function(t,e,i){"use strict";cc._RF.push(e,"2e9a5aiprdJIagTA+hgxJVZ","BLarexRScroll"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.yy=0,this.collisionFlag=!0,this.nodeGrandFather=this.node.parent.parent.getChildByName("troopLayout").getComponent("BLtroopLayout"),this.startUpdate()},myUpdate:function(t){this.yy=this.node.y,this.yy+=t*this.nodeGrandFather.speedBlock,this.node.y=this.yy},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){this.unschedule(this.myUpdate)},getNodeY:function(){return this.node.y}}),cc._RF.pop()},{}],BLarexR:[function(t,e,i){"use strict";cc._RF.push(e,"21b2cYTQxNPV4S+sMIKOKYv","BLarexR"),cc.Class({extends:cc.Component,properties:{scorePf:{default:null,type:cc.Prefab,tooltip:"增加的分数"}},onLoad:function(){this.nodeGrandFather=this.node.parent.parent.getChildByName("troopLayout").getComponent("BLtroopLayout")},onCollisionEnter:function(t,e){if(100===t.tag&&e.node.getComponent("BLarexRScroll").collisionFlag&&255===e.node.opacity){e.node.getComponent(cc.Collider).enabeld=!1,e.node.getComponent("BLarexRScroll").collisionFlag=!1;var i=cc.instantiate(this.scorePf);i.getComponent(cc.Label).string="50",i.parent=e.node;var o=cc.callFunc(function(){e.node.removeFromParent(),e.node.destroy()},this);this.node.runAction(cc.sequence(cc.fadeOut(1.5),o)),this.nodeGrandFather.addScore(50)}}}),cc._RF.pop()},{}],BLarex:[function(t,e,i){"use strict";cc._RF.push(e,"0f878/IqtVNrrvQN0PsMcG5","BLarex"),cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},killAnimEffect:{default:null,type:cc.Prefab,tooltip:"击杀动画和音效"},scorePf:{default:null,type:cc.Prefab,tooltip:"增加的分数"},changeArex:{default:[],type:cc.Prefab,tooltip:"敌军1,2,3级, 玩家1,2,3级兵"},changeAnim:{default:null,type:cc.Prefab,tooltip:"变换动画"}},onLoad:function(){this.yy=0,this.collisionFlag=!0,this.screenHeight=cc.director.getVisibleSize().height,this.recoverHeight=.5*-this.screenHeight-150,this.nodeParent=this.node.parent.getComponent("BLtroopLayout"),this.nodeGrandFather=this.node.parent.parent.getComponent("BLGame")},newArex:function(t,e){var i=cc.instantiate(this.changeArex[t]);i.setPosition(e.node.x,e.node.y),i.parent=e.node.parent;var o=cc.instantiate(this.changeAnim);o.parent=i,o.getComponent(cc.Animation).on("finished",function(){o.removeFromParent(),o.destroy()},o),12===e.tag||22===e.tag||32===e.tag?(e.node.getComponent("BLarex").stopUpdate(),e.node.tag=44,i.getComponent("BLarex").startUpdate(),e.node.runAction(cc.hide()),e.node.getComponent(cc.Collider).enabled=!1):(e.node.getComponent("BLarexRScroll").stopUpdate(),e.node.removeFromParent(),e.node.destroy())},destroySingleAres:function(t){12===t.tag||22===t.tag||32===t.tag?(t.node.getComponent("BLarex").collisionFlag=!1,t.node.tag=44,t.node.getComponent("BLarex").stopUpdate()):(t.node.getComponent("BLarexRScroll").collisionFlag=!1,t.node.getComponent("BLarexRScroll").stopUpdate());var e=cc.instantiate(this.killAnimEffect);t.node.addChild(e),t.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){12===t.tag||22===t.tag||32===t.tag?t.node.getComponent(cc.Collider).enabled=!1:(t.node.removeFromParent(),t.node.destroy())},t)))},destroyArex:function(t,e){e.node.getComponent("BLarex").collisionFlag=!1,e.node.tag=44,t.node.getComponent("BLarexRScroll").collisionFlag=!1;var i=this,o=cc.instantiate(i.killAnimEffect);e.node.addChild(o);var n=cc.instantiate(i.killAnimEffect);t.node.addChild(n);var s=cc.callFunc(function(){e.node.getComponent("BLarex").stopUpdate(),t.node.getComponent("BLarexRScroll").stopUpdate(),t.node.runAction(cc.fadeOut(1)),e.node.runAction(cc.fadeOut(1))},i),a=cc.delayTime(1),c=cc.callFunc(function(){t.node.removeFromParent(),t.node.destroy(),e.node.getComponent(cc.Collider).enabled=!1},i);i.node.runAction(cc.sequence(s,a,c))},scoreEffect:function(t,e){var i=cc.instantiate(this.scorePf);i.getComponent(cc.Label).string=""+e,i.parent=t.node,"BLarexOne"===t.node.name||"BLarexTwo"===t.node.name||"BLarexThree"===t.node.name?i.y=-40:i.y=40},onCollisionEnter:function(t,e){101===t.tag?(t.node.runAction(cc.blink(1,3)),this.nodeGrandFather.checkBlood(),e.node.runAction(cc.fadeOut(1)),e.node.getComponent(cc.Collider).enabled=!1,this.nodeParent.removeFlag=!0,cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))):0!=t.tag&&e.node.getComponent("BLarex").collisionFlag&&t.node.getComponent("BLarexRScroll").collisionFlag&&(12===e.tag?11===t.tag?(this.scoreEffect(e,100),this.nodeParent.addScore(100),this.destroyArex(t,e)):21===t.tag?(this.scoreEffect(e,100),this.destroySingleAres(e),this.newArex(3,t),this.nodeParent.addScore(100)):31===t.tag&&(this.scoreEffect(e,100),this.destroySingleAres(e),this.newArex(4,t),this.nodeParent.addScore(100)):22===e.tag?11===t.tag?(this.scoreEffect(t,100),this.destroySingleAres(t),this.newArex(0,e),this.nodeParent.addScore(100)):21===t.tag?(this.scoreEffect(e,200),this.nodeParent.addScore(200),this.destroyArex(t,e)):31===t.tag&&(this.scoreEffect(e,200),this.destroySingleAres(e),this.newArex(3,t),this.nodeParent.addScore(200)):32===e.tag&&(11===t.tag?(this.scoreEffect(t,100),this.destroySingleAres(t),this.newArex(1,e),this.nodeParent.addScore(100)):21===t.tag?(this.scoreEffect(t,200),this.destroySingleAres(t),this.newArex(0,e),this.nodeParent.addScore(200)):31===t.tag&&(this.scoreEffect(e,300),this.nodeParent.addScore(300),this.destroyArex(t,e))))},myUpdate:function(t){this.yy=this.node.y,this.yy-=t*this.nodeParent.speedBlock,this.node.y=this.yy},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){var t=this;t.unschedule(t.myUpdate)},getNodeY:function(){return this.node.y}}),cc._RF.pop()},{}],BLattackAnim:[function(t,e,i){"use strict";cc._RF.push(e,"3f6b5wqHXdEtrVq2CvehjcX","BLattackAnim");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效"}},onLoad:function(){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())])}}),cc._RF.pop()},{Common:"Common"}],BLstageTimer:[function(t,e,i){"use strict";cc._RF.push(e,"b7811KIGBNF9L6rYggorFN4","BLstageTimer");t("Common");cc.Class({extends:cc.Component,properties:{minusDisplay:{default:null,type:cc.Label},secondsDisplay:{default:null,type:cc.Label},game:{default:null,serializable:!1}},onLoad:function(){this.minus=2,this.minusDisplay.string=this.minus+"",this.totalTime=60,this.secondsDisplay.string="00",this.beginMius=this.minus,this.node.parent.parent.setLocalZOrder(11),this.flag=!0},init:function(t){this.game=t},scaleAction:function(t){var e=cc.scaleBy(1,1.8),i=e.reverse();t.runAction(cc.sequence(e,i))},myUpdate:function(){this.totalTime--,this.minus>=1&&59===this.totalTime?(this.minus--,this.minusDisplay.string=this.minus+"",this.secondsDisplay.string=this.totalTime+""):this.totalTime<10?(this.secondsDisplay.string="0"+this.totalTime,0===this.totalTime&&this.minus>=1&&(this.totalTime=60)):(this.secondsDisplay.string=""+this.totalTime,this.minus===this.beginMius&&(this.minus--,this.minusDisplay.string=this.minus+"")),0===this.minus&&3===this.totalTime&&this.scaleAction(this.node.parent),0===this.minus&&0===this.totalTime&&this.flag&&(this.flag=!1,this.unschedule(this.myUpdate),this.node.parent.parent.parent.getComponent("BLGame").clickNumber>0?this.node.parent.parent.parent.getComponent("BLGame").overSuccess():this.node.parent.parent.parent.getComponent("BLGame").clickN())},startmyUpdate:function(){this.schedule(this.myUpdate,1)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],BLtroopIncrease:[function(t,e,i){"use strict";cc._RF.push(e,"568b6D8lGZA0pzAB5xSS4Yw","BLtroopIncrease");var o=t("Common");cc.Class({extends:cc.Component,properties:{troopNumber:{default:null,type:cc.Label,tooltip:"可放置兵力总数"}},onLoad:function(){this.node.setLocalZOrder(11)},myUpdate:function(t){var e=parseInt(this.troopNumber.string);++e,this.troopNumber.string=e+""},troopStartUpdate:function(){var t=this;o.HardModel?t.schedule(t.myUpdate,.6):t.schedule(t.myUpdate,.7)},troopStopUpdate:function(){var t=this;t.unschedule(t.myUpdate)},minusTroop:function(t){var e=parseInt(this.troopNumber.string);e-=t,this.troopNumber.string=e+""},troopReturn:function(){return parseInt(this.troopNumber.string)}}),cc._RF.pop()},{Common:"Common"}],BLtroopLayout:[function(t,e,i){"use strict";cc._RF.push(e,"1276d5YBE1E86I6o2iQ5vWH","BLtroopLayout");var o=t("Common");cc.Class({extends:cc.Component,properties:{enemyPf:{default:[],type:cc.Prefab,tooltip:"敌方1,2,3级兵, 空白格"},playerPf:{default:[],type:cc.Prefab,tooltip:"玩家1,2,3级兵"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时增加块速度",type:cc.Integer}},onLoad:function(){this.tempColor=[],this.resetLine=this.rainbowLine,this.totalArr=[],this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.rWidth=98,this.rHeight=104,this.spawnY=.5*this.screenHeight+this.rHeight,this.spawnHeight=.5*this.screenHeight-5,this.spacing=(this.screenWidth-5*this.rWidth)/3-5,this.spawnX=.5*-this.screenWidth+this.spacing+60,this.removeFlag=!1,this.overHeight=.5*-this.screenHeight-20,this.speedBlock=75,this.spawnLine(),this.spawnY+=10,this.deleteHeight=!1,this.overHeight=.5*-this.screenHeight-20},startmyUpdate:function(){this.schedule(this.myUpdate,0)},stopmyUpdate:function(){for(var t=0;t<this.totalArr.length;++t)for(var e=0;e<this.totalArr[t].length;++e)this.totalArr[t][e].getComponent("BLarex").stopUpdate();this.unschedule(this.myUpdate)},allChildrenStopUpdate:function(){if(this.node.childrenCount>0)for(var t=0;t<this.node.children.length;++t)"BLarexOne"!==this.node.children[t].name&&"BLarexTwo"!==this.node.children[t].name&&"BLarexThree"!==this.node.children[t].name||cc.director.getScheduler().pauseTarget(this.node.children[t].getComponent("BLarex"))},allChildrenResumeUpdate:function(){if(this.node.childrenCount>0)for(var t=0;t<this.node.children.length;++t)"BLarexOne"!==this.node.children[t].name&&"BLarexTwo"!==this.node.children[t].name&&"BLarexThree"!==this.node.children[t].name||cc.director.getScheduler().resumeTarget(this.node.children[t].getComponent("BLarex"))},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++){this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.spawnLine(),0==this.rainbowLine&&(o.HardModel?this.speedBlock+=10:this.speedBlock+=4,this.rainbowLine=this.resetLine));for(var i=0;i<this.temp.length;i++)44!=this.temp[i].tag&&this.temp[i].getComponent("BLarex").myUpdate(t),"BLenemyYellow"==this.temp[i].name&&this.temp[i].y<this.overHeight&&(this.removeFlag=!0);this.removeFlag&&(this.removeFlag=!1,this.removeLine(this.temp))}},removeLine:function(t){this.totalArr.shift();for(var e=0;e<t.length;++e)t[e].removeFromParent(),t[e].destroy()},randomColor:function(){var t=Math.floor(10*Math.random()+1);if(t<6){var e=cc.instantiate(this.enemyPf[0]);this.tempColor.push(e)}else if(t<9){var i=cc.instantiate(this.enemyPf[1]);this.tempColor.push(i)}else if(t<=10){o=cc.instantiate(this.enemyPf[2]);this.tempColor.push(o)}else{var o=cc.instantiate(this.enemyPf[2]);this.tempColor.push(o)}for(var n=0;n<4;++n){var s=cc.instantiate(this.enemyPf[3]);this.tempColor.push(s)}this.tempColor.sort(function(){return.5-Math.random()})},spawnLine:function(){this.rainbowLine--,this.randomColor();for(var t=0;t<this.tempColor.length;t++){this.tempColor[t].opacity=255,this.tempColor[t].parent=this.node;var e=40;t>=2&&(e=37),this.tempColor[t].setPosition(this.spawnX+t*this.spacing+t*this.rWidth-t*e,this.spawnY)}this.totalArr.push(this.tempColor),this.tempColor=[]},addScore:function(t){this.scoreDisplay.string=t+parseInt(this.scoreDisplay.string)+""}}),cc._RF.pop()},{Common:"Common"}],BLyellow:[function(t,e,i){"use strict";cc._RF.push(e,"2563dDsX+lHcIKbRNRWwaPs","BLyellow");var o=t("Common");cc.Class({extends:cc.Component,properties:{coolingSection:{default:null,type:cc.ProgressBar},coolingNode:{default:null,type:cc.Node,tooltip:"冷却节点"},arexPf:{default:[],type:cc.Prefab,tooltip:"1级,2级,3级兵"},disableSprite:{default:null,type:cc.Sprite,tooltip:"禁止摆放提示"},putSoldierEffect:{default:null,url:cc.AudioClip}},onLoad:function(){this.coolingSection.progress=1,this.tempTime=-1,this.arexTime=0,this.speed=.83,this.collisionFlag=!0,this.disableSprite.node.runAction(cc.hide()),this.parentNode=this.node.parent.getComponent("BLGame")},onCollisionEnter:function(t,e){this.closeTouch()},onCollisionStay:function(t,e){this.closeTouch(),this.disableSprite.node.runAction(cc.show())},onCollisionExit:function(t,e){this.openTouch(),this.disableSprite.node.runAction(cc.hide())},openTouch:function(){var t=this;t.node.on("touchstart",t.touchCtrl,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.touchCtrl,t)},touchCtrl:function(t){if(1===this.coolingSection.progress)if(1===this.node.tag)if(this.parentNode.totalTroopReturn()>=1){o.EffectOffset&&cc.audioEngine.play(this.putSoldierEffect,!1,1);var e=cc.instantiate(this.arexPf[0]);this.node.addChild(e),this.parentNode.lineIntoCooling(0),this.parentNode.totalTroopMinus(1)}else this.node.getChildByName("blsTroopLess").runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1.5)));else if(2===this.node.tag)if(this.parentNode.totalTroopReturn()>=2){o.EffectOffset&&cc.audioEngine.play(this.putSoldierEffect,!1,1);var i=cc.instantiate(this.arexPf[1]);this.node.addChild(i),this.parentNode.lineIntoCooling(1),this.parentNode.totalTroopMinus(2)}else this.node.getChildByName("blsTroopLess").runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1.5)));else if(3===this.node.tag)if(this.parentNode.totalTroopReturn()>=3){o.EffectOffset&&cc.audioEngine.play(this.putSoldierEffect,!1,1);var n=cc.instantiate(this.arexPf[2]);this.node.addChild(n),this.parentNode.lineIntoCooling(2),this.parentNode.totalTroopMinus(3)}else this.node.getChildByName("blsTroopLess").runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1.5)))},setCoolingTime:function(t,e){this.coolingSection.progress=1,this.tempTime=-1,this.arexTime=t,this.speed=e},hideCooling:function(){this.coolingSection.progress=1,this.tempTime=-1,this.coolingSection.node.opacity=0,this.unschedule(this.coolingUpdate),this.openTouch()},showCooling:function(){this.coolingSection.node.opacity=255,this.startCoolingUpdate()},coolingUpdate:function(t){this.tempTime+=1;var e=this.coolingSection.progress;e-=t*this.speed,this.coolingSection.progress=e,this.tempTime===this.arexTime&&this.hideCooling()},startCoolingUpdate:function(){var t=this;t.schedule(t.coolingUpdate,0)},stopCoolingUpdate:function(){var t=this;t.unschedule(t.coolingUpdate)}}),cc._RF.pop()},{Common:"Common"}],BattleControl:[function(t,e,i){"use strict";cc._RF.push(e,"3e6f6GaKMBKMJhwS32/9rzD","BattleControl");var o=t("Common"),n=t("JsToJava");cc.Class({extends:cc.Component,properties:{battleLayer:cc.Layout,dongzhuoLayer:cc.Layout,redwarLayer:cc.Layout,xuzhouLayer:cc.Sprite,duijiuLayer:cc.Sprite,tongguanLayer:cc.Sprite,guanduLayer:cc.Sprite,yizhouLayer:cc.Sprite,queLayer:cc.Sprite,hefeiLayer:cc.Sprite,puyangLayer:cc.Sprite,pingyangLayer:cc.Sprite,xingtianLayer:cc.Sprite,bailangLayer:cc.Sprite,startAnimBG:cc.Sprite,startAnimXingTian:cc.Sprite,startAnimYiZhou:cc.Sprite,startAnimRedWar:cc.Sprite,startAnimDuiJiu:cc.Sprite,startAnimGuanduHeiFei:cc.Sprite,generalAnimNode:cc.Node,singleAnimNode:cc.Node,fullScreenBloodEffect:cc.Sprite},onLoad:function(){cc.find("Canvas/left").setLocalZOrder(31),n.MultipleTouchState("open"),this.fullScreenBloodEffect.node.setLocalZOrder(31),o.FirstGame||(this.singleAnimNode.setLocalZOrder(10),this.generalAnimNode.setLocalZOrder(10)),o.TaoFaDongZhuo?(this.dongzhuoLayer.node.active=!0,o.FirstGame||(this.startAnimBG.node.active=!0)):o.RedWar?(this.redwarLayer.node.active=!0,this.startAnimRedWar.node.active=!0):o.XuZhouZhiZhan?(this.xuzhouLayer.node.active=!0,this.startAnimBG.node.active=!0):o.DuiJiuDangGe?(this.duijiuLayer.node.active=!0,this.startAnimDuiJiu.node.active=!0):o.TongGuanZhiZhan?(this.tongguanLayer.node.active=!0,this.startAnimBG.node.active=!0):o.GuanDuZhiZhan?(this.guanduLayer.node.active=!0,this.startAnimGuanduHeiFei.node.active=!0):o.YiZhouZhiZhan?(this.yizhouLayer.node.active=!0,this.startAnimYiZhou.node.active=!0):o.QuEZhiZhan?(this.queLayer.node.active=!0,this.startAnimBG.node.active=!0):o.HeFeiZhiZhan?(this.hefeiLayer.node.active=!0,this.startAnimGuanduHeiFei.node.active=!0):o.PuYangZhiZhan?(this.puyangLayer.node.active=!0,this.startAnimBG.node.active=!0):o.PingYangZhiZhan?(this.battleLayer.node.active=!1,this.pingyangLayer.node.active=!0,this.startAnimBG.node.active=!0):o.XingTianGuanCe?(this.xingtianLayer.node.active=!0,this.startAnimXingTian.node.active=!0):o.BaiLangShan&&(this.bailangLayer.node.active=!0,this.startAnimBG.node.active=!0)}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava"}],BattleGuideClose:[function(t,e,i){"use strict";cc._RF.push(e,"e5ef9msl8JBQoH8GAYZ/O2O","BattleGuideClose");var o=t("Common");cc.Class({extends:cc.Component,properties:{closeTip:{default:null,type:cc.Label,tooltip:"点击任意位置继续"},tipButton:cc.Sprite,startAnim:cc.Node,startAnimBG:cc.Sprite,startAnimXingTian:cc.Sprite,startAnimYiZhou:cc.Sprite,startAnimRedWar:cc.Sprite,startAnimDuiJiu:cc.Sprite,startAnimGuanduHeiFei:cc.Sprite,guideBtn:cc.Button,dongzhuoLayer:cc.Node,redwarLayer:cc.Node,xuzhouLayer:cc.Node,duijiuLayer:cc.Node,tongguanLayer:cc.Node,guanduLayer:cc.Node,yizhouLayer:cc.Node,queLayer:cc.Node,hefeiLayer:cc.Node,puyangLayer:cc.Node,pingyangLayer:cc.Node,xingtianLayer:cc.Node,bailangLayer:cc.Node,dongzhuoLayerScene:cc.Layout,redwarLayerScene:cc.Layout,xuzhouLayerScene:cc.Sprite,xuzhouTimer:cc.Node,duijiuLayerScene:cc.Sprite,tongguanLayerScene:cc.Sprite,guanduLayerScene:cc.Sprite,yizhouLayerScene:cc.Sprite,queLayerScene:cc.Sprite,hefeiLayerScene:cc.Sprite,puyangLayerScene:cc.Sprite,pingyangLayerScene:cc.Sprite,xingtianLayerScene:cc.Sprite,bailangLayerScene:cc.Sprite},onLoad:function(){o.FirstGame||(this.node.setLocalZOrder(11),this.guideBtn.node.setLocalZOrder(9),this.startAnim.setLocalZOrder(11),this.pauseListen=!1,this.timeScale=1,this.closeTip.node.runAction(cc.repeatForever(cc.blink(2,3))),this.node.on("touchstart",function(t){t.stopPropagation(),this.closeWarGuideAnim(),this.pauseListen?(cc.director.getScheduler().setTimeScale(this.timeScale),this.resumeCurrentWar()):this.menuToBattle(),this.unschedule(this.myUpdate),this.node.active=!1},this),this.setWarGuide(),this.schedule(this.myUpdate,0))},showGuidBtn:function(){this.pauseListen=!0,this.node.active=!0,this.timeScale=cc.director.getScheduler().getTimeScale(),cc.director.getScheduler().setTimeScale(1),this.pauseCurrentWar(),this.setWarGuide(),this.schedule(this.myUpdate,0)},menuToBattle:function(){var t=this,e=cc.delayTime(3),i=cc.callFunc(function(){t.tipButton.getComponent(cc.Button).interactable=!0},t);t.tipButton.node.runAction(cc.sequence(e,i)),this.startAnimBG.node.active&&(this.startAnimBG.node.active=!1),o.TaoFaDongZhuo?this.dongzhuoLayerScene.node.getComponent("Dongzhuo").startGame():o.RedWar?(this.startAnimRedWar.node.active=!1,this.redwarLayerScene.node.getComponent("RedWar").startGame()):o.XuZhouZhiZhan?this.xuzhouLayerScene.node.getComponent("LimitGame").startGame():o.DuiJiuDangGe?(this.startAnimDuiJiu.node.active=!1,this.duijiuLayerScene.node.getComponent("GGame").startGame()):o.TongGuanZhiZhan?this.tongguanLayerScene.node.getComponent("TGame").startGame():o.GuanDuZhiZhan?(this.startAnimGuanduHeiFei.node.active=!1,this.guanduLayerScene.node.getComponent("GDGame").startGame()):o.YiZhouZhiZhan?(this.yizhouLayerScene.node.getComponent("YGame").startGame(),this.startAnimYiZhou.node.active=!1):o.QuEZhiZhan?this.queLayerScene.node.getComponent("QuEWar").startGame():o.HeFeiZhiZhan?(this.startAnimGuanduHeiFei.node.active=!1,this.hefeiLayerScene.node.getComponent("HGame").startGame()):o.PuYangZhiZhan?this.puyangLayerScene.node.getComponent("PUGame").startGame():o.PingYangZhiZhan?this.pingyangLayerScene.node.getComponent("PingGame").startGame():o.XingTianGuanCe?(this.startAnimXingTian.node.active=!1,this.xingtianLayerScene.node.getComponent("XGame").startGame()):o.BaiLangShan&&this.bailangLayerScene.node.getComponent("BLGame").startGame()},pauseCurrentWar:function(){o.TaoFaDongZhuo?(cc.director.getScheduler().pauseTarget(this.dongzhuoLayerScene.node.getComponent("Dongzhuo")),this.pauseCountdown(this.dongzhuoLayerScene.node,this.dongzhuoLayerScene.node.getComponent("Dongzhuo")),cc.director.getScheduler().pauseTarget(this.dongzhuoLayerScene.node.getChildByName("zhuoNode").getComponent("ZhuoScroll")),this.dongzhuoLayerScene.node.getChildByName("zhuoNode").getComponent("ZhuoScroll").bossTimerPause()):o.RedWar?(cc.director.getScheduler().pauseTarget(this.redwarLayerScene.node.getComponent("RedWar")),this.pauseCountdown(this.redwarLayerScene.node,this.redwarLayerScene.node.getComponent("RedWar")),cc.director.getScheduler().pauseTarget(this.redwarLayerScene.node.getChildByName("redWarFormation").getComponent("RFormationScroll")),this.redwarLayerScene.node.getChildByName("redWarFormation").getComponent("RFormationScroll").pauseBlockTime()):o.XuZhouZhiZhan?cc.director.getScheduler().pauseTarget(this.xuzhouTimer.getComponent("LTimer")):o.DuiJiuDangGe?(cc.director.getScheduler().pauseTarget(this.duijiuLayerScene.node.getChildByName("seconds").getComponent("GTimer")),this.pauseCountdown(this.duijiuLayerScene.node,this.duijiuLayerScene.node.getComponent("GGame")),this.duijiuLayerScene.getComponent("GGame").currentBlockPause()):o.TongGuanZhiZhan?(cc.director.getScheduler().pauseTarget(this.tongguanLayerScene.node.getComponent("TGame")),this.pauseCountdown(this.tongguanLayerScene.node,this.tongguanLayerScene.node.getComponent("TGame"))):o.GuanDuZhiZhan?(cc.director.getScheduler().pauseTarget(this.guanduLayerScene.node.getComponent("GDGame")),this.pauseCountdown(this.guanduLayerScene.node,this.guanduLayerScene.node.getComponent("GDGame")),this.guanduLayerScene.node.getComponent("GDGame").pauseWarTimer()):o.YiZhouZhiZhan?(cc.director.getScheduler().pauseTarget(this.yizhouLayerScene.node.getComponent("YGame")),this.pauseCountdown(this.yizhouLayerScene.node,this.yizhouLayerScene.node.getComponent("YGame")),cc.director.getScheduler().pauseTarget(this.yizhouLayerScene.node.getChildByName("seconds").getComponent("YTimer"))):o.QuEZhiZhan?(cc.director.getScheduler().pauseTarget(this.queLayerScene.node.getComponent("QuEWar")),cc.director.getScheduler().pauseTarget(this.queLayerScene.node.getChildByName("redWarFormation").getComponent("QFormationScroll")),this.queLayerScene.node.getChildByName("redWarFormation").getComponent("QFormationScroll").pauseBlockTime(),this.pauseCountdown(this.queLayerScene.node,this.queLayerScene.node.getComponent("QuEWar"))):o.HeFeiZhiZhan?(cc.director.getScheduler().pauseTarget(this.hefeiLayerScene.node.getComponent("HGame")),this.hefeiLayerScene.node.getComponent("HGame").pauseWarTimer(),this.pauseCountdown(this.hefeiLayerScene.node,this.hefeiLayerScene.node.getComponent("HGame"))):o.PuYangZhiZhan?(this.puyangLayerScene.node.getComponent("PUGame").pauseWarTimer(),this.pauseCountdown(this.puyangLayerScene.node,this.puyangLayerScene.node.getComponent("PUGame"))):o.PingYangZhiZhan?(cc.director.getScheduler().pauseTarget(this.pingyangLayerScene.node.getComponent("PingGame")),this.pauseCountdown(this.pingyangLayerScene.node,this.pingyangLayerScene.node.getComponent("PingGame"))):o.XingTianGuanCe?(cc.director.getScheduler().pauseTarget(this.xingtianLayerScene.node.getComponent("XGame")),this.xingtianLayerScene.node.getComponent("XGame").pauseWarTimer(),this.pauseCountdown(this.xingtianLayerScene.node,this.xingtianLayerScene.node.getComponent("XGame"))):o.BaiLangShan&&(this.bailangLayerScene.node.getComponent("BLGame").stopGame(),this.pauseCountdown(this.bailangLayerScene.node,this.bailangLayerScene.node.getComponent("BLGame")))},pauseCountdown:function(t,e){t.pauseAllActions(),e.startAnim.children[0]&&e.startAnim.children[0].getComponent(cc.Animation).pause()},resumeCountdown:function(t,e){t.resumeAllActions(),e.startAnim.children[0]&&e.startAnim.children[0].getComponent(cc.Animation).resume()},resumeCurrentWar:function(){o.TaoFaDongZhuo?(cc.director.getScheduler().resumeTarget(this.dongzhuoLayerScene.node.getComponent("Dongzhuo")),this.resumeCountdown(this.dongzhuoLayerScene.node,this.dongzhuoLayerScene.node.getComponent("Dongzhuo")),cc.director.getScheduler().resumeTarget(this.dongzhuoLayerScene.node.getChildByName("zhuoNode").getComponent("ZhuoScroll")),this.dongzhuoLayerScene.node.getChildByName("zhuoNode").getComponent("ZhuoScroll").bossTimerResume()):o.RedWar?(cc.director.getScheduler().resumeTarget(this.redwarLayerScene.node.getComponent("RedWar")),this.resumeCountdown(this.redwarLayerScene.node,this.redwarLayerScene.node.getComponent("RedWar")),cc.director.getScheduler().resumeTarget(this.redwarLayerScene.node.getChildByName("redWarFormation").getComponent("RFormationScroll")),this.redwarLayerScene.node.getChildByName("redWarFormation").getComponent("RFormationScroll").resumeBlockTime()):o.XuZhouZhiZhan?cc.director.getScheduler().resumeTarget(this.xuzhouTimer.getComponent("LTimer")):o.DuiJiuDangGe?(cc.director.getScheduler().resumeTarget(this.duijiuLayerScene.node.getChildByName("seconds").getComponent("GTimer")),this.resumeCountdown(this.duijiuLayerScene.node,this.duijiuLayerScene.node.getComponent("GGame")),this.duijiuLayerScene.getComponent("GGame").currentBlockResume()):o.TongGuanZhiZhan?(cc.director.getScheduler().resumeTarget(this.tongguanLayerScene.node.getComponent("TGame")),this.resumeCountdown(this.tongguanLayerScene.node,this.tongguanLayerScene.node.getComponent("TGame"))):o.GuanDuZhiZhan?(cc.director.getScheduler().resumeTarget(this.guanduLayerScene.node.getComponent("GDGame")),this.resumeCountdown(this.guanduLayerScene.node,this.guanduLayerScene.node.getComponent("GDGame")),this.guanduLayerScene.node.getComponent("GDGame").resumeWarTimer()):o.YiZhouZhiZhan?(cc.director.getScheduler().resumeTarget(this.yizhouLayerScene.node.getComponent("YGame")),this.resumeCountdown(this.yizhouLayerScene.node,this.yizhouLayerScene.node.getComponent("YGame")),cc.director.getScheduler().resumeTarget(this.yizhouLayerScene.node.getChildByName("seconds").getComponent("YTimer"))):o.QuEZhiZhan?(cc.director.getScheduler().resumeTarget(this.queLayerScene.node.getComponent("QuEWar")),cc.director.getScheduler().resumeTarget(this.queLayerScene.node.getChildByName("redWarFormation").getComponent("QFormationScroll")),this.queLayerScene.node.getChildByName("redWarFormation").getComponent("QFormationScroll").resumeBlockTime(),this.resumeCountdown(this.queLayerScene.node,this.queLayerScene.node.getComponent("QuEWar"))):o.HeFeiZhiZhan?(cc.director.getScheduler().resumeTarget(this.hefeiLayerScene.node.getComponent("HGame")),this.hefeiLayerScene.node.getComponent("HGame").resumeWarTimer(),this.resumeCountdown(this.hefeiLayerScene.node,this.hefeiLayerScene.node.getComponent("HGame"))):o.PuYangZhiZhan?(this.puyangLayerScene.node.getComponent("PUGame").resumeWarTimer(),this.resumeCountdown(this.puyangLayerScene.node,this.puyangLayerScene.node.getComponent("PUGame"))):o.PingYangZhiZhan?(cc.director.getScheduler().resumeTarget(this.pingyangLayerScene.node.getComponent("PingGame")),this.resumeCountdown(this.pingyangLayerScene.node,this.pingyangLayerScene.node.getComponent("PingGame"))):o.XingTianGuanCe?(cc.director.getScheduler().resumeTarget(this.xingtianLayerScene.node.getComponent("XGame")),this.xingtianLayerScene.node.getComponent("XGame").resumeWarTimer(),this.resumeCountdown(this.xingtianLayerScene.node,this.xingtianLayerScene.node.getComponent("XGame"))):o.BaiLangShan&&(this.bailangLayerScene.node.getComponent("BLGame").resumeGame(),this.resumeCountdown(this.bailangLayerScene.node,this.bailangLayerScene.node.getComponent("BLGame")))},setWarGuide:function(){o.TaoFaDongZhuo?(this.dongzhuoLayer.active=!0,this.node.getChildByName("dongzhuo").getChildByName("d").getChildByName("t1").getComponent(cc.Animation).play()):o.RedWar?(this.redwarLayer.active=!0,this.node.getChildByName("chibi").getChildByName("d").getComponent(cc.Animation).play()):o.XuZhouZhiZhan?(this.xuzhouLayer.active=!0,this.node.getChildByName("xuzhou").getChildByName("d").getComponent(cc.Animation).play()):o.DuiJiuDangGe?(this.duijiuLayer.active=!0,this.node.getChildByName("duijiu").getChildByName("d").getComponent(cc.Animation).play()):o.TongGuanZhiZhan?(this.tongguanLayer.active=!0,this.node.getChildByName("tongguan").getChildByName("d").getComponent(cc.Animation).play()):o.GuanDuZhiZhan?(this.guanduLayer.active=!0,this.node.getChildByName("guandu").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).play()):o.YiZhouZhiZhan?(this.yizhouLayer.active=!0,this.node.getChildByName("yizhou").getChildByName("d").getChildByName("deng").getComponent(cc.Animation).play()):o.QuEZhiZhan?(this.queLayer.active=!0,this.node.getChildByName("que").getChildByName("d").getComponent(cc.Animation).play()):o.HeFeiZhiZhan?(this.hefeiLayer.active=!0,this.node.getChildByName("hefei").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).play()):o.PuYangZhiZhan?(this.puyangLayer.active=!0,this.node.getChildByName("puyang").getChildByName("d").getComponent(cc.Animation).play()):o.PingYangZhiZhan?(this.pingyangLayer.active=!0,this.node.getChildByName("pingyang").getChildByName("d").getComponent(cc.Animation).play()):o.XingTianGuanCe?(this.xingtianLayer.active=!0,this.node.getChildByName("xingtian").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).play()):o.BaiLangShan&&(this.bailangLayer.active=!0,this.node.getChildByName("bailangshan").getComponent(cc.Animation).play())},closeWarGuideAnim:function(){o.TaoFaDongZhuo?this.node.getChildByName("dongzhuo").getChildByName("d").getChildByName("t1").getComponent(cc.Animation).stop():o.RedWar?this.node.getChildByName("chibi").getChildByName("d").getComponent(cc.Animation).stop():o.XuZhouZhiZhan?this.node.getChildByName("xuzhou").getChildByName("d").getComponent(cc.Animation).stop():o.DuiJiuDangGe?this.node.getChildByName("duijiu").getChildByName("d").getComponent(cc.Animation).stop():o.TongGuanZhiZhan?this.node.getChildByName("tongguan").getChildByName("d").getComponent(cc.Animation).stop():o.GuanDuZhiZhan?this.node.getChildByName("guandu").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).stop():o.YiZhouZhiZhan?this.node.getChildByName("yizhou").getChildByName("d").getChildByName("deng").getComponent(cc.Animation).stop():o.QuEZhiZhan?this.node.getChildByName("que").getChildByName("d").getComponent(cc.Animation).stop():o.HeFeiZhiZhan?this.node.getChildByName("hefei").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).stop():o.PuYangZhiZhan?this.node.getChildByName("puyang").getChildByName("d").getComponent(cc.Animation).stop():o.PingYangZhiZhan?this.node.getChildByName("pingyang").getChildByName("d").getComponent(cc.Animation).stop():o.XingTianGuanCe?this.node.getChildByName("xingtian").getChildByName("d").getChildByName("bg").getComponent(cc.Animation).stop():o.BaiLangShan&&this.node.getChildByName("bailangshan").getComponent(cc.Animation).stop()},myUpdate:function(){this.pauseCurrentWar()}}),cc._RF.pop()},{Common:"Common"}],BattleGuideText:[function(t,e,i){"use strict";cc._RF.push(e,"de30dZRG0RJc5fBXRcQNdi0","BattleGuideText");var o=t("Common");cc.Class({extends:cc.Component,properties:{battleName:cc.Label,oneLine:cc.Label,twoLine:cc.Label,content:cc.Label},onLoad:function(){this.setWarGuideContent()},setContent:function(t,e,i,o){this.battleName.string=t,this.oneLine.string=e,this.twoLine.string=i,this.content.string=o},setWarGuideContent:function(){var t="";o.TaoFaDongZhuo?(t=o.HardModel?"董卓歼灭战":"董卓讨伐战",this.setContent(t,"暴君董卓踞凉州","各路英豪齐讨伐","快速点击董卓对其进行攻击\n小兵在场时董卓无敌\n倒计时内未能击退董卓\n则战役失败")):o.RedWar?(t=o.HardModel?"血战赤壁":"赤壁之战",this.setContent(t,"铁索连舶至江北","诸葛妙计破船阵","在倒计时结束前\n点击船只破坏敌方阵型\n变换的敌船\n每进行一次点击变换一次\n需在变为船只时点击破坏\n变为炸弹时点击会扣血")):o.XuZhouZhiZhan?(t=o.HardModel?"征战徐州":"徐州之战",this.setContent(t,"徐州兵变临城下","乱军之中险突围","只可点击屏幕下方的小兵\n进行击杀\n点击越快则\n小兵下落速度越快")):o.DuiJiuDangGe?(t=o.HardModel?"煮酒论英雄":"对酒当歌",this.setContent(t,"三国豪杰聚此地","一醉方休泯恩仇","点击亮起武将的任意\n对称位置\n可以与该武将对酒\n点错或是超时不回应\n会扣血")):o.TongGuanZhiZhan?(t=o.HardModel?"潼关鏖战":"潼关之战",this.setContent(t,"曹操北上推战线","关中联军逐一破","多次点击可以击杀武将\n漏点小兵和武将会扣血")):o.GuanDuZhiZhan?(t=o.HardModel?"征战官渡":"官渡之战",this.setContent(t,"颜良文丑围白马","阴阳相调破阵法","倒计时内\n根据下方的序列\n点击阴阳反向对应的\n颜良、文丑")):o.YiZhouZhiZhan?(t=o.HardModel?"益州突围":"益州之战",this.setContent(t,"刘备西征困益州","孔明放灯巧求援","点击想要点亮的灯的\n中心对称位置\n使下方孔明灯点亮为与\n上方一致的图案\n再次点击可取消点亮")):o.QuEZhiZhan?(t=o.HardModel?"血战曲阿":"曲阿之战",this.setContent(t,"曲阿破阵脱袁氏","孙策自拥收江东","在倒计时结束前\n击杀敌兵破坏敌方阵型\n重型兵需要多次点击")):o.HeFeiZhiZhan?(t=o.HardModel?"征战合肥":"合肥之战",this.setContent(t,"曹军突袭挫士气","阴阳相辅解危机","倒计时内\n根据下方的序列点击\n阴阳反向对应的张辽、李典\n带圈的阴阳序列可\n多次点击")):o.PuYangZhiZhan?(t=o.HardModel?"濮阳鏖战":"濮阳之战",this.setContent(t,"陈兵于野欲攻城","旗鼓相当决胜负","点击格子即可\n按照下方红色标记顺序\n布置小兵与敌方阵型摆成\n完全对称的阵型\n才可以抵挡住攻击\n未能抵挡住的敌兵\n会使我方扣血")):o.PingYangZhiZhan?(t=o.HardModel?"决战平阳":"平阳之战",this.setContent(t,"两军对垒阵前立","短兵相接能者胜","根据右上角的规则\n派出比对面更强的兵\n来进行比拼")):o.XingTianGuanCe?(t=o.HardModel?"星天连珠":"星天观测",this.setContent(t,"天星连珠现异象","阴阳相融化险情","根据下方的序列\n点击阴阳反向对应的星宿\n带图案的阴阳序列\n需同时点击")):o.BaiLangShan&&(t=o.HardModel?"血战白狼山":"白狼山之战",this.setContent(t,"三郡乌桓欲攻侵","背水一战除百蛮","点击下方对应格子区域放置\n小兵来抵挡上方敌兵攻击\n强大的兵种可以多次抵挡\n弱于自己的攻击\n未能抵挡住的敌兵会\n使我方扣血"))}}),cc._RF.pop()},{Common:"Common"}],BattleLayer:[function(t,e,i){"use strict";cc._RF.push(e,"8a134TwNVVA0qxcX0zy84hw","BattleLayer");var o=t("Common");cc.Class({extends:cc.Component,properties:{dongZhuoUp:cc.Node,redWarUp:cc.Node},onLoad:function(){o.RedWar?(this.redWarUp.active=!0,this.node.setLocalZOrder(1)):(o.TaoFaDongZhuo||o.QuEZhiZhan)&&(this.dongZhuoUp.active=!0)}}),cc._RF.pop()},{Common:"Common"}],BattleLoopOnePlay:[function(t,e,i){"use strict";cc._RF.push(e,"c45cc1JJpJF87FZdhvqbPjZ","BattleLoopOnePlay"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},loopOnePlay:function(){var t=cc.delayTime(1),e=cc.callFunc(function(){this.node.getComponent(cc.Animation).play()},this);this.node.runAction(cc.sequence(t,e))}}),cc._RF.pop()},{}],BattleMode:[function(t,e,i){"use strict";function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"ca128wpmt1FcIfmQ4tw+laX","BattleMode");var n,s=t("Common"),a=t("StorageData");cc.Class({extends:cc.Component,properties:(n={battleLayer:cc.Layout,guideMap:cc.Node,nullNode:cc.Node,halfNode:cc.Node,jianLP:cc.Node,clickedNullNode:cc.Node,redCircle:cc.Node,occupationNode:cc.Node,occupationLabel:cc.Label,occupationNumber:cc.Label,flagPf:{default:[],type:cc.Prefab},grayPf:{default:[],type:cc.Prefab},countryFlag:[],unoccupied:cc.Prefab,percentPf:{default:[],type:cc.Prefab},countryPercent:[],menuHPLabel:cc.Label,redWallSprite:cc.Label,weiTroop:0,shuTroop:0,wuTroop:0,weiGDP:0,shuGDP:0,wuGDP:0,weiPBar:cc.Sprite,shuPBar:cc.Sprite,wuPBar:cc.Sprite,zhuoSprite:cc.Label,zhuoweiTroop:0,zhuoshuTroop:0,zhuowuTroop:0,zhuoweiGDP:0,zhuoshuGDP:0,zhuowuGDP:0,zhuoweiPBar:cc.Sprite,zhuoshuPBar:cc.Sprite,zhuowuPBar:cc.Sprite,xuSprite:cc.Label,xuweiTroop:0,xushuTroop:0,xuwuTroop:0,xuweiGDP:0,xushuGDP:0,xuwuGDP:0,xuweiPBar:cc.Sprite,xushuPBar:cc.Sprite,xuwuPBar:cc.Sprite,duiSprite:cc.Label,duiweiTroop:0,duishuTroop:0,duiwuTroop:0,duiweiGDP:0,duishuGDP:0,duiwuGDP:0,duiweiPBar:cc.Sprite,duishuPBar:cc.Sprite,duiwuPBar:cc.Sprite,tongSprite:cc.Label,tongweiTroop:0,tongaiTroop:0,tongweiGDP:0,tongaiGDP:0,tongweiPBar:cc.Sprite,tongaiPBar:cc.Sprite,tongGreenBar:cc.Sprite,vipWei:cc.Sprite,guanSprite:cc.Label,guanweiTroop:0,guanaiTroop:0,guanweiGDP:0,guanaiGDP:0,guanweiPBar:cc.Sprite,guanaiPBar:cc.Sprite,guanGreenPBar:cc.Sprite,yiSprite:cc.Label,yishuTroop:0,yiaiTroop:0,yishuGDP:0,yiaiGDP:0,yishuPBar:cc.Sprite,yiaiPBar:cc.Sprite,yiBlueBar:cc.Sprite,vipShu:cc.Sprite,quSprite:cc.Label,quwuTroop:0,quaiTroop:0,quwuGDP:0,quaiGDP:0,quwuPBar:cc.Sprite,quaiPBar:cc.Sprite,quGreenBar:cc.Sprite,vipWu:cc.Sprite,heSprite:cc.Label,hewuTroop:0,heaiTroop:0,hewuGDP:0,heaiGDP:0,hewuPBar:cc.Sprite,heaiPBar:cc.Sprite,heGreenBar:cc.Sprite,puSprite:cc.Label,puweiTroop:0,pushuTroop:0,puwuTroop:0,puweiGDP:0,pushuGDP:0,puwuGDP:0,puweiPBar:cc.Sprite,pushuPBar:cc.Sprite,puwuPBar:cc.Sprite,pingSprite:cc.Label,pingweiTroop:0,pingshuTroop:0,pingwuTroop:0,pingweiGDP:0,pingshuGDP:0,pingwuGDP:0,pingweiPBar:cc.Sprite,pingshuPBar:cc.Sprite,pingwuPBar:cc.Sprite,xingSprite:cc.Label,xingshuTroop:0,xingaiTroop:0,xingshuGDP:0,xingaiGDP:0,xingshuPBar:cc.Sprite,xingaiPBar:cc.Sprite,xingBlueBar:cc.Sprite},o(n,"vipShu",cc.Sprite),o(n,"baiSprite",cc.Label),o(n,"baiweiTroop",0),o(n,"baishuTroop",0),o(n,"baiwuTroop",0),o(n,"baiweiGDP",0),o(n,"baishuGDP",0),o(n,"baiwuGDP",0),o(n,"baiweiPBar",cc.Sprite),o(n,"baishuPBar",cc.Sprite),o(n,"baiwuPBar",cc.Sprite),o(n,"battleNodes",{default:[],type:cc.Node}),o(n,"hardOpenedAnim",cc.Prefab),n),onLoad:function(){this.diffHour=0,this.currentTime=[],this.calculateTimeDiff(),s.FirstGame||("true"===a.getLocalData("HardModel")?this.node.getChildByName("normalHardCtrl").getComponent("NormalHardCtrl").normalEvent():this.node.getChildByName("normalHardCtrl").getComponent("NormalHardCtrl").hardEvent()),s.FirstGame||!s.battlePower||s.ShowGuide||this.rollNotice(),this.node.on("touchstart",function(t){t.stopPropagation()},this),s.FirstGame||this.checkNormalOpenCond(),this.countryTroop(),s.FirstGame||this.occupyFlag(),this.countPercent(),this.zhuocountPercent(),this.xucountPercent(),this.duiCountPercent(),this.tongCountPercent(),this.guanCountPercent(),this.yiCountPercent(),this.quCountPercent(),this.heCountPercent(),this.puCountPercent(),this.pingCountPercent(),this.xingCountPercent(),this.baiCountPercent(),this.occupyPercent(),s.FirstGame&&s.ShowGuide&&(s.ShowGuide=!1,this.checkNormalOpenCond(),this.occupyFlag(),this.nullNode.active=!0,this.guideMap.active=!0),s.RedWar=!1,s.TaoFaDongZhuo=!1,s.XuZhouZhiZhan=!1,s.DuiJiuDangGe=!1,s.TongGuanZhiZhan=!1,s.GuanDuZhiZhan=!1,s.YiZhouZhiZhan=!1,s.QuEZhiZhan=!1,s.HeFeiZhiZhan=!1,s.PuYangZhiZhan=!1,s.PingYangZhiZhan=!1,s.XingTianGuanCe=!1,s.BaiLangShan=!1,s.FirstGame||(this.checkOpenCondition(),this.checkNormalOpenCond()),this.checkAgainCount=0},returnButton:function(){this.battleLayer.node.active=!1,s.battlePower=!1,s.FirstGame||s.ShowGuide?(s.ShowGuide=!1,this.redCircle.active=!1,cc.director.loadScene("NewMenuScene")):(this.halfNode.active=!1,cc.director.loadScene("MenuScene",function(){"true"===a.getLocalData("HardModel")?(cc.loader.loadRes("texture/newbie/kunMenu",cc.SpriteFrame,function(t,e){t||(cc.find("Canvas/MenuLayer").getComponent(cc.Sprite).spriteFrame=e)}),cc.loader.releaseRes("texture/menu/bg",cc.SpriteFrame)):(cc.loader.loadRes("texture/menu/bg",cc.SpriteFrame,function(t,e){t||(cc.find("Canvas/MenuLayer").getComponent(cc.Sprite).spriteFrame=e)}),cc.loader.releaseRes("texture/newbie/kunMenu",cc.SpriteFrame))}))},conditionTips:function(t,e){this.node.getChildByName("hardOpenCondition").active=!0,this.node.getChildByName("hardOpenCondition").getChildByName("storesTanchuang").getChildByName("warName").getComponent(cc.Label).string=t,this.node.getChildByName("hardOpenCondition").getChildByName("storesTanchuang").getChildByName("condition").getComponent(cc.Label).string=e},inWhereWar:function(){this.clickedNullNode.active=!0,s.CurrentHP-=1,a.setLocalData("HP",s.CurrentHP),this.jianLP.active=!0;var t=cc.delayTime(.8),e=cc.callFunc(function(){cc.director.loadScene("BattleScene")},this);this.node.runAction(cc.sequence(t,e))},dongzhuoWar:function(){if(s.CurrentHP>0)if(s.FirstGame){s.TaoFaDongZhuo=!0,this.clickedNullNode.active=!0,s.CurrentHP-=1,a.setLocalData("HP",s.CurrentHP),this.jianLP.active=!0;var t=cc.delayTime(.8),e=cc.callFunc(function(){cc.director.loadScene("NewBattleScene")},this);this.node.runAction(cc.sequence(t,e))}else s.HardModel&&255===this.battleNodes[0].getChildByName("weiKaiFang").opacity?this.conditionTips("董卓歼灭战","无伤通关战役：董卓讨伐战后开启"):255===this.battleNodes[0].getChildByName("warNode").children[0].opacity&&(s.TaoFaDongZhuo=!0,this.inWhereWar());else this.hpBlink()},redWall:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[1].getChildByName("weiKaiFang").opacity?this.conditionTips("血战赤壁","在单次征兵模式中取得7000分以上后开启"):255===this.battleNodes[1].getChildByName("warNode").children[0].opacity&&(s.RedWar=!0,this.inWhereWar()):this.hpBlink()},xuzhouWar:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[2].getChildByName("weiKaiFang").opacity?this.conditionTips("征战徐州","7秒内通关战役：徐州之战后开启"):255===this.battleNodes[2].getChildByName("warNode").children[0].opacity&&(s.XuZhouZhiZhan=!0,this.inWhereWar()):this.hpBlink()},duijiuWar:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[3].getChildByName("weiKaiFang").opacity?this.conditionTips("煮酒论英雄","在战役：对酒当歌中获得500分以上后开启"):255===this.battleNodes[3].getChildByName("warNode").children[0].opacity&&(s.DuiJiuDangGe=!0,this.inWhereWar()):this.hpBlink()},tongguanWar:function(){s.CurrentHP<=0?this.hpBlink():1006==s.tribeColor?s.HardModel&&255===this.battleNodes[4].getChildByName("weiKaiFang").opacity?this.conditionTips("潼关鏖战","决战平阳、煮酒论英雄、董卓歼灭战、濮阳鏖战、征战徐州、血战赤壁、血战白狼山、征战官渡全部开启后开启"):255===this.battleNodes[4].getChildByName("warNode").children[0].opacity&&(s.TongGuanZhiZhan=!0,this.inWhereWar()):255===this.battleNodes[4].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipWei)},guanduWar:function(){s.CurrentHP<=0?this.hpBlink():1006==s.tribeColor?s.HardModel&&255===this.battleNodes[5].getChildByName("weiKaiFang").opacity?this.conditionTips("征战官渡","45秒内通关战役：官渡之战后开启"):255===this.battleNodes[5].getChildByName("warNode").children[0].opacity&&(s.GuanDuZhiZhan=!0,this.inWhereWar()):255===this.battleNodes[5].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipWei)},yizhouWar:function(){s.CurrentHP<=0?this.hpBlink():1004==s.tribeColor?s.HardModel&&255===this.battleNodes[6].getChildByName("weiKaiFang").opacity?this.conditionTips("益州突围","决战平阳、煮酒论英雄、董卓歼灭战、濮阳鏖战、征战徐州、血战赤壁、血战白狼山、星天连珠全部开启后开启"):255===this.battleNodes[6].getChildByName("warNode").children[0].opacity&&(s.YiZhouZhiZhan=!0,this.inWhereWar()):255===this.battleNodes[6].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipShu)},queWar:function(){s.CurrentHP<=0?this.hpBlink():1001==s.tribeColor?s.HardModel&&255===this.battleNodes[7].getChildByName("weiKaiFang").opacity?this.conditionTips("血战曲阿","决战平阳、煮酒论英雄、董卓歼灭战、濮阳鏖战、征战徐州、血战赤壁、血战白狼山、征战合肥全部开启后开启"):255===this.battleNodes[7].getChildByName("warNode").children[0].opacity&&(s.QuEZhiZhan=!0,this.inWhereWar()):255===this.battleNodes[7].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipWu)},hefeiWar:function(){s.CurrentHP<=0?this.hpBlink():1001==s.tribeColor?s.HardModel&&255===this.battleNodes[8].getChildByName("weiKaiFang").opacity?this.conditionTips("征战合肥","37秒内通关战役：合肥之战后开启"):255===this.battleNodes[8].getChildByName("warNode").children[0].opacity&&(s.HeFeiZhiZhan=!0,this.inWhereWar()):255===this.battleNodes[8].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipWu)},puyangWar:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[9].getChildByName("weiKaiFang").opacity?this.conditionTips("濮阳鏖战","在战役：濮阳之战中获得80000分以上后开启"):255===this.battleNodes[9].getChildByName("warNode").children[0].opacity&&(s.PuYangZhiZhan=!0,this.inWhereWar()):this.hpBlink()},pingyangWar:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[10].getChildByName("weiKaiFang").opacity?this.conditionTips("决战平阳","在战役：平阳之战中获得15000分以上后开启"):255===this.battleNodes[10].getChildByName("warNode").children[0].opacity&&(s.PingYangZhiZhan=!0,this.inWhereWar()):this.hpBlink()},xingtianWar:function(){s.CurrentHP<=0?this.hpBlink():1004==s.tribeColor?s.HardModel&&255===this.battleNodes[11].getChildByName("weiKaiFang").opacity?this.conditionTips("星天连珠","46秒内通关战役：星天观测后开启"):255===this.battleNodes[11].getChildByName("warNode").children[0].opacity&&(s.XingTianGuanCe=!0,this.inWhereWar()):255===this.battleNodes[11].getChildByName("warNode").children[0].opacity&&this.exclusiveWar(this.vipShu)},bailangWar:function(){s.CurrentHP>0?s.HardModel&&255===this.battleNodes[12].getChildByName("weiKaiFang").opacity?this.conditionTips("血战白狼山","兵力达到1,000,000以上后开启"):255===this.battleNodes[12].getChildByName("warNode").children[0].opacity&&(s.BaiLangShan=!0,this.inWhereWar()):this.hpBlink()},exclusiveWar:function(t){var e=cc.fadeIn(1),i=cc.fadeOut(3),o=cc.sequence(e,i);t.node.runAction(o)},countryTroop:function(){this.weiTroop=parseInt(a.getLocalData("WEITROOP")),this.shuTroop=parseInt(a.getLocalData("SHUTROOP")),this.wuTroop=parseInt(a.getLocalData("WUTROOP"));var t=JSON.parse(a.getLocalData("ZhuoPower")),e=JSON.parse(a.getLocalData("XuPower")),i=JSON.parse(a.getLocalData("DuiPower")),o=JSON.parse(a.getLocalData("TongPower")),n=JSON.parse(a.getLocalData("GuanPower")),c=JSON.parse(a.getLocalData("YiPower")),r=JSON.parse(a.getLocalData("QuPower")),h=JSON.parse(a.getLocalData("HePower")),l=JSON.parse(a.getLocalData("PuPower")),u=JSON.parse(a.getLocalData("PingPower")),d=JSON.parse(a.getLocalData("XingPower")),p=JSON.parse(a.getLocalData("BaiPower"));this.diffHour>=1&&!s.FirstGame&&(a.setLocalData("InitTimeBattles",JSON.stringify(this.currentTime)),this.diffHour>5&&(this.diffHour=5),255!==this.battleNodes[1].getChildByName("warNode").children[0].opacity&&255!==this.battleNodes[1].getChildByName("warNode").children[2].opacity||(this.weiTroop+=this.calculateIncreaseScore(1e5,2e4)*this.diffHour,this.shuTroop+=this.calculateIncreaseScore(1e5,2e4)*this.diffHour,this.wuTroop+=this.calculateIncreaseScore(1e5,2e4)*this.diffHour,a.setLocalData("WEITROOP",this.weiTroop),a.setLocalData("SHUTROOP",this.shuTroop),a.setLocalData("WUTROOP",this.wuTroop)),this.updateIncrease(t,"ZhuoPower",28e4,4e4,0),this.updateIncrease(e,"XuPower",18e3,5e3,2),this.updateIncrease(i,"DuiPower",11e3,3e3,3),this.updateIncrease(l,"PuPower",6e5,1e5,9),this.updateIncrease(u,"PingPower",35e4,1e5,10),this.updateIncrease(p,"BaiPower",42e4,4e4,12),this.duzhanIncreaseWei(o,"TongPower",6e5,18e4,4),this.duzhanIncreaseWei(n,"GuanPower",14e4,6e4,5),this.duzhanIncreaseShu(c,"YiPower",76e4,14e4,6),this.duzhanIncreaseWu(r,"QuPower",15e5,1e5,7),this.duzhanIncreaseWu(h,"HePower",14e4,6e4,8),this.duzhanIncreaseShu(d,"XingPower",14e4,6e4,11)),this.zhuoweiTroop=t.WeiTroop,this.zhuoshuTroop=t.ShuTroop,this.zhuowuTroop=t.WuTroop,this.xuweiTroop=e.WeiTroop,this.xushuTroop=e.ShuTroop,this.xuwuTroop=e.WuTroop,this.duiweiTroop=i.WeiTroop,this.duishuTroop=i.ShuTroop,this.duiwuTroop=i.WuTroop,this.tongweiTroop=o.WeiTroop,this.tongaiTroop=o.AiTroop,this.guanweiTroop=n.WeiTroop,this.guanaiTroop=n.AiTroop,this.yishuTroop=c.ShuTroop,this.yiaiTroop=c.AiTroop,this.quwuTroop=r.WuTroop,this.quaiTroop=r.AiTroop,this.hewuTroop=h.WuTroop,this.heaiTroop=h.AiTroop,this.puweiTroop=l.WeiTroop,this.pushuTroop=l.ShuTroop,this.puwuTroop=l.WuTroop,this.pingweiTroop=u.WeiTroop,this.pingshuTroop=u.ShuTroop,this.pingwuTroop=u.WuTroop,this.xingshuTroop=d.ShuTroop,this.xingaiTroop=d.AiTroop,this.baiweiTroop=p.WeiTroop,this.baishuTroop=p.ShuTroop,this.baiwuTroop=p.WuTroop},instanceFlag:function(t,e,i){this.countryFlag[t]=cc.instantiate(e),this.countryFlag[t].parent=i,this.countryFlag[t].setPosition(0,25)},showFlagSan:function(t,e,i,o,n){t==Math.max(t,e,i)?255===o.opacity?this.instanceFlag(0,this.grayPf[0],o):this.instanceFlag(0,this.flagPf[0],n):e==Math.max(t,e,i)?255===o.opacity?this.instanceFlag(1,this.grayPf[1],o):this.instanceFlag(1,this.flagPf[1],n):i==Math.max(t,e,i)&&(255===o.opacity?this.instanceFlag(2,this.grayPf[2],o):this.instanceFlag(2,this.flagPf[2],n))},showFlagOne:function(t,e,i,o,n,s){t>e?255===n.opacity?this.instanceFlag(0,this.grayPf[i],n):this.instanceFlag(0,this.flagPf[o],s):255===n.opacity?this.instanceFlag(1,this.unoccupied,n):this.instanceFlag(1,this.unoccupied,s)},occupyFlag:function(){for(var t=[],e=0;e<this.battleNodes.length;++e)t.push(this.battleNodes[e].getChildByName("warNode").children[2]);this.showFlagSan(this.zhuoweiTroop,this.zhuoshuTroop,this.zhuowuTroop,t[0],this.zhuoSprite.node),this.showFlagSan(this.weiTroop,this.shuTroop,this.wuTroop,t[1],this.redWallSprite.node),this.showFlagSan(this.xuweiTroop,this.xushuTroop,this.xuwuTroop,t[2],this.xuSprite.node),this.showFlagSan(this.duiweiTroop,this.duishuTroop,this.duiwuTroop,t[3],this.duiSprite.node),this.showFlagOne(this.tongweiTroop,this.tongaiTroop,0,0,t[4],this.tongSprite.node),this.showFlagOne(this.guanweiTroop,this.guanaiTroop,0,0,t[5],this.guanSprite.node),this.showFlagOne(this.yishuTroop,this.yiaiTroop,0,1,t[6],this.yiSprite.node),this.showFlagOne(this.quwuTroop,this.quaiTroop,0,2,t[7],this.quSprite.node),this.showFlagOne(this.hewuTroop,this.heaiTroop,0,2,t[8],this.heSprite.node),this.showFlagSan(this.puweiTroop,this.pushuTroop,this.puwuTroop,t[9],this.puSprite.node),this.showFlagSan(this.pingweiTroop,this.pingshuTroop,this.pingwuTroop,t[10],this.pingSprite.node),this.showFlagOne(this.xingshuTroop,this.xingaiTroop,0,1,t[11],this.xingSprite.node),this.showFlagSan(this.baiweiTroop,this.baishuTroop,this.baiwuTroop,t[12],this.baiSprite.node)},occupyPercent:function(){this.weiPBar.node.width=this.weiGDP,this.shuPBar.node.width=this.shuGDP+this.weiGDP,this.wuPBar.node.width=this.wuGDP+this.shuGDP+this.weiGDP,this.zhuoweiPBar.node.width=this.zhuoweiGDP,this.zhuoshuPBar.node.width=this.zhuoshuGDP+this.zhuoweiGDP,this.zhuowuPBar.node.width=this.zhuowuGDP+this.zhuoshuGDP+this.zhuoweiGDP,this.xuweiPBar.node.width=this.xuweiGDP,this.xushuPBar.node.width=this.xushuGDP+this.xuweiGDP,this.xuwuPBar.node.width=this.xuwuGDP+this.xushuGDP+this.xuweiGDP,this.duiweiPBar.node.width=this.duiweiGDP,this.duishuPBar.node.width=this.duishuGDP+this.duiweiGDP,this.duiwuPBar.node.width=this.duiwuGDP+this.duishuGDP+this.duiweiGDP,this.tongweiPBar.node.width=this.tongweiGDP,this.tongGreenBar.node.width=this.tongweiGDP,this.guanweiPBar.node.width=this.guanweiGDP,this.guanGreenPBar.node.width=this.guanweiGDP,this.yishuPBar.node.width=this.yishuGDP,this.yiBlueBar.node.width=this.yishuGDP,this.quwuPBar.node.width=this.quwuGDP,this.quGreenBar.node.width=this.quwuGDP,this.hewuPBar.node.width=this.hewuGDP,this.heGreenBar.node.width=this.hewuGDP,this.puweiPBar.node.width=this.puweiGDP,this.pushuPBar.node.width=this.pushuGDP+this.puweiGDP,this.puwuPBar.node.width=this.puwuGDP+this.pushuGDP+this.puweiGDP,this.pingweiPBar.node.width=this.pingweiGDP,this.pingshuPBar.node.width=this.pingshuGDP+this.pingweiGDP,this.pingwuPBar.node.width=this.pingwuGDP+this.pingshuGDP+this.pingweiGDP,this.xingshuPBar.node.width=this.xingshuGDP,this.xingBlueBar.node.width=this.xingshuGDP,this.baiweiPBar.node.width=this.baiweiGDP,this.baishuPBar.node.width=this.baishuGDP+this.baiweiGDP,this.baiwuPBar.node.width=this.baiwuGDP+this.baishuGDP+this.baiweiGDP},countPercent:function(){var t=this.weiTroop+this.shuTroop+this.wuTroop;this.weiGDP=this.weiTroop/t*78,this.shuGDP=this.shuTroop/t*78,this.wuGDP=this.wuTroop/t*78},zhuocountPercent:function(){var t=this.zhuoweiTroop+this.zhuoshuTroop+this.zhuowuTroop;this.zhuoweiGDP=this.zhuoweiTroop/t*78,this.zhuoshuGDP=this.zhuoshuTroop/t*78,this.zhuowuGDP=this.zhuowuTroop/t*78},xucountPercent:function(){var t=this.xuweiTroop+this.xushuTroop+this.xuwuTroop;this.xuweiGDP=this.xuweiTroop/t*78,this.xushuGDP=this.xushuTroop/t*78,this.xuwuGDP=this.xuwuTroop/t*78},duiCountPercent:function(){var t=this.duiweiTroop+this.duishuTroop+this.duiwuTroop;this.duiweiGDP=this.duiweiTroop/t*78,this.duishuGDP=this.duishuTroop/t*78,this.duiwuGDP=this.duiwuTroop/t*78},tongCountPercent:function(){var t=this.tongweiTroop+this.tongaiTroop;this.tongweiGDP=this.tongweiTroop/t*78},guanCountPercent:function(){var t=this.guanweiTroop+this.guanaiTroop;this.guanweiGDP=this.guanweiTroop/t*78},yiCountPercent:function(){var t=this.yishuTroop+this.yiaiTroop;this.yishuGDP=this.yishuTroop/t*78},quCountPercent:function(){var t=this.quwuTroop+this.quaiTroop;this.quwuGDP=this.quwuTroop/t*78},heCountPercent:function(){var t=this.hewuTroop+this.heaiTroop;this.hewuGDP=this.hewuTroop/t*78},puCountPercent:function(){var t=this.puweiTroop+this.pushuTroop+this.puwuTroop;this.puweiGDP=this.puweiTroop/t*78,this.pushuGDP=this.pushuTroop/t*78,this.puwuGDP=this.puwuTroop/t*78},pingCountPercent:function(){var t=this.pingweiTroop+this.pingshuTroop+this.pingwuTroop;this.pingweiGDP=this.pingweiTroop/t*78,this.pingshuGDP=this.pingshuTroop/t*78,this.pingwuGDP=this.pingwuTroop/t*78},xingCountPercent:function(){var t=this.xingshuTroop+this.xingaiTroop;this.xingshuGDP=this.xingshuTroop/t*78},baiCountPercent:function(){var t=this.baiweiTroop+this.baishuTroop+this.baiwuTroop;this.baiweiGDP=this.baiweiTroop/t*78,this.baishuGDP=this.baishuTroop/t*78,this.baiwuGDP=this.baiwuTroop/t*78},calculateTimeDiff:function(){var t=[];this.currentTime=[];var e=new Date,i=e.getFullYear();this.currentTime.push(i);var o=e.getMonth()+1;this.currentTime.push(o);var n=e.getDate();this.currentTime.push(n);var s=e.getHours();0===s&&(s=24),this.currentTime.push(s),t=this.currentTime,null===a.getLocalData("InitTimeBattles")?a.setLocalData("InitTimeBattles",JSON.stringify(this.currentTime)):t=JSON.parse(a.getLocalData("InitTimeBattles"));for(var c=!1,r=0;r<3;++r)this.currentTime[r]===t[r]?c=!0:(c=!1,this.diffHour=this.currentTime[3]+24-t[3],r=3);c&&(this.diffHour=this.currentTime[3]-t[3])},calculateIncreaseScore:function(t,e){return Math.floor(Math.random()*e+t)},updateIncrease:function(t,e,i,o,n){255!==this.battleNodes[n].getChildByName("warNode").children[0].opacity&&255!==this.battleNodes[n].getChildByName("warNode").children[2].opacity||(t.WeiTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,t.ShuTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,t.WuTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,a.setLocalData(e,JSON.stringify(t)))},duzhanIncreaseWei:function(t,e,i,o,n){255!==this.battleNodes[n].getChildByName("warNode").children[0].opacity&&255!==this.battleNodes[n].getChildByName("warNode").children[2].opacity||(t.WeiTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,a.setLocalData(e,JSON.stringify(t)))},duzhanIncreaseShu:function(t,e,i,o,n){255!==this.battleNodes[n].getChildByName("warNode").children[0].opacity&&255!==this.battleNodes[n].getChildByName("warNode").children[2].opacity||(t.ShuTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,a.setLocalData(e,JSON.stringify(t)))},duzhanIncreaseWu:function(t,e,i,o,n){255!==this.battleNodes[n].getChildByName("warNode").children[0].opacity&&255!==this.battleNodes[n].getChildByName("warNode").children[2].opacity||(t.WuTroop+=this.calculateIncreaseScore(i,o)*this.diffHour,a.setLocalData(e,JSON.stringify(t)))},increaseExponent:function(t,e){if(0===t)return 0;var i=JSON.parse(a.getLocalData(e)),o=i.WeiTroop+i.ShuTroop+i.WuTroop,n=parseFloat((t/o).toFixed(3));return 1006===s.tribeColor?i.WeiTroop+=t:1004===s.tribeColor?i.ShuTroop+=t:i.WuTroop+=t,a.setLocalData(e,JSON.stringify(i)),n},duzhanExponent:function(t,e,i,o,n){if(0===t)return 0;var s=JSON.parse(a.getLocalData(e)),c=0;i?c=s.WeiTroop+s.AiTroop:o?c=s.ShuTroop+s.AiTroop:n&&(c=s.WuTroop+s.AiTroop);var r=parseFloat((t/c).toFixed(3));return i?s.WeiTroop+=t:o?s.ShuTroop+=t:n&&(s.WuTroop+=t),a.setLocalData(e,JSON.stringify(s)),r},rollNotice:function(){this.occupationNode.active=!0;var t="",e=0,i=s.PlayerBattleScore;if(s.RedWar){t="荆州",s.WeiTroop=parseInt(a.getLocalData("WEITROOP")),s.ShuTroop=parseInt(a.getLocalData("SHUTROOP")),s.WuTroop=parseInt(a.getLocalData("WUTROOP"));var o=s.WeiTroop+s.ShuTroop+s.WuTroop;e=parseFloat((i/o).toFixed(3)),1001===s.tribeColor?(s.WuTroop+=i,a.setLocalData("WUTROOP",s.WuTroop)):1004===s.tribeColor?(s.ShuTroop+=i,a.setLocalData("SHUTROOP",s.ShuTroop)):1006===s.tribeColor&&(s.WeiTroop+=i,a.setLocalData("WEITROOP",s.WeiTroop))}else s.TaoFaDongZhuo?(t="凉州",e=this.increaseExponent(i,"ZhuoPower")):s.XuZhouZhiZhan?(t="徐州",e=this.increaseExponent(i,"XuPower")):s.DuiJiuDangGe?(t="青州",e=this.increaseExponent(i,"DuiPower")):s.TongGuanZhiZhan?(t="司隶",e=this.duzhanExponent(i,"TongPower",!0,!1,!1)):s.GuanDuZhiZhan?(t="冀州",e=this.duzhanExponent(i,"GuanPower",!0,!1,!1)):s.YiZhouZhiZhan?(t="益州",e=this.duzhanExponent(i,"YiPower",!1,!0,!1)):s.QuEZhiZhan?(t="曲阿",e=this.duzhanExponent(i,"QuPower",!1,!1,!0)):s.HeFeiZhiZhan?(t="豫州",e=this.duzhanExponent(i,"HePower",!1,!1,!0)):s.PuYangZhiZhan?(t="兖州",e=this.increaseExponent(i,"PuPower")):s.PingYangZhiZhan?(t="并州",e=this.increaseExponent(i,"PingPower")):s.XingTianGuanCe?(t="交州",e=this.duzhanExponent(i,"XingPower",!1,!0,!1)):s.BaiLangShan&&(t="幽州",e=this.increaseExponent(i,"BaiPower"));this.occupationLabel.string=t+"占有率提高",e*=100,i<=0?e=0:0===e&&(e=.001);var n=e.toString();n.length>=6&&(e=n.substr(0,5)),this.occupationNumber.string=e+"%";var c=cc.moveBy(10,cc.v2(-800,0)),r=cc.callFunc(function(){this.active=!1},this.occupationNode);this.occupationNode.runAction(cc.sequence(c,r))},hpBlink:function(){var t=cc.blink(1,3);this.menuHPLabel.node.runAction(t),s.FirstGame||(cc.find("Canvas/continueNode").active=!0)},checkOpenCondition:function(){if("false"==a.getLocalData("HardOpened")){if(s.SimpleCount=parseInt(a.getLocalData("SimpleCount")),13===s.SimpleCount){s.HardOpened=!0,a.setLocalData("HardOpened",s.HardOpened);var t=cc.instantiate(this.hardOpenedAnim);t.getChildByName("zhanyi").active=!1,t.parent=this.node}}else{this.playOpenAnim();var e=cc.delayTime(5.5),i=cc.callFunc(function(){this.checkAgainCount=1,this.playOpenAnim(),this.checkLastWarOpen()},this);this.node.runAction(cc.sequence(e,i))}if("true"==a.getLocalData("HardOpened")&&2===JSON.parse(a.getLocalData("ThirteenWar"))[12]){var e=cc.delayTime(5.5),i=cc.callFunc(function(){this.checkAgainCount=1,this.playOpenAnim(),this.checkLastWarOpen()},this);this.node.runAction(cc.sequence(e,i))}},playOpenAnim:function(){for(var t=JSON.parse(a.getLocalData("ThirteenWar")),e=0;e<t.length;++e)if(2===t[e]){switch(e){case 0:t[e]=3,this.spawnAnim("董\n卓\n讨\n伐\n战");break;case 1:t[e]=3,this.spawnAnim("赤\n壁\n之\n战");break;case 2:t[e]=3,this.spawnAnim("徐\n州\n之\n战");break;case 3:t[e]=3,this.spawnAnim("对\n酒\n当\n歌");break;case 4:t[e]=3,this.spawnAnim("同\n关\n之\n战");break;case 5:t[e]=3,this.spawnAnim("官\n渡\n之\n战"),t[8]=3,t[11]=3;break;case 6:t[e]=3,this.spawnAnim("益\n州\n之\n战");break;case 7:t[e]=3,this.spawnAnim("曲\n阿\n之\n战");break;case 8:t[e]=3,this.spawnAnim("合\n肥\n之\n战"),t[5]=3,t[11]=3;break;case 9:t[e]=3,this.spawnAnim("濮\n阳\n之\n战");break;case 10:t[e]=3,this.spawnAnim("平\n阳\n之\n战");break;case 11:t[e]=3,this.spawnAnim("星\n天\n观\n测"),t[8]=3,t[5]=3;break;case 12:t[e]=3,this.spawnAnim("白\n狼\n山\n之\n战")}a.setLocalData("ThirteenWar",JSON.stringify(t)),1===this.checkAgainCount&&(this.checkAgainCount=2),e=t.length}1===this.checkAgainCount&&(this.checkAgainCount=0)},spawnAnim:function(t){var e=cc.instantiate(this.hardOpenedAnim);e.getChildByName("zhanyi").getComponent(cc.Label).string=t,e.parent=this.node},checkLastWarOpen:function(){for(var t=JSON.parse(a.getLocalData("ThirteenWar")),e=0,i=0;i<t.length;++i)3===t[i]&&e++;if(10===e){var o=.1;2===this.checkAgainCount&&(o=5.5,this.checkAgainCount=0);var n=cc.delayTime(o);if("1006"==a.getLocalData("Tribe")){this.openHardCondition(4,t),this.openHardCondition(6,t),this.openHardCondition(7,t);s=cc.callFunc(function(){this.spawnAnim("同\n关\n之\n战")},this);this.node.runAction(cc.sequence(n,s))}else if("1004"==a.getLocalData("Tribe")){this.openHardCondition(6,t),this.openHardCondition(4,t),this.openHardCondition(7,t);s=cc.callFunc(function(){this.spawnAnim("益\n州\n之\n战")},this);this.node.runAction(cc.sequence(n,s))}else if("1001"==a.getLocalData("Tribe")){this.openHardCondition(7,t),this.openHardCondition(6,t),this.openHardCondition(4,t);var s=cc.callFunc(function(){this.spawnAnim("曲\n阿\n之\n战")},this);this.node.runAction(cc.sequence(n,s))}}},openHardCondition:function(t,e){e[t]=3,a.setLocalData("ThirteenWar",JSON.stringify(e))},checkNormalOpenCond:function(){var t=this.battleNodes.length,e=parseInt(a.getLocalData("LEVEL"));if(e<17)if(e>14)for(i=0;i<t;++i)5===i||8===i||11===i?this.nextBattle(i):this.normalBattle(i);else if(e>12)for(i=0;i<t;++i)5===i||8===i||11===i||(3===i?this.nextBattle(3):this.normalBattle(i));else if(e>10)for(i=0;i<t;++i)5===i||8===i||11===i||3===i||(1===i?this.nextBattle(i):this.normalBattle(i));else if(e>8)for(i=0;i<t;++i)5===i||8===i||11===i||3===i||1===i||(4===i||6===i||7===i?this.nextBattle(i):this.normalBattle(i));else if(e>6)for(i=0;i<t;++i)0===i||9===i||10===i||12===i?this.normalBattle(i):2===i&&this.nextBattle(i);else if(e>4)for(i=0;i<t;++i)0===i||9===i||12===i?this.normalBattle(i):10===i&&this.nextBattle(i);else if(e>1)for(i=0;i<t;++i)0===i||9===i?this.normalBattle(i):12===i&&this.nextBattle(i);else for(i=0;i<t;++i)0===i?this.normalBattle(i):9===i&&this.nextBattle(i);else for(var i=0;i<13;++i)this.normalBattle(i)},normalBattle:function(t){for(var e=this.battleNodes[t].getChildByName("warNode").children,i=0;i<e.length;++i)e[i].opacity=2===i?0:255},nextBattle:function(t){for(var e=this.battleNodes[t].getChildByName("warNode").children,i=0;i<e.length;++i)e[i].opacity=2===i?255:0},guidePuyang:function(){this.node.getChildByName("guidePuyang").active=!0}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],BattleOpenShow:[function(t,e,i){"use strict";cc._RF.push(e,"94de49rQY5N1KnAUac5cw1x","BattleOpenShow"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,a=t("./Common"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.nameArray=[],e.flag=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.node.on("touchend",this.touchCallback,this)},e.prototype.touchCallback=function(){this.nextName()},e.prototype.showName=function(){var t="";""!==a.OpenBattleName&&(t=a.OpenBattleName,a.OpenBattleName="",this.nameArray=t.split("、"),t="");var e=this.nameArray.shift();this.label.string="禀告主公, 新战役"+e+"开放！","濮阳之战"===e&&(this.flag=!0),e=""},e.prototype.nextName=function(){0===this.nameArray.length&&(this.nameArray=[],this.node.active=!1,this.flag&&(cc.find("Canvas/BattleMode").active=!0,cc.find("Canvas/BattleMode").getComponent("BattleMode").guidePuyang())),this.nameArray.length>0&&(this.label.string="禀告主公, 新战役"+this.nameArray.shift()+"开放！")},__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s([])],e.prototype,"nameArray",void 0),__decorate([s],e.prototype,"flag",void 0),e=__decorate([n],e)}(cc.Component);i.default=c,cc._RF.pop()},{"./Common":"Common"}],BloodBar:[function(t,e,i){"use strict";cc._RF.push(e,"e7186E7dUZED6VKEX2EqXiC","BloodBar"),cc.Class({extends:cc.Component,properties:{bloodBar:cc.ProgressBar},onLoad:function(){},setLength:function(t){this.bloodBar.progress-=t},setLengthOne:function(){var t=cc.delayTime(2),e=cc.callFunc(function(){this.bloodBar.progress=1},this);this.node.runAction(cc.sequence(t,e))},setLengthZero:function(){this.bloodBar.progress=0},getLength:function(){return this.bloodBar.progress}}),cc._RF.pop()},{}],ClassicArexOne:[function(t,e,i){"use strict";cc._RF.push(e,"97779nRpodDObhhBjai75WD","ClassicArexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=10,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString(),o.FirstGame&&parseInt(this.node.parent.getComponent("ClassicGame").scoreDisplay.string)>10&&(this.node.parent.getComponent("ClassicGame").canOver=!0))}}),cc._RF.pop()},{Common:"Common"}],ClassicArexThree:[function(t,e,i){"use strict";cc._RF.push(e,"0affeXCwKJCQa0rnCZFTdaq","ClassicArexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString(),o.FirstGame&&parseInt(this.node.parent.getComponent("ClassicGame").scoreDisplay.string)>10&&(this.node.parent.getComponent("ClassicGame").canOver=!0))}}),cc._RF.pop()},{Common:"Common"}],ClassicArexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"f3a12kyM11O+K5D+pgZqs/H","ClassicArexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=20,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString(),o.FirstGame&&parseInt(this.node.parent.getComponent("ClassicGame").scoreDisplay.string)>10&&(this.node.parent.getComponent("ClassicGame").canOver=!0))}}),cc._RF.pop()},{Common:"Common"}],ClassicBomb:[function(t,e,i){"use strict";cc._RF.push(e,"55542Pp1FRCgKAc1hMNvfAL","ClassicBomb");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){o.EffectOffset&&cc.audioEngine.play(this.clickSound,!1),this.node.parent.getComponent("ClassicGame").continueOnce&&!o.FirstGame?this.node.parent.getComponent("ClassicGame").clickErrorOver(this.node):this.node.parent.getComponent("ClassicGame").clickErrorOverDirect(this.node)}}),cc._RF.pop()},{Common:"Common"}],ClassicGame:[function(t,e,i){"use strict";cc._RF.push(e,"e672eyy7ltO1JZiF+o6P5ln","ClassicGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Sprite,temp:[],tempColor:[],rWidth:0,rHeight:0,updateRunning:!0,downBottom:!1,clickError:!1,nullNode:cc.Node,bombBool:!1,skillTime:50,enze:cc.Sprite,enzeLabel:cc.Sprite,enzeBool:!0,huajianTX:{default:null,type:cc.Node,tooltip:"化简为繁特效"},huajianLZ:{default:null,type:cc.Node,tooltip:"化简为繁粒子效果"},huajianCount:{default:0,tooltip:"化简为繁,生成3级兵的数量",type:cc.Integer},enzeMusic:{default:null,url:cc.AudioClip},jianfanMusic:{default:null,url:cc.AudioClip},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分显示"},overLayer:{default:null,type:cc.Layout,tooltip:"结算层"},continueLayer:{default:null,type:cc.Sprite,tooltip:"是否继续层"},arexPF:{default:[],type:cc.Prefab,tooltip:"块预制体"},timeLabel:{default:null,type:cc.Label,tooltip:"倒计时"},startAnimPF:cc.Prefab,battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时增加块速度",type:cc.Integer},timeScale:{default:0,tooltip:"时间缩放比例基数",type:cc.Float},addTimeScale:{default:0,tooltip:"加速时,增加的时间",type:cc.Float},guideFive:cc.Sprite,quitKuang:cc.Node},onLoad:function(){cc.find("Canvas/left").setLocalZOrder(31),this.initData(),o.FirstGame&&(this.guideFive.node.active=!0,this.canOver=!1),o.EnZeTianXia=!1,o.HuaJianWeiFan=!1,o.SkillBool=!1,o.troopScore=0,o.returnOnce=!0,this.scoreDisplay.string=o.troopScore.toString(),this.spawnLine(),this.spawnY+=10,this.storeTimeScale=this.timeScale,s.UMLevelCheck("levelClassic","start")},initData:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),this.overLayer.getComponent("GameOver").init(this),this.continueOnce=!0,this.continueLayer.getComponent("ContinueLayer").init(this),this.timer=this.timeLabel.getComponent("Timer"),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.resetLine=this.rainbowLine,this.bomb=!1,this.canOver=!0,this.totalArr=[],this.spacing=parseInt((this.screenWidth-this.rWidth*o.Column)/(o.Column+1)),this.overHeight=.5*-this.screenHeight-20,this.recoverHeight=.5*-this.screenHeight-150,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.spacingX=parseInt(-this.screenWidth/2+this.spacing+60),this.blockNodePool()},start:function(){if(!o.FirstGame){var t=cc.instantiate(this.startAnimPF);t.getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,t.setLocalZOrder(10),this.node.parent.addChild(t);var e=cc.delayTime(3),i=cc.callFunc(function(){this.schedule(this.myUpdate,0),this.returnMenu()},this),n=cc.sequence(e,i);this.node.runAction(n)}},endAnimation:function(){var t=cc.instantiate(this.startAnimPF);t.opacity=0,t.runAction(cc.fadeIn(.2)),t.getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.setLocalZOrder(10),this.node.parent.addChild(t)},onDestroy:function(){this.arexOnePool.clear(),this.arexTwoPool.clear(),this.arexThreePool.clear(),this.bombPool.clear(),this.skillPool.clear(),this.yellowPool.clear()},beginUpdate:function(){this.schedule(this.myUpdate,0)},gameUpdate:function(){o.MusicOffset&&(cc.audioEngine.stop(o.battleMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),this.scoreDisplay.string=o.troopScore.toString(),this.timer.setTime(3),this.timer.startmyUpdate(),this.timer.node.active=!0,o.SkillBool=!1,this.timeScale=this.storeTimeScale,this.setTimeScales(1);this.scheduleOnce(function(t){this.schedule(this.myUpdate,0),this.nullNode.active=!1},3),this.downBottom&&!this.updateRunning&&(this.updateRunning=!0,this.downBottom=!1)},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++){this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.spawnLine(),this.rainbowLine<=0&&!o.EnZeTianXia&&(this.setTimeScales(this.timeScale),this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine));for(var i=0;i<this.temp.length;i++)this.temp[i].getComponent("Scroll").myUpdate(t),this.temp[0].y<this.overHeight&&this.temp[i].tag<1004&&255==this.temp[i].opacity&&(this.downBottom||(this.continueOnce&&!o.FirstGame?this.downOver(i):this.downOverDirect(i))),o.EnZeTianXia&&(this.enzeBool&&this.skillTianxia(),this.skillEnze(i));this.temp[0].y<this.recoverHeight&&this.deleteLine(this.temp)}},stopSkill:function(){o.EnZeTianXia=!1,o.HuaJianWeiFan=!1,o.SkillBool=!1,this.huajianTX.active=!1,this.huajianLZ.active=!1,this.enzeLabel.node.active=!1,this.enze.node.active=!1,this.enzeBool=!0,this.enze.node.x=-35,this.enze.node.y=224,this.skillTime=50},downOverDirect:function(t){if(this.canOver){o.FirstGame&&s.UMLevelCheck("newbie3","finish"),this.stopSkill(),this.nullNode.active=!0,this.updateRunning=!1,this.downBottom=!0,this.temp[t].opacity=125,this.setTimeScales(1),this.node.targetOff(this.node),this.stopUpdate();var e=cc.callFunc(function(){for(var t=0;t<this.totalArr.length;t++)for(var e=0;e<this.totalArr[t].length;e++)this.totalArr[t][e].runAction(cc.moveBy(1,cc.p(0,150)))},this),i=cc.delayTime(1),a=this.temp[t],c=cc.callFunc(function(){a.runAction(cc.blink(1,3))},this),r=cc.callFunc(function(){this.endAnimation()},this),h=cc.delayTime(2.5),l=cc.callFunc(function(){var t=this,e=cc.hide(),i=cc.scaleTo(0,.1),s=cc.show(),a=cc.scaleBy(.5,10);this.overLayer.node.active=!0,this.overLayer.node.setLocalZOrder(11),n.setLocalData("troopScore",parseInt(this.scoreDisplay.string)),cc.find("Canvas/OverLayer").getComponent("GameOver").getScore();var c=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(t.victoryMusic,!1,1)},this.overLayer.node);this.overLayer.node.runAction(cc.sequence(e,i,s,a,c))},this);this.node.runAction(cc.sequence(e,i,c,i,r,h,l))}},downOver:function(t){if(this.canOver){n.setLocalData("troopScore",parseInt(this.scoreDisplay.string)),this.stopSkill(),this.nullNode.active=!0,this.updateRunning=!1,this.downBottom=!0,this.temp[t].opacity=125,this.setTimeScales(1),this.node.targetOff(this.node),this.stopUpdate();var e=cc.callFunc(function(){for(var t=0;t<this.totalArr.length;t++)for(var e=0;e<this.totalArr[t].length;e++)this.totalArr[t][e].runAction(cc.moveBy(1,cc.p(0,150)))},this),i=cc.delayTime(1),o=this.temp[t],s=cc.callFunc(function(){o.runAction(cc.blink(1,3))},this),a=cc.callFunc(function(){var t=cc.hide(),e=cc.scaleTo(0,.1),i=cc.show(),o=cc.scaleBy(.5,10);this.continueLayer.node.active=!0,this.continueLayer.node.setLocalZOrder(11),this.continueLayer.node.runAction(cc.sequence(t,e,i,o))},this);this.node.runAction(cc.sequence(e,i,s,i,a))}},notContinue:function(){var t=this,e=cc.callFunc(function(){this.endAnimation()},this),i=cc.delayTime(2.5),s=cc.callFunc(function(){var e=cc.hide(),i=cc.scaleTo(0,.1),s=cc.show(),a=cc.scaleBy(.5,10);this.overLayer.node.active=!0,this.overLayer.node.setLocalZOrder(11),o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(t.victoryMusic,!1,1),n.setLocalData("troopScore",parseInt(this.scoreDisplay.string)),cc.find("Canvas/OverLayer").getComponent("GameOver").getScore(),this.overLayer.node.runAction(cc.sequence(e,i,s,a))},this);this.node.runAction(cc.sequence(e,i,s))},clickErrorOver:function(t){if(this.canOver){n.setLocalData("troopScore",parseInt(this.scoreDisplay.string)),this.stopSkill(),this.nullNode.active=!0,this.clickError=!0,this.setTimeScales(1),this.node.targetOff(this.node),this.stopUpdate();var e=cc.blink(1,3),i=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(this.clickErrorMusic,!1,1)},t);t.runAction(cc.sequence(i,e));var s=cc.delayTime(1),a=cc.callFunc(function(){if(this.continueLayer.node.active=!0){var t=cc.hide(),e=cc.scaleTo(0,.1),i=cc.show(),o=cc.scaleBy(.5,10);this.continueLayer.node.setLocalZOrder(11),this.continueLayer.node.runAction(cc.sequence(t,e,i,o))}},this);this.node.runAction(cc.sequence(s,a))}},clickErrorOverDirect:function(t){if(this.canOver){o.FirstGame&&s.UMLevelCheck("newbie3","finish"),this.stopSkill(),this.nullNode.active=!0,this.clickError=!0,this.setTimeScales(1),this.node.targetOff(this.node),this.stopUpdate();var e=cc.blink(1,3),i=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(this.clickErrorMusic,!1,1)},t);t.runAction(cc.sequence(i,e));var a=this,c=cc.delayTime(1),r=cc.callFunc(function(){this.endAnimation()},this),h=cc.delayTime(2.5),l=cc.callFunc(function(){if(this.overLayer.node.active=!0){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId);var t=cc.hide(),e=cc.scaleTo(0,.1),i=cc.show(),s=cc.scaleBy(.5,10);this.overLayer.node.setLocalZOrder(11),n.setLocalData("troopScore",parseInt(this.scoreDisplay.string)),cc.find("Canvas/OverLayer").getComponent("GameOver").getScore();var c=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(a.victoryMusic,!1,1)},this.overLayer.node);this.overLayer.node.runAction(cc.sequence(t,e,i,s,c))}},this);this.node.runAction(cc.sequence(c,r,h,l))}},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},stopUpdate:function(){this.unschedule(this.myUpdate)},randomColor:function(){var t=Math.floor(11*Math.random()+1);if(o.HuaJianWeiFan&&(t=9,--this.huajianCount<=0&&(o.SkillBool=!1,o.HuaJianWeiFan=!1,this.huajianTX.active=!1,this.huajianLZ.active=!1,this.huajianCount=20)),10!=t||this.bombBool)if(11!=t||o.SkillBool||o.FirstGame)t<5?this.tempColor.push(this.arexOnePool.get()):t<8?this.tempColor.push(this.arexTwoPool.get()):t<10?this.tempColor.push(this.arexThreePool.get()):this.tempColor.push(this.arexOnePool.get());else{o.SkillBool=!0;var e=cc.instantiate(this.arexPF[5]);e.tag=1005,this.tempColor.push(e)}else this.bombBool=!0,this.tempColor.push(this.bombPool.get());for(var i=0;i<3;++i)this.tempColor.push(this.yellowPool.get());this.tempColor.sort(function(){return.5-Math.random()})},spawnLine:function(){this.rainbowLine--,this.randomColor(),this.bombBool=!1;for(var t=0;t<this.tempColor.length;t++)this.tempColor[t].opacity=255,this.tempColor[t].parent=this.bgLayer.node,this.tempColor[t].setPosition(t*this.spacing+t*this.rWidth+this.spacingX,this.spawnY);this.totalArr.push(this.tempColor),this.tempColor=[]},deleteLine:function(t){this.totalArr.shift();for(var e=0;e<t.length;e++)switch(t[e].tag){case 1001:this.arexOnePool.put(t[e]);break;case 1002:this.arexTwoPool.put(t[e]);break;case 1003:this.arexThreePool.put(t[e]);break;case 1004:this.bombPool.put(t[e]);break;case 1005:this.skillPool.put(t[e]);break;case 1006:this.yellowPool.put(t[e])}},blockNodePool:function(){this.arexOnePool=new cc.NodePool,this.arexTwoPool=new cc.NodePool,this.arexThreePool=new cc.NodePool,this.yellowPool=new cc.NodePool,this.bombPool=new cc.NodePool,this.skillPool=new cc.NodePool;for(var t=0;t<20;++t){var e=cc.instantiate(this.arexPF[0]);e.tag=1001,this.arexOnePool.put(e);var i=cc.instantiate(this.arexPF[1]);i.tag=1002,this.arexTwoPool.put(i);var o=cc.instantiate(this.arexPF[2]);o.tag=1003,this.arexThreePool.put(o);var n=cc.instantiate(this.arexPF[4]);n.tag=1004,this.bombPool.put(n)}for(var s=0;s<50;++s){var a=cc.instantiate(this.arexPF[3]);a.tag=1006,this.yellowPool.put(a)}},pauseGame:function(){this.quitKuang.active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},addScore:function(t){t.opacity=125,1003==t.tag?o.troopScore+=30:1002==t.tag?o.troopScore+=20:1001==t.tag&&(o.troopScore+=10),this.scoreDisplay.string=o.troopScore.toString()},skillTianxia:function(){this.enzeBool=!1,o.EffectOffset&&cc.audioEngine.play(this.enzeMusic),this.enze.node.active=!0,this.enze.getComponent(cc.Animation).play("enze"),this.enzeLabel.node.active=!0},skillEnze:function(t){this.temp[t].tag<1004&&255==this.temp[t].opacity&&(this.skillTime-=2,this.setTimeScales(5),this.addScore(this.temp[t])),0==this.skillTime&&(o.SkillBool=!1,o.EnZeTianXia=!1,this.enzeBool=!0,this.enze.node.x=-35,this.enze.node.y=224,this.skillTime=50,this.enzeLabel.node.active=!1,this.setTimeScales(this.timeScale),o.FirstGame&&(this.stopUpdate(),this.guideFive.node.getChildByName("NewNode").getComponent("NewDialogueSwitchFiveOne").SkillHuaJian=!0))},skillJianFan:function(){var t=cc.delayTime(2),e=cc.callFunc(function(){this.huajianTX.active=!1},this);this.huajianTX.runAction(cc.sequence(t,e))},skillJian:function(){if(20==this.huajianCount){var t=this.huajianLZ.getComponent(cc.ParticleSystem);t.playOnLoad=!0,t.resetSystem(),o.EffectOffset&&cc.audioEngine.play(this.jianfanMusic),this.huajianTX.active=!0,this.huajianLZ.active=!0;var e=cc.delayTime(2),i=cc.callFunc(function(){this.huajianTX.active=!1},this);this.huajianTX.runAction(cc.sequence(e,i)),this.huajianCount--}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],ClassicNullNode:[function(t,e,i){"use strict";cc._RF.push(e,"ae6baz7o8xOcLQbnUwBKqAf","ClassicNullNode");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this)},animStopOpenTouch:function(){var t=this;t.node.on("touchend",t.touchCallback,t)},touchCallback:function(t){t.stopPropagation(),this.node.active=!1,cc.find("Canvas/continueNode").getComponent("ContinueLayer").yesContinue()},closeTouch:function(){var t=this;t.node.off("touchend",t.touchCallback,t)}}),cc._RF.pop()},{Common:"Common"}],ClassicSkill:[function(t,e,i){"use strict";cc._RF.push(e,"2a874oKx4pPuqWghIFs0GWg","ClassicSkill");var o=t("Common");cc.Class({extends:cc.Component,properties:{enZe:{default:null,type:cc.Button,tooltip:"恩泽天下"},huaJian:{default:null,type:cc.Button,tooltip:"化简为繁"}},onLoad:function(){this.randomSkill()},randomSkill:function(){if(o.SkillBool){var t=Math.floor(7*Math.random()+1);t<4?(this.enZe.node.active=!0,this.enZe.enabled=!0):t<=7?(this.huaJian.node.active=!0,this.huaJian.enabled=!0):(this.enZe.node.active=!0,this.enZe.enabled=!0)}},enzetianxia:function(){o.EnZeTianXia=!0,this.node.runAction(cc.fadeOut(1)),this.enZe.enabled=!1},huajianweifan:function(){o.HuaJianWeiFan=!0,this.node.parent.getComponent("ClassicGame").skillJian(),this.node.runAction(cc.fadeOut(1)),this.huaJian.enabled=!1}}),cc._RF.pop()},{Common:"Common"}],ClassicStoreCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"35495p/5TZC6Jdv20QMXlZf","ClassicStoreCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,a=t("./Common"),c=t("./StorageData"),r=t("./JsToJava"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rechargeContent=[],e.gongXiHuoDe=null,e.huoDeAudio=null,e.waitProgress=null,e.rechargeLayer=null,e}return __extends(e,t),e.prototype.onLoad=function(){if(this.node.parent.setLocalZOrder(12),this.gongXiHuoDe.node.setLocalZOrder(12),this.waitProgress.setLocalZOrder(12),!a.FirstName)for(var t=0;t<this.rechargeContent.length;++t)this.openTouchCtrl(this.rechargeContent[t]);GlobalEvent.on("IAP",function(t){var e=this;switch(t.detail){case"org.ww.dmsg.c6":e.coinSuccess(62),r.UMPayCheck(6,1,62,"wu",0,1),e.rechargeLayer.active=!1;break;case"org.ww.dmsg.c18":e.coinSuccess(190),r.UMPayCheck(18,1,190,"wu",0,1),e.rechargeLayer.active=!1;break;case"org.ww.dmsg.c30":e.coinSuccess(340),r.UMPayCheck(30,1,340,"wu",0,1),e.rechargeLayer.active=!1;break;case"org.ww.dmsg.c98":e.coinSuccess(1180),r.UMPayCheck(98,1,1180,"wu",0,1),e.rechargeLayer.active=!1;break;case"org.ww.dmsg.m12":e.monthCardBuy(),r.UMPayCheck(12,1,0,"product10",1,1),e.rechargeLayer.active=!1}e.waitProgress.active=!1},this),GlobalEvent.on("WaitStop",function(t){this.waitProgress.active=!1},this)},e.prototype.openTouchCtrl=function(t){var e=this;t.node.on("touchend",e.registerClickEvent,t)},e.prototype.closeTouchCtrl=function(t){var e=this;t.node.off("touchend",e.registerClickEvent,t)},e.prototype.getAnimProductInfo=function(t,e,i,o,n){for(var s=this.gongXiHuoDe.node.getChildByName("tanchuang"),a=0;a<s.children.length-1;++a)s.children[a].opacity=0;this.gongXiHuoDe.node.getChildByName("jb").opacity=0,0!==o?(this.gongXiHuoDe.node.getChildByName("jb").opacity=255,s.getChildByName("goldX").opacity=255,s.getChildByName("goldCount").opacity=255,s.getChildByName("goldCount").getComponent(cc.Label).string=o+""):t?("一把令牌\n兵强马壮"===n?(s.getChildByName("tokens").opacity=255,s.getChildByName("tokens").setPosition(s.getChildByName("token").getPosition())):-1===e?s.getChildByName("daqiao").opacity=255:s.getChildByName("token").opacity=255,-1!==e&&(s.getChildByName("tokenX").opacity=255,s.getChildByName("lingCount").opacity=255,s.getChildByName("token").setPosition(cc.v2(-70,50)),s.getChildByName("tokenX").setPosition(cc.v2(-80,-8)),s.getChildByName("lingCount").setPosition(cc.v2(-70,-8))),s.getChildByName("arex").opacity=255,s.getChildByName("arexX").opacity=255,s.getChildByName("troopCount").opacity=255,s.getChildByName("arex").setPosition(cc.v2(70,50)),s.getChildByName("arexX").setPosition(cc.v2(50,-8)),s.getChildByName("troopCount").setPosition(cc.v2(60,-8)),s.getChildByName("lingCount").getComponent(cc.Label).string=e+"",s.getChildByName("troopCount").getComponent(cc.Label).string=i+""):0!==e?(s.getChildByName("token").opacity=255,s.getChildByName("tokenX").opacity=255,s.getChildByName("lingCount").opacity=255,s.getChildByName("lingCount").getComponent(cc.Label).string=e+"",s.getChildByName("token").setPosition(cc.v2(0,50)),s.getChildByName("tokenX").setPosition(cc.v2(-10,-8)),s.getChildByName("lingCount").setPosition(cc.v2(0,-8))):0!==i&&(s.getChildByName("arex").opacity=255,s.getChildByName("arexX").opacity=255,s.getChildByName("troopCount").opacity=255,s.getChildByName("troopCount").getComponent(cc.Label).string=i+"",s.getChildByName("arex").setPosition(cc.v2(0,50)),s.getChildByName("arexX").setPosition(cc.v2(-25,5)),s.getChildByName("troopCount").setPosition(cc.v2(-15,5))),s.getChildByName("description").getComponent(cc.Label).string=n},e.prototype.rotateRepeat=function(){cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||(this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgressStore").rotate())},e.prototype.registerClickEvent=function(){var t=this,e=cc.find("Canvas/buy/storeTouchCtrl").getComponent("ClassicStoreCtrl");switch(t.node.name){case"storesRecharge60":e.rotateRepeat(),r.buyCoinWithRMB("org.ww.dmsg.c6");break;case"storesRecharge180":e.rotateRepeat(),r.buyCoinWithRMB("org.ww.dmsg.c18");break;case"storesRecharge300":e.rotateRepeat(),r.buyCoinWithRMB("org.ww.dmsg.c30");break;case"storesRecharge980":e.rotateRepeat(),r.buyCoinWithRMB("org.ww.dmsg.c98")}},e.prototype.coinSuccess=function(t){a.Gold=parseInt(c.getLocalData("Gold")),a.Gold+=t,c.setLocalData("Gold",a.Gold);var e=t+"金币";a.EffectOffset&&cc.audioEngine.play(this.huoDeAudio.toString(),!1,1),this.gongXiHuoDe.node.active=!0,this.gongXiHuoDe.node.getComponent("ClassicNullNode").closeTouch(),this.gongXiHuoDe.node.getComponent(cc.Animation).play(),this.getAnimProductInfo(!1,0,0,t,e)},__decorate([s([cc.Sprite])],e.prototype,"rechargeContent",void 0),__decorate([s(cc.Sprite)],e.prototype,"gongXiHuoDe",void 0),__decorate([s(cc.AudioClip)],e.prototype,"huoDeAudio",void 0),__decorate([s(cc.Node)],e.prototype,"waitProgress",void 0),__decorate([s(cc.Node)],e.prototype,"rechargeLayer",void 0),e=__decorate([n],e)}(cc.Component);i.default=h,cc._RF.pop()},{"./Common":"Common","./JsToJava":"JsToJava","./StorageData":"StorageData"}],ClassicYellow:[function(t,e,i){"use strict";cc._RF.push(e,"b8105kbYcdFQqtbeVvuZJ5K","ClassicYellow"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],ClickReturn:[function(t,e,i){"use strict";cc._RF.push(e,"faff4a8BBZB77pBOQyBHk69","ClickReturn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(){this.node.active=!1},this)}}),cc._RF.pop()},{}],Common:[function(t,e,i){"use strict";cc._RF.push(e,"57f074oiclG05g7R0rHzuim","Common"),window.GlobalEvent=new cc.EventTarget,e.exports={NickName:"",tribeColor:null,Column:4,troopScore:0,Score:0,PreviousLevel:0,CurrentLevel:1,totalScore:1500,Official:"校尉",WarAddition:0,Title:"揭竿而起",Wei:0,Shu:0,Wu:0,scrollSpeed:2,returnOnce:!0,tipMode:!1,xianshiMode:!1,classicMode:!1,limitMode:!1,pvpInMenuFinal:null,pvpNumber:2e3,FinalState:!1,oneArexScore:10,twoArexScore:20,threeArexScore:30,battleMode:!1,battlePower:!1,clickNumber:4,OpenBattleName:"",PlayerBattleScore:0,TaoFaDongZhuo:!1,ZhuoPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},RedWar:!1,WeiTroop:0,ShuTroop:0,WuTroop:0,XuZhouZhiZhan:!1,XuPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},DuiJiuDangGe:!1,DuiPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},TongGuanZhiZhan:!1,TongPower:{WeiTroop:0,AiTroop:0},GuanDuZhiZhan:!1,GuanPower:{WeiTroop:0,AiTroop:0},YiZhouZhiZhan:!1,YiPower:{ShuTroop:0,AiTroop:0},QuEZhiZhan:!1,QuPower:{WuTroop:0,AiTroop:0},HeFeiZhiZhan:!1,HePower:{WuTroop:0,AiTroop:0},PuYangZhiZhan:!1,PuPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},PingYangZhiZhan:!1,PingPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},XingTianGuanCe:!1,XingPower:{ShuTroop:0,AiTroop:0},BaiLangShan:!1,BaiPower:{WeiTroop:0,ShuTroop:0,WuTroop:0},HardModel:!1,HardOpened:!1,SimpleCount:0,Gold:0,TotalHP:15,CurrentHP:15,HpBool:!1,limitTime:15,limitNumber:15,totalLength:15,bgMusicId:-1,battleMusicId:0,duijiuBGM:0,dongzhuoWar:!1,OpacityFlag:!1,ResumeFlag:!1,ZhuoState:!1,TimeState:!1,DeadState:!1,dongzhuoTimes:0,LightSpotSwitch:!1,SkillBool:!1,EnZeTianXia:!1,HuaJianWeiFan:!1,CeMaChangQu:!1,HengSaoQianJun:!1,MiaoShouHuiChun:!1,FirstGame:!1,ShowGuide:!1,newbieZero:!0,newbieOne:!1,newbieTwo:!1,newbieThree:!1,newbieFour:!1,newbieFive:!1,newbieSix:!1,newbieSeven:!1,newbieLast:!1,SevenLast:!1,BreakOff:!1,newbiePuyang:!1,MusicOffset:!0,EffectOffset:!0,PVPorBattle:0,MonthCardVIP:!1,NickNameUnit:["12","13","14","15","145","154","36","46","56","27","38","47","58","465","564","76","26","76","86"],PlayerOne:"",PlayerTwo:"",PersonInitData:[],PowerInitData:[],PopulationInitData:[]},cc._RF.pop()},{}],ConfigLayer:[function(t,e,i){"use strict";cc._RF.push(e,"5c37bN9hjBNybFi6/gEDODi","ConfigLayer");var o=t("Common");cc.Class({extends:cc.Component,properties:{powerButton:cc.Button,selectMusicOn:cc.Sprite,selectMusicOff:cc.Sprite,selectEffectOn:cc.Sprite,selectEffectOff:cc.Sprite,menuBGM:cc.AudioClip,noticeLayer:cc.Sprite,contactLayer:cc.Sprite,contactBut:cc.Button},onLoad:function(){this.powerButton.node.setLocalZOrder(0),"true"===cc.sys.localStorage.getItem("MUSICOFFSET")?(this.selectMusicOn.node.active=!0,this.selectMusicOff.node.active=!1):(this.selectMusicOff.node.active=!0,this.selectMusicOn.node.active=!1),"true"===cc.sys.localStorage.getItem("EFFECTOFFSET")?(this.selectEffectOn.node.active=!0,this.selectEffectOff.node.active=!1):(this.selectEffectOff.node.active=!0,this.selectEffectOn.node.active=!1),this.node.on("touchstart",function(t){t.stopPropagation()},this)},musicOn:function(){o.bgMusicId=cc.audioEngine.play(this.menuBGM),this.selectMusicOn.node.active=!0,this.selectMusicOff.node.active=!1,o.MusicOffset=!0,cc.sys.localStorage.setItem("MUSICOFFSET",o.MusicOffset)},musicOff:function(){cc.audioEngine.stopAll(),this.selectMusicOff.node.active=!0,this.selectMusicOn.node.active=!1,o.MusicOffset=!1,cc.sys.localStorage.setItem("MUSICOFFSET",o.MusicOffset)},effectOn:function(){this.selectEffectOn.node.active=!0,this.selectEffectOff.node.active=!1,o.EffectOffset=!0,cc.sys.localStorage.setItem("EFFECTOFFSET",o.EffectOffset)},effectOff:function(){this.selectEffectOff.node.active=!0,this.selectEffectOn.node.active=!1,o.EffectOffset=!1,cc.sys.localStorage.setItem("EFFECTOFFSET",o.EffectOffset)},showNotice:function(){this.noticeLayer.node.active=!0},showContact:function(){this.contactLayer.node.active=!0}}),cc._RF.pop()},{Common:"Common"}],ContinueLayer:[function(t,e,i){"use strict";cc._RF.push(e,"13739S8PeRCKpA9sClFybeb","ContinueLayer");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{countDownAnim:{default:null,type:cc.Animation},notEnouth:cc.Sprite,inStore:cc.Node,rechargeLayer:cc.Node,game:{default:null,serializable:!1}},onLoad:function(){this.countDownAnim.node.getComponent(cc.Animation).play();var t=cc.delayTime(5),e=cc.callFunc(function(){this.node.active=!1,this.game.notContinue()},this);this.node.runAction(cc.sequence(t,e)),GlobalEvent.on("AdError",this.noContinue,this)},init:function(t){this.game=t},noContinue:function(){this.node.active=!1,this.game.notContinue(),o.FirstGame||(this.inStore.active=!1)},yesContinue:function(){if(o.FirstGame){var t=cc.callFunc(function(){this.noContinue()},this);this.notEnouth.node.runAction(cc.sequence(cc.fadeIn(.7),cc.delayTime(1),t))}o.FirstGame||(o.SkillBool=!1,this.game.huajianCount=20,this.game.continueOnce=!1,o.troopScore=parseInt(n.getLocalData("troopScore")),this.continueFlag=!0,this.node.active=!1,this.game.clickError&&(this.game.clickError=!1,this.game.gameUpdate()),this.game.downBottom&&!this.game.updateRunning&&this.game.gameUpdate())}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],DArexMonsterSix:[function(t,e,i){"use strict";cc._RF.push(e,"4a501pSJ3pO/bXGmuDJFuPV","DArexMonsterSix");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.FirstGame&&2==o.dongzhuoTimes&&12==this.node.parent.getComponent("ZhuoScroll").baoTimer.getTime()&&(this.node.parent.getComponent("ZhuoScroll").fortyScore+=30),o.FirstGame?this.node.parent.getComponent("ZhuoScroll").clickTimesFour--:this.node.parent.getComponent("ZhuoScroll").clickTimes6--,o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.parent.getComponent("Dongzhuo").comboSucc(),this.node.parent.parent.getComponent("Dongzhuo").battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],DArexMonster:[function(t,e,i){"use strict";cc._RF.push(e,"e8d55e0x7JLOY2KdTWY3k1B","DArexMonster");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,o.FirstGame?this.node.parent.getComponent("ZhuoScroll").clickTimesThree--:this.node.parent.getComponent("ZhuoScroll").clickTimesFive--,this.node.parent.parent.getComponent("Dongzhuo").comboSucc(),this.node.parent.parent.getComponent("Dongzhuo").battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],DArexThree:[function(t,e,i){"use strict";cc._RF.push(e,"44090vMcBZAg7SFmqeKwJAM","DArexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.getComponent("Dongzhuo").comboSucc(),this.node.parent.getComponent("Dongzhuo").battleScoreDis.string=o.troopScore.toString())},closeTouch:function(){var t=this;t.node.off("touchstart",this.clickFunc,t)}}),cc._RF.pop()},{Common:"Common"}],DBomb:[function(t,e,i){"use strict";cc._RF.push(e,"caa04v2FMVFQKxPwc1NE3bO","DBomb");t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("Dongzhuo").currentCombo=0,this.node.parent.getComponent("Dongzhuo").comboSprite.node.active=!1,this.node.parent.getComponent("Dongzhuo").clickN(7))},closeTouch:function(){var t=this;t.node.off("touchstart",this.clickFunc,t)}}),cc._RF.pop()},{Common:"Common"}],DSkill:[function(t,e,i){"use strict";cc._RF.push(e,"0e39foI7nJOXJgbPHl/e9rJ","DSkill");var o=t("Common");cc.Class({extends:cc.Component,properties:{ceMa:{default:null,type:cc.Button,tooltip:"策马长驱"},miaoShou:{default:null,type:cc.Button,tooltip:"妙手回春"}},onLoad:function(){this.randomSkill()},randomSkill:function(){if(o.SkillBool){var t=Math.floor(10*Math.random());t<6&&o.MonthCardVIP?this.miaoShou.node.active=!0:this.ceMa.node.active=!0}},cemachangqu:function(){255==this.node.opacity&&(o.CeMaChangQu=!0,this.node.runAction(cc.fadeOut(1)),this.ceMa.enabled=!1)},miaoshouhuichun:function(){255==this.node.opacity&&(o.MiaoShouHuiChun=!0,this.node.parent.getComponent("Dongzhuo").skillMiaoshou(),this.node.runAction(cc.fadeOut(1)),this.miaoShou.enabled=!1)}}),cc._RF.pop()},{Common:"Common"}],DTimer:[function(t,e,i){"use strict";cc._RF.push(e,"90e4a/w7fNEWJXldv1Q1zjw","DTimer"),cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},time:0},onLoad:function(){this.timeCtrlNode=this.node.parent.parent.getComponent("ZhuoScroll"),this.time=15,this.timerDisplay.string=this.time.toString(),this.tempTime=0},setTime:function(t){this.tempTime=0,this.time=t,this.timerDisplay.string=this.time.toString()},getTime:function(t){return this.time},startmyUpdate:function(){this.schedule(this.myUpdate,1)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},showTimer:function(){this.node.active=!0},update:function(t){this.timeCtrlNode.timeIn&&(60===++this.tempTime&&(this.tempTime=0,this.time--,this.timerDisplay.string=this.time+""),0===this.time&&(this.time=15,this.tempTime=0,this.timeCtrlNode.timeIn=!1))},myUpdate:function(t){cc.director.getScheduler().setTimeScale(1),this.time>1?(this.time-=1,this.timerDisplay.string=this.time.toString()):(this.stopmyUpdate(),this.node.active=!1)}}),cc._RF.pop()},{}],DmonsterScroll:[function(t,e,i){"use strict";cc._RF.push(e,"beea6ONIzJJjbwAH4E4YVTR","DmonsterScroll");var o=t("Common");cc.Class({extends:cc.Component,properties:{speed:0,y:0},onLoad:function(){o.FirstGame&&this.startUpdate(),this.currentHeight=.5*-cc.winSize.height+370,this.nodeParent=this.node.parent.getComponent("ZhuoScroll"),this.nodeGrandfather=this.node.parent.parent.getComponent("Dongzhuo")},getNodeY:function(){return this.node.y},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){this.unschedule(this.myUpdate)},myUpdate:function(t){this.nodeGrandfather.clickNumber>0&&(this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.node.y<this.currentHeight&&255==this.node.opacity&&(this.node.opacity=125,this.nodeGrandfather.currentCombo=0,this.nodeGrandfather.comboSprite.node.active=!1,this.nodeGrandfather.clickN(7),"DarexMonsterSix"==this.node.name?o.FirstGame?this.nodeParent.clickTimesFour--:this.nodeParent.clickTimes6--:"DarexMonster"==this.node.name&&(o.FirstGame?this.nodeParent.clickTimesThree--:this.nodeParent.clickTimesFive--)))},update:function(t){!o.FirstGame&&this.nodeGrandfather.clickNumber>0&&(this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.node.y<this.currentHeight&&255==this.node.opacity&&(this.node.opacity=125,this.nodeGrandfather.currentCombo=0,this.nodeGrandfather.comboSprite.node.active=!1,this.nodeGrandfather.clickN(7),"DarexMonsterSix"==this.node.name?o.FirstGame?this.nodeParent.clickTimesFour--:this.nodeParent.clickTimes6--:"DarexMonster"==this.node.name&&(o.FirstGame?this.nodeParent.clickTimesThree--:this.nodeParent.clickTimesFive--)))}}),cc._RF.pop()},{Common:"Common"}],Dongzhuo:[function(t,e,i){"use strict";cc._RF.push(e,"0eef4zg/QJPpJC34PM71GCB","Dongzhuo");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{arexPF:{default:[],type:cc.Prefab},bgLayer:cc.Sprite,tempColor:[],rWidth:0,rHeight:0,rainbowSpac:20,nullNode:cc.Node,totalArr:[],temp:[],battleUpBg:cc.Layout,battleScoreDis:cc.Label,haveBlood:{default:[],type:cc.Sprite},lossBlood:{default:[],type:cc.Sprite},lossBloodEffect:{default:[],type:cc.Sprite},ceMaTX:cc.Node,ceMaJN:cc.Node,skillTime:20,ceMaBool:!0,cemaMusic:{default:null,url:cc.AudioClip},miaoshouMusic:{default:null,url:cc.AudioClip},miaoshouTX:cc.Sprite,overBattle:cc.Layout,overSucc:cc.Layout,startAnim:cc.Node,zhuoGame:{default:null,serializable:!1},comboSprite:cc.Sprite,comboLabel:cc.Label,maxCombo:0,currentCombo:0,currentBossTime:0,killEffect:{default:null,url:cc.AudioClip},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},zhuoShowMusic:{default:null,url:cc.AudioClip},oneTime:{default:0,tooltip:"第一阶段出现的行数",type:cc.Integer},guide:cc.Sprite,guideLabel:cc.Label,guideOver:cc.Sprite,firstStage:!0,secondStage:!0,thirdStage:!0,zhuoNode:cc.Node,seeZhuo:cc.Label,rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时速度叠加",type:cc.Integer},clickFirstStage:{default:0,tooltip:"第一阶段boss出现需要点击的行数",type:cc.Integer},clickSecondStage:{default:0,tooltip:"第二阶段boss出现需要点击的行数",type:cc.Integer},clickThirdStage:{default:0,tooltip:"第三阶段boss出现需要点击的行数",type:cc.Integer},firstStageTime:{default:0,tooltip:"第一阶段boss持续时间",type:cc.Integer},secondStageTime:{default:0,tooltip:"第二阶段boss持续时间",type:cc.Integer},thirdStageTime:{default:0,tooltip:"第三阶段boss持续时间",type:cc.Integer},timeScale:{default:0,tooltip:"第一阶段初始速度",type:cc.Float},addTimeScale:{default:0,tooltip:"第一阶段加速度",type:cc.Float},secondScale:{default:0,tooltip:"第二阶段初始速度",type:cc.Float},addTimeSecScale:{default:0,tooltip:"第二阶段加速度",type:cc.Float},thirdScale:{default:0,tooltip:"第三阶段初始速度",type:cc.Float},addTimeThirdScale:{default:0,tooltip:"第三阶段加速度",type:cc.Float},unBroken:!0},onLoad:function(){o.FirstGame&&(this.guide.node.active=!0),o.returnOnce=!0,this.initData(),this.battleUpBg.node.active=!0,this.spawnLine(),this.spawnY+=15,1===parseInt(n.getLocalData("NewStatenewbie5"))&&(s.UMLevelCheck("newbie5","finish"),n.setLocalData("NewStatenewbie5",2))},startGame:function(){if(!o.FirstGame){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var t=cc.delayTime(3),e=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard1","start"):s.UMLevelCheck("level1","start"),this.schedule(this.myUpdate,0),this.returnMenu()},this),i=cc.sequence(t,e);this.node.runAction(i)}},startMyUpdate:function(){this.schedule(this.myUpdate,0)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},beginUpdate:function(){this.schedule(this.myUpdate,0)},initData:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.troopScore=0,this.battleScoreDis.string=o.troopScore.toString(),o.dongzhuoTimes=0,o.MiaoShouHuiChun=!1,o.CeMaChangQu=!1,o.SkillBool=!1,o.dongzhuoWar=!1,o.ZhuoState=!1,o.DeadState=!1,this.oneTime=0,this.timeScaleStore=this.timeScale,this.overBattle.getComponent("GameOver").init(this),this.zhuoNode.getComponent("ZhuoScroll").init(this),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.resetLine=this.rainbowLine,this.totalArr=[],this.blockNodePool(),this.clickNumber=o.clickNumber,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.overHeight=.5*-this.screenHeight-20,this.spacingX=.5*-this.screenWidth+this.rainbowSpac+60,this.spacingAndWidth=this.rainbowSpac+this.rWidth,this.storeStageLine=this.clickFirstStage},init:function(t){this.zhuoGame=t},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++)this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.spawnLine(),this.rainbowLine<=0&&!o.CeMaChangQu&&(this.firstStage?(this.setTimeScales(this.timeScale),this.timeScale+=this.addTimeScale,this.timeScaleStore=this.timeScale,this.rainbowLine=this.resetLine):this.secondStage&&o.dongzhuoTimes<3?(this.setTimeScales(this.secondScale),this.secondScale+=this.addTimeSecScale,this.timeScaleStore=this.secondScale,this.rainbowLine=this.resetLine):this.thirdStage&&o.dongzhuoTimes<3?(this.setTimeScales(this.thirdScale),this.thirdScale+=this.addTimeThirdScale,this.timeScaleStore=this.thirdScale,this.rainbowLine=this.resetLine):o.dongzhuoTimes>2&&(this.setTimeScales(this.timeScaleStore),this.timeScaleStore+=this.addTimeThirdScale,this.rainbowLine=this.resetLine))),this.oneTime==this.storeStageLine&&(this.firstStage?(o.FirstGame&&(this.seeZhuo.string="发现张梁！15秒内将其击败！"),++o.dongzhuoTimes,o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(o.dongzhuoTimes):this.seeZhuo.node.active=!0,this.valueChange(),this.firstStage=!1,this.currentBossTime=this.firstStageTime,this.storeStageLine=this.clickSecondStage):this.secondStage?(++o.dongzhuoTimes,o.FirstGame?(this.seeZhuo.string="发现张宝！15秒内将其击败！",this.seeZhuo.node.active=!0):o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(o.dongzhuoTimes):(this.seeZhuo.string="发现董卓！15秒内将其击退！",this.seeZhuo.node.active=!0),this.valueChange(),this.secondStage=!1,this.currentBossTime=this.secondStageTime,this.storeStageLine=this.clickThirdStage):this.thirdStage?(++o.dongzhuoTimes,o.FirstGame?(this.seeZhuo.string="苍天已死，黄天当立，岁在甲子，天下大吉！",this.seeZhuo.node.active=!0):o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(o.dongzhuoTimes):(this.seeZhuo.string="发现董卓！20秒内将其击退！",this.seeZhuo.node.active=!0),this.valueChange(),this.thirdStage=!1,o.HardModel?(this.thirdStageTime=15,this.currentBossTime=this.thirdStageTime,this.clickThirdStage=80):this.currentBossTime=this.thirdStageTime,this.storeStageLine=this.clickThirdStage):o.HardModel&&o.dongzhuoTimes>=3&&(++o.dongzhuoTimes,o.FirstGame||(o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(o.dongzhuoTimes):(this.seeZhuo.string="发现董卓！ 20秒内将其击退！",this.seeZhuo.node.active=!0)),this.valueChange(),this.thirdStage=!1,this.thirdStageTime=15,this.currentBossTime=this.thirdStageTime,this.storeStageLine=this.clickThirdStage)),this.temp[0].getComponent("Scroll").myUpdate(t),this.temp[0].y<this.overHeight&&1003==this.temp[0].tag&&255==this.temp[0].opacity&&(this.currentCombo=0,this.comboSprite.node.active=!1,this.clickN(0)),o.CeMaChangQu&&(this.ceMaBool&&this.skillChangqu(),this.skillCema(0)),this.temp[0].y<this.overHeight&&this.deleteLine(this.temp)},valueChange:function(){this.stopSkill(),o.EffectOffset&&cc.audioEngine.play(this.zhuoShowMusic,!1,.4),this.oneTime=0,this.skillTime=0,o.ZhuoState=!0,o.dongzhuoWar=!0,cc.director.getScheduler().setTimeScale(this.timeScaleStore)},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},setPreScale:function(){this.setTimeScales(1)},guideFunc:function(){this.unschedule(this.myUpdate);for(var t=0;t<4;++t)this.haveBlood[t].node.runAction(cc.blink(1,3));this.guide.node.active=!0,this.guideLabel.string="血量耗尽可就无法战斗了，这次我帮您先补满！"},comboSucc:function(){++this.currentCombo>=10&&(this.comboSprite.node.active=!0,this.comboLabel.string=this.currentCombo.toString()),this.maxCombo<this.currentCombo&&(this.maxCombo=this.currentCombo)},bloodCheck:function(){for(;this.clickNumber>0;){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40)),this.lossBlood[this.clickNumber].node.active=!0;var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5),i=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}},stopSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=0},resumeSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=20},clickN:function(t){if(this.clickNumber>0&&9!=t){this.unBroken=!1,this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),9!=t&&7!=t&&(this.temp[t].opacity=125)}if(o.FirstGame&&o.newbieTwo&&this.clickNumber<=0){this.clickNumber=4;for(var n=0;n<4;++n)this.haveBlood[n].node.active=!0,this.lossBlood[n].node.active=!1,this.lossBloodEffect[n].node.opacity=255,this.lossBloodEffect[n].node.setScale(1,1),this.lossBloodEffect[n].node.active=!1;this.guideFunc()}if(this.clickNumber<=0||9==t){this.zhuoGame.timeIn=!1,cc.director.getScheduler().setTimeScale(1),this.stopSkill(),this.nullNode.active=!0,this.oneTime=0,9!=t&&7!=t&&(this.temp[t].opacity=125);var a=parseInt(this.battleScoreDis.string);Math.floor(parseInt(this.battleScoreDis.string)*(1+.01*this.maxCombo)/10);o.dongzhuoWar=!1,o.dongzhuoTimes=0,o.ZhuoState=!1,o.DeadState=!1,this.firstStage=!0,this.secondStage=!0,this.thirdStage=!0,this.clearNodePool(),this.node.targetOff(this.node);var c=cc.hide(),r=cc.scaleTo(0,.1),h=cc.show(),l=cc.scaleBy(.5,10),u=cc.delayTime(1),d=cc.callFunc(function(){if(!o.FirstGame){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)}},this);if(o.FirstGame)p=cc.delayTime(0);else var p=cc.delayTime(2.5);if(this.stopUpdate(),9==t){o.HardModel||o.FirstGame||s.UMLevelCheck("level1","finish"),o.FirstGame&&s.UMLevelCheck("newbie2","finish"),this.zhuoGame.stopTarget(),this.zhuoGame.zhuoTimer.stopmyUpdate();var m=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");!this.unBroken||o.HardModel||o.FirstGame||t.judgeOnce(this.unBroken),o.HardModel||o.FirstGame||t.judgeOnce(-1),t.battleScore(a,this.maxCombo);var e=this,i=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(e.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(c,r,h,l,i))},this),g=cc.callFunc(function(){o.FirstGame&&(this.guideOver.node.active=!0)},this);this.node.runAction(cc.sequence(u,d,p,m,cc.delayTime(.7),g))}else{o.HardModel||s.UMLevelCheck("level1","fail"),this.zhuoGame.stopTarget(),this.zhuoGame.zhuoTimer.stopmyUpdate();var f=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),C=cc.delayTime(1),m=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(a,this.maxCombo);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(c,r,h,l,e))},this);this.node.runAction(cc.sequence(u,f,C,d,p,m))}}},stopUpdate:function(){this.unschedule(this.myUpdate)},randomColor:function(){var t=Math.floor(11*Math.random());if(t<7)this.tempColor.push(this.arexThreePool.get());else if(t<10&&!this.bombBool)this.bombBool=!0,this.tempColor.push(this.bombPool.get());else if(o.dongzhuoWar||o.SkillBool||o.FirstGame)this.tempColor.push(this.arexThreePool.get());else{o.SkillBool=!0;var e=cc.instantiate(this.arexPF[3]);e.tag=1005,this.tempColor.push(e)}},spawnLine:function(){this.bombBool=!1,this.randomColor(),o.dongzhuoWar||(this.oneTime++,this.rainbowLine--),o.dongzhuoWar?(this.tempColor[0].opacity=100,1003==this.tempColor[0].tag&&this.tempColor[0].getComponent("DArexThree").closeTouch()):(this.tempColor[0].opacity=255,1003==this.tempColor[0].tag&&this.tempColor[0].getComponent("DArexThree").setInputControl()),this.tempColor[0].parent=this.bgLayer.node;var t=Math.floor(5*Math.random());this.tempColor[0].setPosition(t*this.spacingAndWidth+this.spacingX,this.spawnY),this.totalArr.push(this.tempColor),this.tempColor=[]},deleteLine:function(t){this.totalArr.shift();for(var e=0;e<t.length;e++)switch(t[e].tag){case 1003:this.arexThreePool.put(t[e]);break;case 1004:this.bombPool.put(t[e]);break;case 1005:this.skillPool.put(t[e])}},blockNodePool:function(){this.arexThreePool=new cc.NodePool,this.bombPool=new cc.NodePool,this.skillPool=new cc.NodePool;for(var t=0;t<40;++t){var e=cc.instantiate(this.arexPF[0]);e.tag=1003,this.arexThreePool.put(e);var i=cc.instantiate(this.arexPF[1]);i.tag=1004,this.bombPool.put(i)}},clearNodePool:function(){this.arexThreePool.clear(),this.bombPool.clear(),this.skillPool.clear()},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},addScore:function(t){t.opacity=125,o.troopScore+=30,this.battleScoreDis.string=o.troopScore.toString()},skillChangqu:function(){o.EffectOffset&&cc.audioEngine.play(this.cemaMusic),this.ceMaBool=!1,this.ceMaTX.active=!0,this.ceMaTX.runAction(cc.show()),this.ceMaTX.getComponent(cc.Animation).play("jndh"),this.ceMaJN.active=!0},skillCema:function(t){1003==this.temp[t].tag&&255==this.temp[t].opacity&&(this.skillTime-=1,this.setTimeScales(5),this.addScore(this.temp[t])),this.skillTime<=0&&(o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaBool=!0,this.ceMaTX.x=-470,this.ceMaTX.y=-30,this.skillTime=20,this.ceMaJN.active=!1,this.ceMaTX.runAction(cc.hide()),this.setTimeScales(this.timeScaleStore))},skillMiaoshou:function(){if(o.MiaoShouHuiChun=!1,4!=this.clickNumber){o.EffectOffset&&cc.audioEngine.play(this.miaoshouMusic,!1,1);for(var t=0;t<4;t++)1==this.lossBlood[t].node.active&&(this.clickNumber++,this.lossBlood[t].node.active=!1,this.haveBlood[t].node.active=!0,this.lossBloodEffect[t].node.opacity=255,this.lossBloodEffect[t].node.setScale(1,1),this.lossBloodEffect[t].node.active=!1,t=4);this.miaoshouTX.node.active=!0;var e=cc.delayTime(2),i=cc.callFunc(function(){this.miaoshouTX.node.active=!1},this),n=cc.sequence(e,i);this.miaoshouTX.node.runAction(n)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],Dyellow:[function(t,e,i){"use strict";cc._RF.push(e,"1f883iYrRNIx5ZhR/RxJElK","Dyellow"),cc.Class({extends:cc.Component,properties:{}}),cc._RF.pop()},{}],EnergyCounter:[function(t,e,i){"use strict";cc._RF.push(e,"20345gWhxVFvIrMf358oSSY","EnergyCounter");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{timeToRecover:0,gameMenu:{default:null,serializable:!1},timerLabel:{default:null,type:cc.Label},currentHP:0,totalHP:0},onLoad:function(){this.callOnce=!0,cc.game.addPersistRootNode(this.node),cc.game.on(cc.game.EVENT_HIDE,function(){var t=new Date;n.setLocalData("EXITTIME",t.getTime())}),cc.game.on(cc.game.EVENT_SHOW,function(){if(n.getLocalData("EXITTIME")){var t=parseInt(n.getLocalData("EXITTIME")),e=(new Date).getTime(),i=Math.floor((e-t)/1e3),s=0,a=0;if(n.getLocalData("ENDTOTALIZE")&&(s=parseInt(n.getLocalData("ENDTOTALIZE"))),(i+=s)<300)n.setLocalData("ENDTOTALIZE",i);else{n.setLocalData("ENDTOTALIZE",0),a=Math.floor(i/300),o.CurrentHP=parsetInt(n.getLocalData("HP"));var c=o.TotalHP-o.CurrentHP;c>0&&a>=c?(o.CurrentHP+=c,n.setLocalData("HP",o.CurrentHP)):o.CurrentHP<o.TotalHP&&(o.CurrentHP+=a,o.CurrentHP>o.TotalHP&&(o.CurrentHP=o.TotalHP),n.setLocalData("HP",o.CurrentHP))}}}),this.timer=0,null!=n.getLocalData("HP")&&(o.CurrentHP=parseInt(n.getLocalData("HP")),o.CurrentHP<0&&(o.CurrentHP=0)),this.totalHP=o.TotalHP,this.node.runAction(cc.hide())},init:function(t){this.gameMenu=t},getTime:function(){return this.timer},update:function(t){if(o.CurrentHP<this.totalHP){this.callOnce&&(this.judgeMonthCard(),o.MonthCardVIP?this.timeToRecover=120:this.timeToRecover=300,this.callOnce=!1);var e=Math.floor(this.timeToRecover-this.timer);this.timerLabel.string=Math.floor(e/60).toString()+":"+(e%60<10?"0":"")+e%60,this.timer+=t,this.timer>=this.timeToRecover&&(this.timer=0,o.CurrentHP+=1,n.setLocalData("HP",o.CurrentHP))}else this.callOnce=!0;o.HpBool&&this.node.runAction(cc.sequence(cc.show(),cc.delayTime(4),cc.hide()))},judgeMonthCard:function(){var t=parseInt(n.getLocalData("MonthEffectiveTime")),e=Date.now(),i=parseInt(n.getLocalData("MonthEffectiveHaveTime"))-(e-t);i>0?(o.MonthCardVIP=!0,n.setLocalData("MonthEffectiveHaveTime",i)):(o.MonthCardVIP=!1,n.setLocalData("MONTHCARD",o.MonthCardVIP),n.setLocalData("MonthEffectiveHaveTime",0),n.setLocalData("MonthEffectiveTime",0))}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],FinalAction:[function(t,e,i){"use strict";cc._RF.push(e,"e7a83bkoVJHRLhlrnS6b7eR","FinalAction"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,a=t("./Common"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteArr=[],e._spritePos=[],e.openBattle=null,e._openPos=[],e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.spriteArr.length;++t)this._spritePos.push(this.spriteArr[t].node.getPosition());null!==this.openBattle&&this._openPos.push(this.openBattle.node.getPosition()),this.spriteAction()},e.prototype.spriteAction=function(){var t=.4;a.limitMode&&(t=1);for(var e=0;e<this.spriteArr.length;++e)t+=.2,this.spriteArr[e].node.runAction(cc.moveBy(t,cc.p(424,0)))},e.prototype.setOriginalPos=function(){for(var t=0;t<this.spriteArr.length;++t)this.spriteArr[t].node.setPosition(this._spritePos[t])},e.prototype.openBattleAction=function(){var t=.4;a.limitMode&&(t=1),this.openBattle.node.runAction(cc.moveBy(t,cc.p(-540,0)))},e.prototype.setOpenPos=function(){this.openBattle.node.setPosition(this._openPos[0])},__decorate([s([cc.Sprite])],e.prototype,"spriteArr",void 0),__decorate([s(cc.p)],e.prototype,"_spritePos",void 0),__decorate([s(cc.Sprite)],e.prototype,"openBattle",void 0),__decorate([s(cc.p)],e.prototype,"_openPos",void 0),e=__decorate([n],e)}(cc.Component);i.default=c,cc._RF.pop()},{"./Common":"Common"}],GBlockHero:[function(t,e,i){"use strict";cc._RF.push(e,"9227eCLbWNOhq1+m+R0YmnR","GBlockHero"),cc.Class({extends:cc.Component,properties:{timer:{default:null,type:cc.Label,tooltip:"亮起时间"}},onLoad:function(){this.timeComp=this.timer.getComponent("GBlockTimer")},startTimeUpdate:function(t){this.timeComp.startmyUpdate()}}),cc._RF.pop()},{}],GBlockNormal:[function(t,e,i){"use strict";cc._RF.push(e,"4b536pV4RZHVY97H1u7Jtgn","GBlockNormal"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],GBlockTimer:[function(t,e,i){"use strict";cc._RF.push(e,"c723b5EThFEyp2/NsrtR/EL","GBlockTimer");var o=t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},time:0},onLoad:function(){this.time=200,this.timerDisplay.string="2:00",this.parentComp=this.node.parent.parent.getComponent("GGame")},setTime:function(t){this.time=t,this.node.active=!0;var e=Math.floor(this.time/100),i=this.time-100*Math.floor(this.time/100);i<10&&(i="0"+i),this.timerDisplay.string=e+":"+i},getTime:function(t){return this.time},startmyUpdate:function(){o.HardModel?(this.parentComp.blockTime-=2,this.time=this.parentComp.blockTime):this.time=200;var t=Math.floor(this.time/100),e=this.time-100*Math.floor(this.time/100);e<10&&(e="0"+e),this.timerDisplay.string=t+":"+e,this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},myUpdate:function(t){this.time--;var e=Math.floor(this.time/100),i=this.time-100*Math.floor(this.time/100);i<10&&(i="0"+i),this.parentComp.clickNumber>0?(this.node.runAction(cc.show()),this.timerDisplay.string=e+":"+i):this.stopmyUpdate(),e<=0&&i<=0&&(this.time=-1,this.stopmyUpdate(),this.parentComp.clickN(),this.blockAction(this.node.parent))},blockAction:function(t){var e=cc.moveBy(.03,cc.p(-5,0)),i=cc.moveBy(.03,cc.p(10,0)),o=cc.moveBy(.03,cc.p(-5,0)),n=cc.moveBy(.03,cc.p(0,5)),s=cc.moveBy(.03,cc.p(0,-10)),a=cc.moveBy(.03,cc.p(0,5)),c=cc.hide(),r=cc.callFunc(function(){this.parentComp.currentLight=this.parentComp.randomLight()},this),h=cc.sequence(e,i,o,n,s,a,c,r);t.runAction(h)}}),cc._RF.pop()},{Common:"Common"}],GDBoss:[function(t,e,i){"use strict";cc._RF.push(e,"e3b39OQ2tdO2qAUlbYkT92C","GDBoss");var o=t("Common");cc.Class({extends:cc.Component,properties:{heroLiang:{default:null,type:cc.Sprite,tooltip:"颜良"},heroChou:{default:null,type:cc.Sprite,tooltip:"文丑"},game:{default:null,serializable:!1},lossBlood:cc.Sprite,bloodBar:cc.Node},onLoad:function(){o.HardModel&&(this.lossBlood.node.active=!1,this.bloodBar.active=!1)},init:function(t){this.game=t}}),cc._RF.pop()},{Common:"Common"}],GDGame:[function(t,e,i){"use strict";cc._RF.push(e,"5f87e4AumZHeaHhFGfpcbkx","GDGame");var o=t("Common"),n=t("JsToJava");cc.Class({extends:cc.Component,properties:{yyArrs:{default:[],type:cc.Prefab,tooltip:"阴阳序列"},startAnim:cc.Node,warTimeLabel:{default:null,type:cc.Label,tooltip:"战役总计时"},stageTimeLabel:{default:null,type:cc.Label,tooltip:"阶段倒计时"},battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},failMusic:{default:null,url:cc.AudioClip,tooltip:"失败音效"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},lossBloodMusic:{default:null,url:cc.AudioClip,tooltip:"掉血音效"},overFail:{default:null,type:cc.Layout,tooltip:"失败"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利"},gossip:{default:null,type:cc.Sprite,tooltip:"阴阳"},gossipBlack:{default:null,type:cc.Node,tooltip:"黑阴"},gossipWhite:{default:null,type:cc.Node,tooltip:"白阳"},gossipAnim:{default:null,type:cc.Sprite,tooltip:"阴阳动画"},gossipCircle:{default:null,type:cc.Sprite,tooltip:"阴阳周围效果"},monsterPf:{default:null,type:cc.Prefab,tooltip:"六小怪"},bossBlood:{default:null,type:cc.ProgressBar,tooltip:"boss血量"},bossNode:{default:null,type:cc.Node,tooltip:"颜良文丑"},bossDied:{default:null,url:cc.AudioClip,tooltip:"boss死亡音效"},bossHurt:{default:null,url:cc.AudioClip,tooltip:"boss受伤音效"},clickMusic:{default:null,url:cc.AudioClip},battleLayer:{default:null,type:cc.Layout,tooltip:"关闭此层"},heroLiang:{default:null,type:cc.Sprite,tooltip:"颜良"},heroChou:{default:null,type:cc.Sprite,tooltip:"文丑"},nullNode:cc.Node,exitBox:cc.Prefab},onLoad:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.GuanDuZhiZhan=!0,this.initData()},initData:function(){o.returnOnce=!0,this.monsterPool=new cc.NodePool,this.monsterSpeed=150,this.heroChou.node.setLocalZOrder(-1),this.battleLayer.node.active=!1,this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.forDelete=[],this.opacityCount=0,this.stageTimer=this.stageTimeLabel.getComponent("GDstageTimer"),this.stageTimer.init(this),this.warTimer=this.warTimeLabel.getComponent("GDwarSeconds"),this.warTimer.init(this),this.clickTimesSix=0,this.clickNumber=4,this.sixMonster=[],this.boolSkill=!1,this.yinX=0,this.currentSeq=[],this.currentSeqCount=0,this.bossNode.getComponent("GDBoss").init(this),this.already=!1,this.eachLossBlood=.09,this.scaleMin=cc.scaleBy(.01,.9),this.scaleResume=this.scaleMin.reverse(),this.timeLimit=345,this.spawnFlag=!1},startGame:function(){if(!o.FirstGame){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(12),this.seqOne();var t=cc.delayTime(1.5),e=cc.callFunc(function(){this.yyRotate(),this.heroChou.node.runAction(cc.fadeIn(1.5)),this.heroLiang.node.runAction(cc.fadeIn(1.5))},this);this.node.runAction(cc.sequence(t,e));var i=cc.delayTime(3),s=cc.callFunc(function(){o.HardModel?n.UMLevelCheck("levelHard6","start"):n.UMLevelCheck("level6","start"),this.warTimer.startmyUpdate(),this.nullNode.active=!1,this.returnMenu()},this),a=cc.sequence(i,s);this.node.runAction(a)}},pauseWarTimer:function(){cc.director.getScheduler().pauseTarget(this.warTimer),cc.director.getScheduler().pauseTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().pauseTarget(this.sixMonster[t].getComponent("GDmonsterScroll"))},resumeWarTimer:function(){cc.director.getScheduler().resumeTarget(this.warTimer),cc.director.getScheduler().resumeTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().resumeTarget(this.sixMonster[t].getComponent("GDmonsterScroll"))},yyRotate:function(){var t=Math.round(Math.random())+5,e=cc.rotateBy(.2,180),i=this.gossipAnim.node.getComponent(cc.Animation);cc.delayTime(.2);this.already&&this.nextStage();var o=cc.callFunc(function(){i.play(),this.yinX=this.gossipBlack.convertToWorldSpaceAR(this.gossipBlack.getPosition()).x,this.yinX<300?(this.heroLiang.tag=0,this.heroChou.tag=1):(this.heroLiang.tag=1,this.heroChou.tag=0),0==this.gossipCircle.node.active&&(this.gossipCircle.node.active=!0),this.stageTimer.startmyUpdate(),this.setInputControl()},this);5==t?this.gossip.node.runAction(cc.sequence(e,e,e,e,e,o)):this.gossip.node.runAction(cc.sequence(e,e,e,e,e,e,o))},setInputControl:function(){var t=this;t.bossNode.on("touchstart",t.bossControl,t)},closeInputControl:function(){var t=this;t.bossNode.off("touchstart",t.bossControl,t)},bossControl:function(t){this.already=!0;for(var e=t.touch.getLocation(),i=0;i<this.currentSeq.length;++i)if(this.heroLiang.tag==this.currentSeq[i]&&this.heroLiang.node.getBoundingBoxToWorld().contains(e)){if(this.heroLiang.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1),o.HardModel||11!=this.currentStage||0!=this.currentSeq.length){if(0==this.currentSeq.length){for(n=0;n<this.forDelete.length;++n)this.shakeAction(this.forDelete[n]);this.shakeAction(this.heroChou.node),this.shakeAction(this.heroLiang.node),this.stageAction()}}else this.bossBlood.progress-=this.bossBlood.progress,this.succShow(),this.unschedule(this.update);i=this.currentSeq.length}else if(this.heroChou.tag==this.currentSeq[i]&&this.heroChou.node.getBoundingBoxToWorld().contains(e)){if(this.heroChou.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1),o.HardModel||11!=this.currentStage||0!=this.currentSeq.length){if(0==this.currentSeq.length){for(var n=0;n<this.forDelete.length;++n)this.shakeAction(this.forDelete[n]);this.shakeAction(this.heroChou.node),this.shakeAction(this.heroLiang.node),this.stageAction()}}else this.bossBlood.progress-=this.bossBlood.progress,this.succShow(),this.unschedule(this.update);i=this.currentSeq.length}else if(this.heroChou.node.getBoundingBoxToWorld().contains(e)||this.heroLiang.node.getBoundingBoxToWorld().contains(e)){var s=cc.delayTime(.5);this.closeInputControl(),this.stageTimer.stopmyUpdate(),this.forDelete[this.opacityCount].runAction(cc.blink(.5,3));var a=cc.callFunc(function(){this.spawnMonster()},this);this.node.runAction(cc.sequence(s,a)),i=this.currentSeq.length}},stageAction:function(){var t=cc.callFunc(function(){this.stageTimer.stopmyUpdate(),o.EffectOffset&&cc.audioEngine.play(this.bossHurt),!0===this.bossBlood.node.parent.active&&(this.bossBlood.progress-=this.eachLossBlood,this.bossBlood.progress=parseFloat(this.bossBlood.progress.toFixed(2)))},this),e=cc.delayTime(.5),i=cc.callFunc(function(){this.yyRotate()},this);this.node.runAction(cc.sequence(t,e,i))},nextStage:function(){this.closeInputControl();var t=this.currentStage;switch(t>=11&&(t=11),t){case 0:this.seqOne();break;case 1:this.seqTwo();break;case 2:this.seqThree();break;case 3:this.seqFour();break;case 4:this.seqFive();break;case 5:this.seqSix();break;case 6:this.seqSeven();break;case 7:this.seqEight();break;case 8:this.seqNine();break;case 9:this.seqTen();break;case 10:this.seqEleven();break;case 11:this.hardInfinite()}},sixMonsterPool:function(){if(this.monsterPool.size()>=6);else for(var t=0;t<6;++t)this.monsterPool.put(cc.instantiate(this.monsterPf))},putMosterPool:function(t){this.monsterPool.put(t);for(var e=0;e<this.sixMonster.length;++e)t===this.sixMonster[e]&&this.sixMonster.splice(e,1)},spawnMonster:function(){if(this.spawnFlag=!0,this.closeInputControl(),this.forDelete.length>0){for(e=0;e<this.forDelete.length;++e)this.forDelete[e].destroy();this.forDelete=[]}this.sixMonsterPool(),this.boolSkill=!0,this.sixMonster.length=0;for(var t=0;t<6;++t)this.sixMonster.push(this.monsterPool.get());this.clickTimesSix+=6,this.monsterSpeed+=15;for(var e=0;e<this.sixMonster.length;++e){this.sixMonster[e].getComponent("GDmonsterScroll").setSpeed(this.monsterSpeed),this.sixMonster[e].parent=this.node,this.sixMonster[e].opacity=255;var i=90*e-280+20*e,o=Math.floor(270*Math.random()-170);this.sixMonster[e].setPosition(i,o)}},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var n=(new Date).getTime();StorageData.setLocalData("EXITTIME",n)}}},t.node)}},finalScore:function(t){return t>7400?500:t>=7e3?700:t>=6500?900:t>=6e3?1e3:t>=5500?2e3:t>=5e3?3500:t>=4500?5e3:t>=4e3?7e3:t>=3500?8e3:t>=3e3?9e3:t>=2400?11e3:t>=0?2e4:void 0},finalSCoreHard:function(){},clickN:function(t){if(this.clickNumber>0&&9!=t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5),s=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i,s)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}if(this.clickNumber<=0||9==t){this.nullNode.active=!0,this.gameTime=this.warTimer.getTotalTime();var a=this.finalScore(this.gameTime);this.clearNodePool();var c=cc.hide(),r=cc.scaleTo(0,.1),h=cc.show(),l=cc.scaleBy(.5,10),u=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimGuanduReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),d=cc.delayTime(2),p=cc.delayTime(1);if(9==t){s=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||n.UMLevelCheck("level6","finish");var e=parseInt(this.warTimeLabel.node.getChildByName("warSeconds").getComponent(cc.Label).string);e<=45&&!o.HardModel&&t.judgeOnce(e),o.HardModel||t.judgeOnce(-1),t.battleScore(a);var i=this,s=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(i.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(c,r,h,l,s))},this);this.node.runAction(cc.sequence(p,u,d,s))}else{a=o.HardModel?10*this.currentSeqCount*this.currentStage:2*this.currentSeqCount,this.warTimer.stopmyUpdate();var m=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),g=cc.delayTime(1),s=cc.callFunc(function(){this.overFail.node.active=!0,this.overFail.node.setLocalZOrder(11),o.HardModel||n.UMLevelCheck("level6","fail"),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(a);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overFail.node);this.overFail.node.runAction(cc.sequence(c,r,h,l,e))},this);this.node.runAction(cc.sequence(p,m,g,u,d,s))}}},shakeAction:function(t){var e=cc.moveBy(.03,cc.p(-5,0)),i=cc.moveBy(.03,cc.p(10,0)),o=cc.moveBy(.03,cc.p(-5,0));t.runAction(cc.repeat(cc.sequence(e,i,o),8))},succShow:function(){this.stageTimer.stopmyUpdate(),this.warTimer.stopmyUpdate(),this.gossip.node.runAction(cc.fadeOut(4));for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].runAction(cc.fadeOut(4));this.bossNode.getChildByName("loseBloodbar").active=!1,this.bossNode.getChildByName("bloodBar").active=!1,o.EffectOffset&&cc.audioEngine.play(this.bossDied,!1,1);var e=cc.moveBy(.03,cc.p(-5,0)),i=cc.moveBy(.03,cc.p(10,0)),n=cc.moveBy(.03,cc.p(-5,0)),s=cc.fadeOut(4),a=cc.callFunc(function(){this.clickN(9)},this);this.bossNode.runAction(cc.sequence(cc.repeat(cc.sequence(e,i,n),8),s,a))},clearNodePool:function(){if(this.monsterPool.size()>0&&this.monsterPool.clear(),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[]},seqOne:function(){if(this.currentStage=1,this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];var e=Math.floor(24*Math.random()),i=cc.instantiate(this.yyArrs[e]);e%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(i),i.setPosition(cc.v2(0,.2*-this.screenHeight)),this.forDelete.push(i),this.stageTimer.setTotalTime(200)},seqTwo:function(){if(this.currentStage=2,this.opacityCount=0,1!==this.currentSeqCount&&(this.currentSeqCount=1),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<3;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),this.forDelete.push(o),o.setPosition(cc.v2(.16*-this.screenWidth+e*o.width,.2*-this.screenHeight))}this.stageTimer.setTotalTime(210)},seqThree:function(){if(this.currentStage=3,this.opacityCount=0,4!==this.currentSeqCount&&(this.currentSeqCount=4),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<5;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),o.setPosition(cc.v2(.32*-this.screenWidth+e*o.width,.2*-this.screenHeight)),this.forDelete.push(o)}this.stageTimer.setTotalTime(250)},seqFour:function(){if(this.currentStage=4,this.opacityCount=0,9!==this.currentSeqCount&&(this.currentSeqCount=9),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<7;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.2*-this.screenHeight+.5*o.height)),6==e&&o.setPosition(cc.v2(0,.18*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(308)},seqFive:function(){if(this.currentStage=5,this.opacityCount=0,16!==this.currentSeqCount&&(this.currentSeqCount=16),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<9;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.2*-this.screenHeight+.5*o.height)):o.setPosition(cc.v2(.18*-this.screenWidth+(e-6)*o.width,.18*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(360)},seqSix:function(){if(this.currentStage=6,this.opacityCount=0,25!==this.currentSeqCount&&(this.currentSeqCount=25),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<10;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.2*-this.screenHeight+.5*o.height)):o.setPosition(cc.v2(.24*-this.screenWidth+(e-6)*o.width,.18*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(360)},seqSeven:function(){if(this.currentStage=7,this.opacityCount=0,35!==this.currentSeqCount&&(this.currentSeqCount=35),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<11;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.2*-this.screenHeight+.5*o.height)):o.setPosition(cc.v2(.32*-this.screenWidth+(e-6)*o.width,.18*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(363)},seqEight:function(){if(this.currentStage=8,this.opacityCount=0,46!==this.currentSeqCount&&(this.currentSeqCount=46),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<12;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.2*-this.screenHeight+.5*o.height)):o.setPosition(cc.v2(.42*-this.screenWidth+(e-6)*o.width,.18*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(360)},seqNine:function(){if(this.currentStage=9,this.opacityCount=0,58!==this.currentSeqCount&&(this.currentSeqCount=58),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<13;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.15*-this.screenHeight+.5*o.height)):e<12?o.setPosition(cc.v2(.42*-this.screenWidth+(e-6)*o.width,.11*-this.screenHeight-o.height)):o.setPosition(cc.v2(0,.28*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(351)},seqTen:function(){if(this.currentStage=10,this.opacityCount=0,71!==this.currentSeqCount&&(this.currentSeqCount=71),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<14;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.15*-this.screenHeight+.5*o.height)):e<12?o.setPosition(cc.v2(.42*-this.screenWidth+(e-6)*o.width,.11*-this.screenHeight-o.height)):o.setPosition(cc.v2(.08*-this.screenWidth+(e-12)*o.width,.28*-this.screenHeight-o.height)),this.forDelete.push(o)}this.stageTimer.setTotalTime(350)},seqEleven:function(){if(10===this.currentStage&&(this.currentStage=11),this.opacityCount=0,71===this.currentSeqCount&&(this.currentSeqCount=85),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<15;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),e<6?o.setPosition(cc.v2(.42*-this.screenWidth+e*o.width,.15*-this.screenHeight+.5*o.height)):e<12?o.setPosition(cc.v2(.42*-this.screenWidth+(e-6)*o.width,.11*-this.screenHeight-o.height)):o.setPosition(cc.v2(.15*-this.screenWidth+(e-12)*o.width,.27*-this.screenHeight-o.height)),this.forDelete.push(o)}11===this.currentStage?this.stageTimer.setTotalTime(345):(this.spawnFlag?this.spawnFlag=!1:(this.currentSeqCount+=15,this.currentStage>11&&(this.currentStage+=1),this.timeLimit-=15),this.timeLimit<=0&&this.timeLimit>=-15&&(this.clickNumber=0,this.clickN(7)),this.stageTimer.setTotalTime(this.timeLimit))},hardInfinite:function(){11===this.currentStage&&(this.currentStage+=1),this.seqEleven()},update:function(){this.boolSkill&&0==this.clickTimesSix&&this.clickNumber>0&&(this.boolSkill=!1,this.currentStage--,this.yyRotate())}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava"}],GDmonsterScroll:[function(t,e,i){"use strict";cc._RF.push(e,"defc5ERSLFEIJ6sDNAGPU3Y","GDmonsterScroll");t("Common");cc.Class({extends:cc.Component,properties:{speed:0,y:0},onLoad:function(){this.startUpdate(),this.currentHeight=.5*-cc.director.getVisibleSize().height},getNodeY:function(){return this.node.y},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){this.unschedule(this.myUpdate)},setSpeed:function(t){this.speed=t},myUpdate:function(t){this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.node.y<this.currentHeight&&this.node.parent.getComponent("GDGame").clickNumber>0&&255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("GDGame").clickN(7),this.node.parent.getComponent("GDGame").clickTimesSix--,this.node.parent.getComponent("GDGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],GDmonster:[function(t,e,i){"use strict";cc._RF.push(e,"cc18dyvqQpF3ZIuruH86HTO","GDmonster");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.parent.getComponent("GDGame").clickTimesSix--,this.node.parent.getComponent("GDGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],GDstageTimer:[function(t,e,i){"use strict";cc._RF.push(e,"2db929hjdNO8o/nt8BBxWCa","GDstageTimer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:200,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",t<=0&&e<=0){this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.closeInputControl(),this.node.runAction(cc.blink(.5,3));var i=cc.delayTime(.5),o=cc.callFunc(function(){this.game.already=!0,this.game.spawnMonster()},this);this.node.runAction(cc.sequence(i,o))}},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],GDwarSeconds:[function(t,e,i){"use strict";cc._RF.push(e,"185f0Nv2WJHc69ETUQ449hS","GDwarSeconds");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:0,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},getTotalTime:function(){return this.totalTime},myUpdate:function(){this.totalTime++;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+""},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],GGame:[function(t,e,i){"use strict";cc._RF.push(e,"0f3acZ3UkJDn7n9IzccdU/r","GGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{normalHero:{default:null,type:cc.Prefab,tooltip:"普通英雄"},heroPf:{default:[],type:cc.Prefab,tooltip:"随机英雄21个"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},combo:{default:null,type:cc.Sprite,tooltip:"连击效果"},overBattle:{default:null,type:cc.Layout,tooltip:"失败结算"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},killEffect:{default:null,url:cc.AudioClip},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},timerLabel:cc.Label,startAnim:cc.Node,nullNode:cc.Node,normalArr:[],heroArr:[],comboSprite:cc.Sprite,comboLabel:cc.Label,maxCombo:0,currentCombo:0,heroName:cc.Label,heroNameNode:cc.Node,goblet:cc.Prefab,exitBox:cc.Prefab},onLoad:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.duijiuBGM=cc.audioEngine.play(this.battleMusic,!0,.6)),o.returnOnce=!0,this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.rWidth=110,this.rHeight=110,this.callOne=!0,this.flag=!1,this.clickNumber=o.clickNumber,o.HardModel?(this.timerLabel.node.active=!1,this.blockTime=202):(this.timerComp=this.timerLabel.getComponent("GTimer"),this.timerComp.init(this)),o.troopScore=0,this.scoreDisplay.string=o.troopScore.toString(),this.previousNormal=null,this.heroInit(),this.normalInit(),this.node.opacity=0},startGame:function(){var t=cc.delayTime(3);this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeIn(1.5)));var e=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard4","start"):s.UMLevelCheck("level4","start"),this.currentLight=this.randomLight(),this.heroNameNode.active=!0,o.HardModel||this.timerComp.startmyUpdate(),this.setInputControl(),this.returnMenu()},this);this.node.runAction(cc.sequence(t,e))},setInputControl:function(){var t=this;t.node.on("touchstart",t.touchFunc,t)},currentBlockPause:function(){this.currentLight&&cc.director.getScheduler().pauseTarget(this.currentLight.getChildByName("Timer").getComponent("GBlockTimer"))},currentBlockResume:function(){this.currentLight&&cc.director.getScheduler().resumeTarget(this.currentLight.getChildByName("Timer").getComponent("GBlockTimer"))},touchFunc:function(t){for(var e=t.touch.getLocation(),i=0;i<5;++i)for(var n=0;n<5;++n)this.normalArr[i][n].getBoundingBoxToWorld().contains(e)&&this.flag||this.normalArr[i][n].getBoundingBoxToWorld().contains(e)&&this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").getTime()<=-1||(this.normalArr[i][n].getBoundingBoxToWorld().contains(e)&&this.currentLight.tag==this.normalArr[i][n].tag&&(9==this.currentLight.tag||!this.currentLight.getBoundingBoxToWorld().contains(e))&&this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").getTime()>0?(this.flag=!0,cc.instantiate(this.goblet).parent=this.normalArr[i][n],o.troopScore+=10,this.scoreDisplay.string=o.troopScore.toString(),this.comboSucc(),this.currentLight.runAction(cc.hide()),this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").stopmyUpdate(),this.currentLight=this.randomLight()):this.normalArr[i][n].getBoundingBoxToWorld().contains(e)&&(this.flag=!0,this.clickN(),this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").stopmyUpdate(),this.blockAction(this.currentLight)))},randomLight:function(){var t=Math.floor(5*Math.random()),e=Math.floor(5*Math.random());return this.previousNormal&&(this.previousNormal.active=!0),this.heroArr[t][e].runAction(cc.show()),this.normalArr[t][e].active=!1,this.previousNormal=this.normalArr[t][e],this.heroArr[t][e].getComponent("GBlockHero").startTimeUpdate(),this.showSay(this.heroArr[t][e].name),this.flag=!1,this.heroArr[t][e]},normalInit:function(){this.normalHeroPool=new cc.NodePool;for(var t=0,e=0;e<5;++e){for(var i=0,o=[],n=0;n<5;++n){++t;var s=cc.instantiate(this.normalHero);s.tag=t,this.setNormalTag(s,s.tag),i=.24*-this.screenHeight+e*this.rHeight+10*e,s.setPosition(.57*-this.screenWidth+20+10*n+n*this.rWidth+this.rWidth,i),o.push(s),this.normalHeroPool.put(s),this.node.addChild(s)}this.normalArr.push(o)}},heroInit:function(){this.heroPool=new cc.NodePool;for(var t=0,e=0;e<5;++e){for(var i=0,o=[],n=0;n<5;++n){var s=Math.floor(Math.random()*this.heroPf.length),a=cc.instantiate(this.heroPf[s]);++t,a.tag=t,this.setNormalTag(a,a.tag),i=.24*-this.screenHeight+e*this.rHeight+10*e,a.runAction(cc.hide()),a.setPosition(.57*-this.screenWidth+20+10*n+n*this.rWidth+this.rWidth,i),o.push(a),this.heroPool.put(a),this.node.addChild(a)}this.heroArr.push(o)}},blockAction:function(t){var e=cc.moveBy(.02,cc.p(-5,0)),i=cc.moveBy(.02,cc.p(10,0)),o=cc.moveBy(.02,cc.p(-5,0)),n=cc.moveBy(.02,cc.p(0,5)),s=cc.moveBy(.02,cc.p(0,-10)),a=cc.moveBy(.02,cc.p(0,5)),c=cc.hide(),r=cc.callFunc(function(){this.currentLight=this.randomLight()},this),h=cc.sequence(e,i,o,n,s,a,c,r);t.runAction(h)},showSay:function(t){"Ghero1"==t?this.heroName.string="诸葛亮":"Ghero2"==t?this.heroName.string="董卓":"Ghero3"==t?this.heroName.string="貂蝉":"Ghero4"==t?this.heroName.string="曹仁":"Ghero5"==t?this.heroName.string="张梁":"Ghero6"==t?this.heroName.string="阿弩":"Ghero7"==t?this.heroName.string="张角":"Ghero8"==t?this.heroName.string="张宝":"Ghero9"==t?this.heroName.string="曹操":"Ghero10"==t?this.heroName.string="太史慈":"Ghero11"==t?this.heroName.string="荀雨":"Ghero12"==t?this.heroName.string="大乔":"Ghero13"==t?this.heroName.string="刘备":"Ghero14"==t?this.heroName.string="甘宁":"Ghero15"==t?this.heroName.string="韩遂":"Ghero16"==t?this.heroName.string="马超":"Ghero17"==t?this.heroName.string="马云禄":"Ghero18"==t?this.heroName.string="文丑":"Ghero19"==t?this.heroName.string="颜良":"Ghero20"==t?this.heroName.string="张辽":"Ghero21"==t&&(this.heroName.string="李典")},setNormalTag:function(t,e){switch(e){case 1:case 5:case 21:case 25:t.tag=1;break;case 2:case 4:case 22:case 24:t.tag=2;break;case 3:case 23:t.tag=3;break;case 6:case 10:case 16:case 20:t.tag=4;break;case 7:case 9:case 17:case 19:t.tag=5;break;case 8:case 18:t.tag=6;break;case 11:case 15:t.tag=7;break;case 12:case 14:t.tag=8;break;case 13:t.tag=9}},comboSucc:function(){++this.currentCombo>=10&&(this.comboSprite.node.active=!0,this.comboLabel.string=this.currentCombo.toString()),this.maxCombo<this.currentCombo&&(this.maxCombo=this.currentCombo)},clickN:function(){if(this.clickNumber>0){this.clickNumber--,this.currentCombo=0,this.comboSprite.node.active=!1,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5),i=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}if(0==this.clickNumber&&this.callOne){o.HardModel||s.UMLevelCheck("level4","fail"),this.callOne=!1,o.HardModel||this.timerComp.stopmyUpdate(),this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").stopmyUpdate(),this.nullNode.active=!0;var n=parseInt(this.scoreDisplay.string),a=(Math.floor(parseInt(this.scoreDisplay.string)*(1+.01*this.maxCombo)/10),cc.hide()),c=cc.scaleTo(0,.1),r=cc.show(),h=cc.scaleBy(.5,10),l=cc.delayTime(1),u=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),d=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimDuiJiuReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),p=cc.delayTime(2),m=cc.delayTime(1),i=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(n,this.maxCombo);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.duijiuBGM),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(a,c,r,h,e))},this);this.node.runAction(cc.sequence(l,u,m,d,p,i))}},overSuccess:function(){o.HardModel||s.UMLevelCheck("level4","finish"),this.callOne=!1,this.currentLight.getChildByName("Timer").getComponent("GBlockTimer").stopmyUpdate(),this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=(Math.floor(parseInt(this.scoreDisplay.string)*(1+.01*this.maxCombo)/10),cc.hide()),i=cc.scaleTo(0,.1),n=cc.show(),a=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimDuiJiuReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),h=cc.delayTime(2),l=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var s=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||s.judgeOnce(-1),s.battleScore(t,this.maxCombo);var c=this,r=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.duijiuBGM),o.EffectOffset&&cc.audioEngine.play(c.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(e,i,n,a,r))},this);this.node.runAction(cc.sequence(c,r,h,l))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],GTimer:[function(t,e,i){"use strict";cc._RF.push(e,"68902zm9hdL1b3uxGrMgObJ","GTimer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:1500,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",3==t){var i=cc.scaleBy(1,1.2),o=cc.scaleBy(1,.8);this.timerDisplay.node.runAction(cc.sequence(i,o))}t<=0&&e<=0&&(this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.overSuccess())},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],GameOver:[function(t,e,i){"use strict";cc._RF.push(e,"13683Isf6RKM5sT4/wHib8D","GameOver");var o=t("Common"),n=t("UpgradeConfig"),s=(new(t("Upgrade")),t("UTitleStr")),a=t("StorageData"),c=t("JsToJava"),r=cc.Class({name:"ClassicScore",properties:{playerTroopList:{default:[],type:cc.Label,tooltip:"位数,目前最高8位"},playerTroop:cc.Label,historyScore:cc.Label,newWord:cc.Node,vipNode:cc.Node}}),h=cc.Class({name:"PvpScore",properties:{playerTroopList:{default:[],type:cc.Label,tooltip:"位数,目前最高8位"},playerCurrentTroop:cc.Label,playerTroop:cc.Label}}),l=cc.Class({name:"BattleScore",properties:{commboSprite:cc.Sprite,commboAddition:cc.Label,officialSprite:cc.Sprite,officialAddition:cc.Label,historyScore:cc.Label,newWord:cc.Node,vipNode:cc.Node}});cc.Class({extends:cc.Component,properties:{scoreDisplay:{default:null,type:cc.Label},coinIcon:cc.Node,coinDisplay:{default:null,type:cc.Label},classicScore:{default:null,type:r},pvpScoreData:{default:null,type:h},battleScoreData:{default:null,type:l},battleMusic:{default:null,url:cc.AudioClip},pvpScoreDis:cc.Label,pvpCoinDis:cc.Label,game:{default:null,serializable:!1},playerOneScore:0,playerTwoScore:0,playerNickNameOne:cc.Label,playerNickNameTwo:cc.Label,playerNickNameThree:cc.Label,flagPf:{default:[],type:cc.Prefab},countryFlag:[],scoreOne:cc.Label,scoreTwo:cc.Label,scoreThree:cc.Label,powerScore:cc.Label,battleCurrentScore:0,rankOne:!1,upgradeLayer:cc.Sprite,numberScrollList:{default:[],type:cc.Prefab,tooltip:"数字滚动pf"},returnButton:cc.Button,hardWord:cc.Node,failWord:cc.Node},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this),this.haveTroop=0,this.flag=!1,this.upgradeFlag=!1,this.thirteenWar=[]},init:function(t){this.game=t},returnMenu:function(){o.SkillBool=!1,cc.game.isPaused&&cc.game.resume(),o.classicMode||o.limitMode&&this.rankOne?(this.rankOne=!1,o.Score=parseInt(a.getLocalData("Score")),a.setLocalData("Score",o.Score)):o.battleMode&&(o.battlePower=!0),o.troopScore=0,a.setLocalData("troopScore",o.troopScore),o.newbiePuyang&&(o.newbiePuyang=!1,o.newbieLast=!1,o.FirstGame=!1,a.setLocalData("NewStep",-1),a.setLocalData("NewState",o.FirstGame)),!o.FirstGame||o.ShowGuide||o.newbieLast?cc.director.loadScene("MenuScene"):o.FirstGame&&cc.director.loadScene("NewMenuScene")},continueGame:function(){if(!o.FirstGame){var t=parseInt(a.getLocalData("Gold"));o.CurrentHP>0&&t>=10?(o.SkillBool=!1,this.game.huajianCount=20,o.MusicOffset&&(o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.CurrentHP=a.getLocalData("HP"),o.CurrentHP-=1,a.setLocalData("HP",o.CurrentHP),o.Gold=parseInt(a.getLocalData("Gold")),o.Gold-=10,a.setLocalData("Gold",o.Gold),o.troopScore=parseInt(a.getLocalData("troopScore")),this.continueFlag=!0,this.classicScore.playerTroop.node.active=!1,this.node.active=!1,this.game.clickError&&(this.game.clickError=!1,this.game.gameUpdate()),this.game.downBottom&&!this.game.updateRunning&&this.game.gameUpdate()):cc.log("体力或金钱不足")}},showPreviousScore:function(t,e){for(var i=t.toString(),o=i.length-1,n=0;o>=0;--o,++n)e.playerTroopList[o].node.active=!0,e.playerTroopList[o].string=i.charAt(n)},numberScrollAnim:function(t,e,i,o){var n=this,s=t,a=e,c=null,r=cc.callFunc(function(){o.playerTroopList[s].node.active=!1,(c=cc.instantiate(n.numberScrollList[0])).parent=o.playerTroop.node,c.setPositionX(o.playerTroopList[s].node.getPositionX())},n),h=cc.delayTime(.5),l=cc.callFunc(function(){o.playerTroopList[s].node.active=!0,o.playerTroopList[s].string=i.charAt(a),c.destroy()},n),u=cc.callFunc(function(){if(Math.floor(this.tempNum/=10)>=0&&t-1>=0)n.numberScrollAnim(t-1,e+1,i,o);else if(n.upgradeFlag){o.playerTroop.string=""+n.totalTroop;var s=cc.delayTime(1),a=cc.callFunc(function(){n.upgradeLayer.node.active=!0,n.upgradeLayer.node.setLocalZOrder(11),n.upgradeLayer.node.getComponent("Upgrade").readLevelConfig(),n.returnButton.node.active=!0},n);n.node.runAction(cc.sequence(s,a))}else n.returnButton.node.active=!0},n);n.node.runAction(cc.sequence(r,h,l,u))},callCountDigitNumber:function(t){o.classicMode?this.countDigitNumber(this.haveTroop,this.currentTroop,this.classicScore):o.limitMode&&this.countDigitNumber(this.haveTroop,this.currentTroop,this.pvpScoreData)},countDigitNumber:function(t,e,i){var o=t.toString(),n=e.toString();if(n!==o){var s=o.length-1,a=n.length-1;if(s!=a&&o[0]===n[0])for(var c=a,r=0;c>=0;--c,++r)this.numberScrollAnim(c,r,n,i),c=-1;else for(var c=a,r=0;c>=0;--c,++r)o.charAt(r)===n.charAt(r)||this.flag||(this.flag=!0),this.flag&&(this.numberScrollAnim(c,r,n,i),c=-1)}},getScore:function(){if(this.tempTotalScore=parseInt(a.getLocalData("troopScore")),this.scoreDisplay.string=this.tempTotalScore+"",o.MonthCardVIP){var t=parseInt(.1*this.tempTotalScore);this.tempTotalScore=this.tempTotalScore+t,this.classicScore.vipNode.active=!0,this.classicScore.vipNode.setPosition(cc.p(this.classicScore.vipNode.parent.width+100,0)),this.classicScore.vipNode.children[0].getComponent(cc.Label).string=t+""}this.tempTotalScore>=7e3&&!o.FirstGame&&this.judgeOnce(7e3);var e=0;a.getLocalData("HISTORYSCORE")&&(e=parseInt(a.getLocalData("HISTORYSCORE"))),this.tempTotalScore>e&&(e=this.tempTotalScore,this.classicScore.newWord.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(.8),cc.callFunc(function(){this.classicScore.newWord.active=!0,this.classicScore.newWord.runAction(cc.fadeIn(.2))},this))),a.setLocalData("HISTORYSCORE",e)),this.classicScore.historyScore.string=e.toString(),this.totalTroop=o.totalScore,this.haveTroop=parseInt(a.getLocalData("Score")),this.showPreviousScore(this.haveTroop,this.classicScore),this.classicScore.playerTroop.string=""+this.totalTroop,this.currentTroop=this.haveTroop+this.tempTotalScore,o.Score=this.currentTroop,a.setLocalData("Score",o.Score),o.Score>=1e6&&this.judgeOnce(1e6),this.tempNum=this.currentTroop/10,this.haveTroop===this.currentTroop&&(this.returnButton.node.active=!0),this.scheduleOnce(this.callCountDigitNumber,1.5),this.increaseNumLimit(this.currentTroop,this.totalTroop);var i=parseInt(a.getLocalData("ClassicHS"));return this.tempTotalScore>i&&(a.setLocalData("ClassicHS",this.tempTotalScore),c.UMHighScoreEvent("highScoreClassic",this.tempTotalScore.toString())),this.tempTotalScore},increaseNumLimit:function(t,e){t>e&&(o.CurrentLevel=parseInt(a.getLocalData("LEVEL")),this.queryLimit(o.CurrentLevel,t))},queryLimit:function(t,e){o.PreviousLevel=t;for(var i=t;i<n.length;++i)e>n[n.length-1].Ceiling&&(e=n[n.length-1].Ceiling),parseInt(n[i].Ceiling)>=e&&t<parseInt(n[n.length-1].Level)&&(this.tempTotalScore=e,o.CurrentLevel=i,a.setLocalData("LEVEL",o.CurrentLevel),o.totalScore=n[i].Ceiling,a.setLocalData("TROOPLIMIT",o.totalScore),this.totalTroop=o.totalScore,o.Official=n[i].Official,a.setLocalData("OFFICIAL",o.Official),o.WarAddition=n[i].Waraddition,a.setLocalData("WARADDITION",o.WarAddition),o.Title=s[i],a.setLocalData("TITLE",o.Title),i=n.length,this.upgradeFlag=!0)},pvpScore:function(t){if(2==t||3==t)this.scoreDisplay.string="0",this.haveTroop=parseInt(a.getLocalData("Score")),this.haveTroop>=o.totalScore&&(this.haveTroop=o.totalScore),this.totalTroop=o.totalScore,this.pvpScoreData.playerCurrentTroop.string=this.haveTroop+"",this.pvpScoreData.playerTroop.string=""+this.totalTroop,this.pvpScoreData.playerTroop.node.active=!0;else if(1==t){this.rankOne=!0,this.tempTotalScore=parseInt(a.getLocalData("troopScore")),this.rankOneIncrease(this.tempTotalScore);var e=this.tempTotalScore+this.playerOneScore+this.playerTwoScore;3*o.pvpNumber-e>parseInt(1.5*o.pvpNumber)?this.tempTotalScore=3*o.pvpNumber-e:this.tempTotalScore=parseInt(1.5*o.pvpNumber),this.scoreDisplay.string=this.tempTotalScore+"",this.totalTroop=o.totalScore,this.haveTroop=parseInt(a.getLocalData("Score")),this.showPreviousScore(this.haveTroop,this.pvpScoreData),this.pvpScoreData.playerTroop.string=""+this.totalTroop;var i=parseInt(a.getLocalData("PVPHS"));this.tempTotalScore>i&&(a.setLocalData("PVPHS",this.tempTotalScore),c.UMHighScoreEvent("highScorePVP",this.tempTotalScore.toString())),this.currentTroop=this.haveTroop+this.tempTotalScore,o.Score=this.currentTroop,a.setLocalData("Score",o.Score),o.Score>=1e6&&this.judgeOnce(1e6),this.tempNum=this.currentTroop/10,this.scheduleOnce(this.callCountDigitNumber,1.5),this.increaseNumLimit(this.currentTroop,this.totalTroop)}},historyScoreUpdate:function(t,e,i){return a.getLocalData(i)&&(e=parseInt(a.getLocalData(i))),t>e&&(e=t,this.battleScoreData.newWord.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(1.2),cc.callFunc(function(){this.battleScoreData.newWord.active=!0,this.battleScoreData.newWord.runAction(cc.fadeIn(.2))},this))),o.FirstGame||a.setLocalData(i,e)),e},updateCountData:function(t){0===this.thirteenWar[t]?(o.SimpleCount++,this.thirteenWar[t]=1,a.setLocalData("SimpleCount",o.SimpleCount)):1===this.thirteenWar[t]&&(this.thirteenWar[t]=2),a.setLocalData("ThirteenWar",JSON.stringify(this.thirteenWar))},judgeOnce:function(t){o.SimpleCount=parseInt(a.getLocalData("SimpleCount")),this.thirteenWar=JSON.parse(a.getLocalData("ThirteenWar")),this.openMapCondition(),this.openHardCondition(t)},openMapCondition:function(){o.SimpleCount<9&&(o.TaoFaDongZhuo&&0===this.thirteenWar[0]?this.updateCountData(0):o.RedWar&&0===this.thirteenWar[1]?this.updateCountData(1):o.XuZhouZhiZhan&&0===this.thirteenWar[2]?this.updateCountData(2):o.DuiJiuDangGe&&0===this.thirteenWar[3]?this.updateCountData(3):o.TongGuanZhiZhan&&0===this.thirteenWar[4]?this.updateCountData(4):o.GuanDuZhiZhan&&0===this.thirteenWar[5]?this.updateCountData(5):o.YiZhouZhiZhan&&0===this.thirteenWar[6]?this.updateCountData(6):o.QuEZhiZhan&&0===this.thirteenWar[7]?this.updateCountData(7):o.HeFeiZhiZhan&&0===this.thirteenWar[8]?this.updateCountData(8):o.PuYangZhiZhan&&0===this.thirteenWar[9]?this.updateCountData(9):o.PingYangZhiZhan&&0===this.thirteenWar[10]?this.updateCountData(10):o.XingTianGuanCe&&0===this.thirteenWar[11]?this.updateCountData(11):o.BaiLangShan&&0===this.thirteenWar[12]&&this.updateCountData(12))},openHardCondition:function(t){for(var e=0,i=0;i<this.thirteenWar.length;++i)2===this.thirteenWar[i]&&++e;if(o.SimpleCount=parseInt(a.getLocalData("SimpleCount")),9===o.SimpleCount)return o.SimpleCount=13,void a.setLocalData("SimpleCount",o.SimpleCount);-1!==t&&("true"==a.getLocalData("HardOpened")||1e6===t)&&13===o.SimpleCount&&e<9&&(o.TaoFaDongZhuo&&!0===t&&1===this.thirteenWar[0]?this.updateCountData(0):7e3===t&&1===this.thirteenWar[1]?this.updateCountData(1):o.XuZhouZhiZhan&&t<=7&&1===this.thirteenWar[2]?this.updateCountData(2):o.DuiJiuDangGe&&t>=500&&1===this.thirteenWar[3]?this.updateCountData(3):o.TongGuanZhiZhan&&!0===t&&1===this.thirteenWar[4]?this.updateCountData(4):o.GuanDuZhiZhan&&t<=45&&1===this.thirteenWar[5]?this.updateCountData(5):o.YiZhouZhiZhan&&!0===t&&1===this.thirteenWar[6]?this.updateCountData(6):o.QuEZhiZhan&&!0===t&&1===this.thirteenWar[7]?this.updateCountData(7):o.HeFeiZhiZhan&&t<=37&&1===this.thirteenWar[8]?this.updateCountData(8):o.PuYangZhiZhan&&t>=72e3&&1===this.thirteenWar[9]?this.updateCountData(9):o.PingYangZhiZhan&&t>=7e3&&1===this.thirteenWar[10]?this.updateCountData(10):o.XingTianGuanCe&&t<=46&&1===this.thirteenWar[11]?this.updateCountData(11):1e6===t&&1===this.thirteenWar[12]&&this.updateCountData(12))},battleHeightScore:function(t){if(o.MonthCardVIP){var e=parseInt(.1*t);t+=e,this.battleScoreData.vipNode.active=!0,this.battleScoreData.vipNode.setPosition(cc.p(this.battleScoreData.vipNode.parent.width+150,0)),this.battleScoreData.vipNode.children[0].getComponent(cc.Label).string=e+""}o.PlayerBattleScore=0,o.PlayerBattleScore=t;var i=0,n="";return o.HardModel?o.TaoFaDongZhuo?(n="TaoFaDongZhuoHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreDZH",i.toString())):o.RedWar?(n="RedWarHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreRWH",i.toString())):o.DuiJiuDangGe?(n="DuiJiuDangGeHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreDJH",i.toString())):o.TongGuanZhiZhan?(n="TongGuanZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreTGH",i.toString())):o.XuZhouZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="XuZhouZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreXZH",i.toString())):o.GuanDuZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="GuanDuZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreGDH",i.toString())):o.YiZhouZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="YiZhouZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreYZH",i.toString())):o.QuEZhiZhan?(n="QuEZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreQEH",i.toString())):o.HeFeiZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="HeFeiZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreHFH",i.toString())):o.PuYangZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="PuYangZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScorePUYH",i.toString())):o.PingYangZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="PingYangZhiZhanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScorePYH",i.toString())):o.XingTianGuanCe?(this.battleScoreData.commboSprite.node.active=!1,n="XingTianGuanCeHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreXTH",i.toString())):o.BaiLangShan&&(this.battleScoreData.commboSprite.node.active=!1,n="BaiLangShanHShard",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreBLH",i.toString())):o.TaoFaDongZhuo?(n="TaoFaDongZhuoHS",i=this.historyScoreUpdate(t,i,n),o.FirstGame||c.UMHighScoreEvent("highScoreDZ",i.toString())):o.RedWar?(n="RedWarHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreRW",i.toString())):o.DuiJiuDangGe?(n="DuiJiuDangGeHS","OverSucc"===this.node.name&&this.judgeOnce(t),i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreDJ",i.toString())):o.TongGuanZhiZhan?(n="TongGuanZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreTG",i.toString())):o.XuZhouZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="XuZhouZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreXZ",i.toString())):o.GuanDuZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="GuanDuZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreGD",i.toString())):o.YiZhouZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="YiZhouZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreYZ",i.toString())):o.QuEZhiZhan?(n="QuEZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreQE",i.toString())):o.HeFeiZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="HeFeiZhiZhanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreHF",i.toString())):o.PuYangZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="PuYangZhiZhanHS","OverSucc"===this.node.name&&this.judgeOnce(t),i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScorePUY",i.toString())):o.PingYangZhiZhan?(this.battleScoreData.commboSprite.node.active=!1,n="PingYangZhiZhanHS","OverSucc"===this.node.name&&this.judgeOnce(t),i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScorePY",i.toString())):o.XingTianGuanCe?(this.battleScoreData.commboSprite.node.active=!1,n="XingTianGuanCeHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreXT",i.toString())):o.BaiLangShan&&(this.battleScoreData.commboSprite.node.active=!1,n="BaiLangShanHS",i=this.historyScoreUpdate(t,i,n),c.UMHighScoreEvent("highScoreBL",i.toString())),i},battleScore:function(t,e){"OverBattle"===this.node.name&&o.HardModel&&!o.FirstGame?this.hardWord.active=!0:"OverBattle"!==this.node.name||o.FirstGame||(this.failWord.active=!0),e<10&&(e=0),this.scoreDisplay.string=t+"";var i=Math.floor(t*e*.01),s=parseInt(a.getLocalData("LEVEL")),c=Math.floor(t*parseFloat(n[s].Waraddition));this.battleScoreData.officialAddition.string=c+"";var r=t+i+c;return o.XuZhouZhiZhan||o.GuanDuZhiZhan||o.YiZhouZhiZhan||o.HeFeiZhiZhan||o.PuYangZhiZhan||o.PingYangZhiZhan||o.XingTianGuanCe||o.BaiLangShan?(this.battleScoreData.officialSprite.node.y=615,r=t+c,this.battleScoreData.historyScore.string=this.battleHeightScore(parseInt(r))):(this.battleScoreData.commboAddition.string=i,this.battleScoreData.historyScore.string=this.battleHeightScore(parseInt(r))),1006==o.tribeColor?(this.countryFlag[0]=cc.instantiate(this.flagPf[0]),this.countryFlag[0].parent=this.coinIcon,o.XuZhouZhiZhan||o.GuanDuZhiZhan||o.YiZhouZhiZhan||o.PuYangZhiZhan||o.BaiLangShan?(this.countryFlag[0].setPosition(10,-70),this.powerScore.node.setPositionY(-70)):this.countryFlag[0].setPosition(10,-80),this.powerScore.string=""+parseInt(r)):1004==o.tribeColor?(this.countryFlag[1]=cc.instantiate(this.flagPf[1]),this.countryFlag[1].parent=this.coinIcon,o.XuZhouZhiZhan||o.GuanDuZhiZhan||o.YiZhouZhiZhan||o.PuYangZhiZhan||o.XingTianGuanCe||o.BaiLangShan?(this.countryFlag[1].setPosition(10,-70),this.powerScore.node.setPositionY(-70)):this.countryFlag[1].setPosition(10,-80),this.powerScore.string=""+parseInt(r)):1001==o.tribeColor&&(this.countryFlag[2]=cc.instantiate(this.flagPf[2]),this.countryFlag[2].parent=this.coinIcon,o.XuZhouZhiZhan||o.GuanDuZhiZhan||o.YiZhouZhiZhan||o.HeFeiZhiZhan||o.PuYangZhiZhan||o.BaiLangShan?(this.countryFlag[2].setPosition(10,-70),this.powerScore.node.setPositionY(-70)):this.countryFlag[2].setPosition(10,-80),this.powerScore.string=""+parseInt(r)),this.battleCurrentScore=parseInt(r),t},pvpRank:function(t){var e=0,i=2e3,n=500;switch(o.pvpNumber){case 1e4:i*=1.5,n*=1.5;break;case 1e5:i*=8,n*=8;break;case 1e6:i*=70,n*=70}return t>i?e=this.successRateOne():t<=i&&t>n?e=this.successRateTwo():t<=n&&(e=this.successRateThree()),e},rankOneIncrease:function(t){var e=.1*t;0==t?(this.playerOneScore=0,this.playerTwoScore=0):(this.playerOneScore=10*Math.floor(Math.random()*(e-1)),this.playerTwoScore=10*Math.floor(Math.random()*(e-2)))},otherPlayerScore:function(t,e,i,o,n){n&&this.init(n);var s=.1*e;switch(i){case 1:this.playerRankOne(t,o);break;case 2:0==e?(this.playerOneScore=0,this.playerTwoScore=0):(this.playerOneScore=10*Math.floor(Math.random()*(s+6)+s),this.playerTwoScore=10*Math.floor(Math.random()*(s-2))),this.playerRankTwo(t,o);break;case 3:0==e?(this.playerOneScore=0,this.playerTwoScore=0):(this.playerOneScore=10*Math.floor(Math.random()*(s+6)+s),this.playerTwoScore=10*Math.floor(Math.random()*(s+7)+s)),this.playerRankThree(t,o)}},setPlayerNickname:function(t,e,i){1==e?(this.playerNickNameOne.string=t+"",this.scoreOne.string=i.toString()):2==e?(this.playerNickNameTwo.string=t+"",this.scoreTwo.string=i.toString()):3==e&&(this.playerNickNameThree.string=t+"",this.scoreThree.string=i.toString())},successRateOne:function(){var t=Math.floor(100*Math.random()+1);return t>35&&t<=100?1:t>5&&t<=35?2:t<=5?3:void 0},successRateTwo:function(){var t=Math.floor(100*Math.random()+1);return t>5&&t<=35?1:t>35&&t<=100?2:t<=5?3:void 0},successRateThree:function(){var t=Math.floor(100*Math.random()+1);return t<=5?1:t>5&&t<=35?2:t>35&&t<=100?3:void 0},playerRankOne:function(t,e){1001==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,2,o.PlayerTwo,this.playerTwoScore)):1006==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,0,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,0,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,2,o.PlayerTwo,this.playerTwoScore)):1004==e&&(this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,2,o.PlayerTwo,this.playerTwoScore)))},playerRankTwo:function(t,e){1001==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,1,o.PlayerTwo,this.playerTwoScore)):1006==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,0,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,0,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,1,o.PlayerTwo,this.playerTwoScore)):1004==e&&(this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,3,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,3,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,1,o.PlayerTwo,this.playerTwoScore)))},playerRankThree:function(t,e){1001==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,2,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,1,o.PlayerTwo,this.playerTwoScore)):1006==e?this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,0,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,2,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,0,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,1,1,o.PlayerTwo,this.playerTwoScore)):1004==e&&(this.playerOneScore>=this.playerTwoScore?(this.game.setRankBlock(t,2,1,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,2,o.PlayerTwo,this.playerTwoScore)):(this.game.setRankBlock(t,2,2,o.PlayerOne,this.playerOneScore),this.game.setRankBlock(t,0,1,o.PlayerTwo,this.playerTwoScore)))}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData",UTitleStr:"UTitleStr",Upgrade:"Upgrade",UpgradeConfig:"UpgradeConfig"}],GcupAnim:[function(t,e,i){"use strict";cc._RF.push(e,"cc866ialDNKCYXVmCFJXXvr","GcupAnim");var o=t("Common");cc.Class({extends:cc.Component,properties:{cupMusic:{default:null,url:cc.AudioClip}},onLoad:function(){o.EffectOffset&&cc.audioEngine.play(this.cupMusic)},destroyNode:function(){this.node.destroy()}}),cc._RF.pop()},{Common:"Common"}],HBoss:[function(t,e,i){"use strict";cc._RF.push(e,"de549V18FJD849s0Z9IK7y7","HBoss");var o=t("Common");cc.Class({extends:cc.Component,properties:{zhangLiao:{default:null,type:cc.Sprite,tooltip:"张辽"},liDian:{default:null,type:cc.Sprite,tooltip:"李典"},game:{default:null,serializable:!1},lossBlood:cc.Sprite,bloodBar:cc.Node},onLoad:function(){o.HardModel&&(this.lossBlood.node.active=!1,this.bloodBar.active=!1)},init:function(t){this.game=t}}),cc._RF.pop()},{Common:"Common"}],HGame:[function(t,e,i){"use strict";cc._RF.push(e,"62f3dESuVxE5o9n4n1nXkj8","HGame");var o=t("Common"),n=t("JsToJava");cc.Class({extends:cc.Component,properties:{yyArrs:{default:[],type:cc.Prefab,tooltip:"阴阳序列"},specialYang:{default:null,type:cc.Prefab,tooltip:"特殊阳"},specialYin:{default:null,type:cc.Prefab,tooltip:"特殊阴"},startAnim:cc.Node,warTimeLabel:{default:null,type:cc.Label,tooltip:"战役总计时"},stageTimeLabel:{default:null,type:cc.Label,tooltip:"阶段倒计时"},battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},failMusic:{default:null,url:cc.AudioClip,tooltip:"失败音效"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},lossBloodMusic:{default:null,url:cc.AudioClip,tooltip:"掉血音效"},overFail:{default:null,type:cc.Layout,tooltip:"失败"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利"},gossipBlack:{default:null,type:cc.Node,tooltip:"黑阴"},gossipWhite:{default:null,type:cc.Node,tooltip:"白阳"},monsterPf:{default:null,type:cc.Prefab,tooltip:"六小怪"},bossBlood:{default:null,type:cc.ProgressBar,tooltip:"boss血量"},bossNode:{default:null,type:cc.Node,tooltip:"颜良文丑"},bossDied:{default:null,url:cc.AudioClip,tooltip:"boss死亡音效"},bossHurt:{default:null,url:cc.AudioClip,tooltip:"boss受伤音效"},clickMusic:{default:null,url:cc.AudioClip},battleLayer:{default:null,type:cc.Layout,tooltip:"关闭此层"},zhangLiao:{default:null,type:cc.Sprite,tooltip:"张辽"},liDian:{default:null,type:cc.Sprite,tooltip:"李典"},nullNode:cc.Node,exitBox:cc.Prefab},onLoad:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),this.initData()},initData:function(){o.returnOnce=!0,this.monsterPool=new cc.NodePool,this.monsterSpeed=150,this.liDian.node.setLocalZOrder(-1),this.battleLayer.node.active=!1,this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.forDelete=[],this.opacityCount=0,this.stageTimer=this.stageTimeLabel.getComponent("HstageTimer"),this.stageTimer.init(this),this.warTimer=this.warTimeLabel.getComponent("HwarSeconds"),this.warTimer.init(this),this.clickTimesSix=0,this.clickNumber=4,this.sixMonster=[],this.boolSkill=!1,this.zhangLiao.tag=0,this.liDian.tag=1,this.currentSeq=[],this.currentSeqCount=0,this.randSpecialYY=-1,this.clickLiao=!1,this.clickDian=!1,this.specialCombo=0,this.specialScore=[],this.bossNode.getComponent("HBoss").init(this),this.already=!1,this.eachLossBlood=.09,this.scaleMin=cc.scaleBy(.01,.9),this.scaleResume=this.scaleMin.reverse(),this.timeLimit=445,this.spawnFlag=!1},startGame:function(){if(!o.FirstGame){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(12),this.seqOne();var t=cc.delayTime(2),e=cc.callFunc(function(){this.yyRotate(),this.zhangLiao.node.runAction(cc.fadeIn(1)),this.liDian.node.runAction(cc.fadeIn(1))},this);this.node.runAction(cc.sequence(t,e));var i=cc.delayTime(3),s=cc.callFunc(function(){o.HardModel?n.UMLevelCheck("levelHard9","start"):n.UMLevelCheck("level9","start"),this.warTimer.startmyUpdate(),this.nullNode.active=!1,this.returnMenu()},this),a=cc.sequence(i,s);this.node.runAction(a)}},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var n=(new Date).getTime();StorageData.setLocalData("EXITTIME",n)}}},t.node)}},pauseWarTimer:function(){cc.director.getScheduler().pauseTarget(this.warTimer),cc.director.getScheduler().pauseTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().pauseTarget(this.sixMonster[t].getComponent("HmonsterScroll"))},resumeWarTimer:function(){cc.director.getScheduler().resumeTarget(this.warTimer),cc.director.getScheduler().resumeTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().resumeTarget(this.sixMonster[t].getComponent("HmonsterScroll"))},yyRotate:function(){this.already&&this.nextStage();var t=cc.delayTime(1),e=cc.callFunc(function(){this.stageTimer.startmyUpdate(),this.setInputControl()},this);this.node.runAction(cc.sequence(t,e))},setInputControl:function(){var t=this;t.bossNode.on("touchstart",t.bossControl,t)},closeInputControl:function(){var t=this;t.bossNode.off("touchstart",t.bossControl,t)},bossControl:function(t){this.already=!0;for(var e=t.touch.getLocation(),i=0;i<this.currentSeq.length;++i)if(this.clickLiao&&this.liDian.tag==this.currentSeq[i+1]&&this.liDian.node.getBoundingBoxToWorld().contains(e)&&(this.clickLiao=!1,this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1)),this.clickDian&&this.zhangLiao.tag==this.currentSeq[i+1]&&this.zhangLiao.node.getBoundingBoxToWorld().contains(e)&&(this.clickDian=!1,this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1)),this.zhangLiao.tag==this.currentSeq[i]&&this.zhangLiao.node.getBoundingBoxToWorld().contains(e)){if(this.zhangLiao.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1),o.HardModel||11!=this.currentStage||0!=this.currentSeq.length){if(0==this.currentSeq.length){for(n=0;n<this.forDelete.length;++n)this.shakeAction(this.forDelete[n]);this.shakeAction(this.liDian.node),this.shakeAction(this.zhangLiao.node),this.stageAction()}}else this.bossBlood.progress-=this.bossBlood.progress,this.succShow(),this.unschedule(this.update);i=this.currentSeq.length}else if(this.liDian.tag==this.currentSeq[i]&&this.liDian.node.getBoundingBoxToWorld().contains(e)){if(this.liDian.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.forDelete[this.opacityCount].runAction(cc.fadeTo(.5,125)),this.opacityCount++,this.currentSeq.splice(i,1),o.HardModel||11!=this.currentStage||0!=this.currentSeq.length){if(0==this.currentSeq.length){for(var n=0;n<this.forDelete.length;++n)this.shakeAction(this.forDelete[n]);this.shakeAction(this.liDian.node),this.shakeAction(this.zhangLiao.node),this.stageAction()}}else this.bossBlood.progress-=this.bossBlood.progress,this.succShow(),this.unschedule(this.update);i=this.currentSeq.length}else if(2==this.currentSeq[i]&&this.zhangLiao.node.getBoundingBoxToWorld().contains(e))o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.clickLiao=!0,this.zhangLiao.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),this.specialCombo++,i=this.currentSeq.length;else if(3==this.currentSeq[i]&&this.liDian.node.getBoundingBoxToWorld().contains(e))o.EffectOffset&&cc.audioEngine.play(this.clickMusic),this.clickDian=!0,this.liDian.node.runAction(cc.sequence(this.scaleMin,this.scaleResume)),this.specialCombo++,i=this.currentSeq.length;else if(this.liDian.node.getBoundingBoxToWorld().contains(e)||this.zhangLiao.node.getBoundingBoxToWorld().contains(e)){var s=cc.delayTime(.5);this.closeInputControl(),this.stageTimer.stopmyUpdate(),this.forDelete[this.opacityCount].runAction(cc.blink(.5,3));var a=cc.callFunc(function(){this.spawnMonster()},this);this.node.runAction(cc.sequence(s,a)),i=this.currentSeq.length}},stageAction:function(){var t=cc.callFunc(function(){this.stageTimer.stopmyUpdate(),o.EffectOffset&&cc.audioEngine.play(this.bossHurt),!0===this.bossBlood.node.parent.active&&(this.bossBlood.progress-=this.eachLossBlood,this.bossBlood.progress=parseFloat(this.bossBlood.progress.toFixed(2)))},this),e=cc.delayTime(.5),i=cc.callFunc(function(){this.yyRotate()},this);this.node.runAction(cc.sequence(t,e,i))},nextStage:function(){if(this.closeInputControl(),0!=this.specialCombo){var t=0;t=10*this.specialCombo,this.specialScore.push(t),this.specialCombo=0}var e=this.currentStage;switch(e>=11&&(e=11),e){case 0:this.seqOne();break;case 1:this.seqTwo();break;case 2:this.seqThree();break;case 3:this.seqFour();break;case 4:this.seqFive();break;case 5:this.seqSix();break;case 6:this.seqSeven();break;case 7:this.seqEight();break;case 8:this.seqNine();break;case 9:this.seqTen();break;case 10:this.seqEleven();break;case 11:this.hardInfinite()}},sixMonsterPool:function(){if(this.monsterPool.size()>=6);else for(var t=0;t<6;++t)this.monsterPool.put(cc.instantiate(this.monsterPf))},putMosterPool:function(t){this.monsterPool.put(t);for(var e=0;e<this.sixMonster.length;++e)t===this.sixMonster[e]&&this.sixMonster.splice(e,1)},spawnMonster:function(){if(this.spawnFlag=!0,this.specialCombo=0,this.closeInputControl(),this.forDelete.length>0){for(e=0;e<this.forDelete.length;++e)this.forDelete[e].destroy();this.forDelete=[]}this.sixMonsterPool(),this.boolSkill=!0,this.sixMonster.length=0;for(var t=0;t<6;++t)this.sixMonster.push(this.monsterPool.get());this.clickTimesSix+=6,this.monsterSpeed+=15;for(var e=0;e<this.sixMonster.length;++e){this.sixMonster[e].getComponent("HmonsterScroll").setSpeed(this.monsterSpeed),this.sixMonster[e].parent=this.node,this.sixMonster[e].opacity=255;var i=90*e-280+20*e,o=Math.floor(270*Math.random()-170);this.sixMonster[e].setPosition(i,o)}},finalScore:function(t){return t>6600?10:t>=6200?100:t>=5700?300:t>=5200?500:t>=4700?2e3:t>=4200?3500:t>=3700?5e3:t>=3200?7e3:t>=2700?8e3:t>=2200?9e3:t>=1800?11e3:t>=0?2e4:void 0},clickN:function(t){if(this.clickNumber>0&&9!=t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5),s=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i,s)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}if(this.clickNumber<=0||9==t){this.nullNode.active=!0,this.gameTime=this.warTimer.getTotalTime();for(var a=this.finalScore(this.gameTime),c=0,r=0;r<this.specialScore.length;++r)c+=this.specialScore[r];this.clearNodePool();var h=cc.hide(),l=cc.scaleTo(0,.1),u=cc.show(),d=cc.scaleBy(.5,10),p=cc.delayTime(1),m=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimHeFeiReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),g=cc.delayTime(2.5);if(9==t){s=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11),o.HardModel||n.UMLevelCheck("level9","finish");var t=cc.find("Canvas/OverSucc").getComponent("GameOver"),e=parseInt(this.warTimeLabel.node.getChildByName("warSeconds").getComponent(cc.Label).string);e<=37&&!o.HardModel&&t.judgeOnce(e),o.HardModel||t.judgeOnce(-1),t.battleScore(a+c);var i=this,s=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(i.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(h,l,u,d,s))},this);this.node.runAction(cc.sequence(p,m,g,s))}else{a=o.HardModel?10*this.currentSeqCount*this.currentStage+c:2*this.currentSeqCount+c,this.warTimer.stopmyUpdate();var f=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),C=cc.delayTime(1),s=cc.callFunc(function(){this.overFail.node.active=!0,this.overFail.node.setLocalZOrder(11),o.HardModel||n.UMLevelCheck("level9","fail"),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(a);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overFail.node);this.overFail.node.runAction(cc.sequence(h,l,u,d,e))},this);this.node.runAction(cc.sequence(p,f,C,m,g,s))}}},shakeAction:function(t){var e=cc.moveBy(.03,cc.p(-5,0)),i=cc.moveBy(.03,cc.p(10,0)),o=cc.moveBy(.03,cc.p(-5,0));t.runAction(cc.repeat(cc.sequence(e,i,o),8))},succShow:function(){this.stageTimer.stopmyUpdate(),this.warTimer.stopmyUpdate();for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].runAction(cc.fadeOut(4));this.bossNode.getChildByName("loseBloodbar").active=!1,this.bossNode.getChildByName("bloodBar").active=!1,o.EffectOffset&&cc.audioEngine.play(this.bossDied,!1,1);var e=cc.moveBy(.03,cc.p(-5,0)),i=cc.moveBy(.03,cc.p(10,0)),n=cc.moveBy(.03,cc.p(-5,0)),s=cc.fadeOut(4),a=cc.callFunc(function(){this.clickN(9)},this);this.bossNode.runAction(cc.sequence(cc.repeat(cc.sequence(e,i,n),8),s,a))},clearNodePool:function(){if(this.monsterPool.size()>0&&this.monsterPool.clear(),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[]},seqOne:function(){if(this.currentStage=1,this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];var e=Math.floor(24*Math.random()),i=cc.instantiate(this.yyArrs[e]);e%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(i),i.setPosition(cc.v2(0,.2*-this.screenHeight)),this.forDelete.push(i),this.stageTimer.setTotalTime(200)},seqTwo:function(){if(this.currentStage=2,this.opacityCount=0,1!==this.currentSeqCount&&(this.currentSeqCount=1),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];for(var e=0;e<3;++e){var i=Math.floor(24*Math.random()),o=cc.instantiate(this.yyArrs[i]);i%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(o),o.opacity=0,o.runAction(cc.fadeIn(1)),this.forDelete.push(o),o.setPosition(cc.v2(.16*-this.screenWidth+e*o.width,.2*-this.screenHeight))}this.stageTimer.setTotalTime(210)},spawnSpecialBar:function(){this.randSpecialYY=Math.floor(2*Math.random()+2);return 2==this.randSpecialYY?cc.instantiate(this.specialYang):3==this.randSpecialYY?cc.instantiate(this.specialYin):void 0},seqThree:function(){if(this.currentStage=3,this.opacityCount=0,4!==this.currentSeqCount&&(this.currentSeqCount=4),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}var e=Math.floor(2*Math.random()),i=null;1==e&&(i=this.spawnSpecialBar());var o=Math.floor(4*Math.random());this.currentSeq=[];for(var n=0;n<5;++n){var s=Math.floor(24*Math.random());n==o+1&&(2==this.currentSeq[o]&&s%2==0?s+=1:3==this.currentSeq[o]&&s%2!=0&&(s-=1));var a=cc.instantiate(this.yyArrs[s]);1==e&&o==n?(a=i,e=0,this.currentSeq.push(this.randSpecialYY)):s%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(a),a.opacity=0,a.runAction(cc.fadeIn(1)),a.setPosition(cc.v2(.32*-this.screenWidth+n*a.width,.2*-this.screenHeight)),this.forDelete.push(a)}this.stageTimer.setTotalTime(350)},seqFour:function(){if(this.currentStage=4,this.opacityCount=0,9!==this.currentSeqCount&&(this.currentSeqCount=9),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}var e=Math.floor(2*Math.random()),i=null;1==e&&(i=this.spawnSpecialBar());var o=Math.floor(6*Math.random());this.currentSeq=[];for(var n=0;n<7;++n){var s=Math.floor(24*Math.random());n==o+1&&(2==this.currentSeq[o]&&s%2==0?s+=1:3==this.currentSeq[o]&&s%2!=0&&(s-=1));var a=cc.instantiate(this.yyArrs[s]);1==e&&o==n?(a=i,e=0,this.currentSeq.push(this.randSpecialYY)):s%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(a),a.opacity=0,a.runAction(cc.fadeIn(1)),a.setPosition(cc.v2(.42*-this.screenWidth+n*a.width,.2*-this.screenHeight+.5*a.height)),6==n&&a.setPosition(cc.v2(0,.18*-this.screenHeight-a.height)),this.forDelete.push(a)}this.stageTimer.setTotalTime(408)},extractIndex:function(t,e,i){if(t=t.sort(function(){return.5-Math.random()}),e=e.sort(function(){return.5-Math.random()}),0==i)return o=parseInt(t.splice(0,1));var o=parseInt(e.splice(0,1));return o},seqFive:function(){if(this.currentStage=5,this.opacityCount=0,16!==this.currentSeqCount&&(this.currentSeqCount=16),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()),i=[0,2,4,6],o=[1,3,5,7],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<9;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.2*-this.screenHeight+.5*u.height)):u.setPosition(cc.v2(.18*-this.screenWidth+(r-6)*u.width,.18*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(460)},seqSix:function(){if(this.currentStage=6,this.opacityCount=0,25!==this.currentSeqCount&&(this.currentSeqCount=25),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()),i=[0,2,4,6,8],o=[1,3,5,7],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<10;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.2*-this.screenHeight+.5*u.height)):u.setPosition(cc.v2(.24*-this.screenWidth+(r-6)*u.width,.18*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(460)},seqSeven:function(){if(this.currentStage=7,this.opacityCount=0,35!==this.currentSeqCount&&(this.currentSeqCount=35),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()),i=[0,2,4,6,8],o=[1,3,5,7,9],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<11;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.2*-this.screenHeight+.5*u.height)):u.setPosition(cc.v2(.32*-this.screenWidth+(r-6)*u.width,.18*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(463)},seqEight:function(){if(this.currentStage=8,this.opacityCount=0,46!==this.currentSeqCount&&(this.currentSeqCount=46),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()),i=[0,2,4,6,8,10],o=[1,3,5,7,9],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<12;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.2*-this.screenHeight+.5*u.height)):u.setPosition(cc.v2(.42*-this.screenWidth+(r-6)*u.width,.18*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(460)},seqNine:function(){if(this.currentStage=9,this.opacityCount=0,58!==this.currentSeqCount&&(this.currentSeqCount=58),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()),i=[0,2,4,6,8,10],o=[1,3,5,7,9,11],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<13;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.15*-this.screenHeight+.5*u.height)):r<12?u.setPosition(cc.v2(.42*-this.screenWidth+(r-6)*u.width,.11*-this.screenHeight-u.height)):u.setPosition(cc.v2(0,.28*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(451)},seqTen:function(){if(this.currentStage=10,this.opacityCount=0,71!==this.currentSeqCount&&(this.currentSeqCount=71),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(4*Math.random()),i=[0,2,4,6,8,10,12],o=[1,3,5,7,9,11],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<14;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.15*-this.screenHeight+.5*u.height)):r<12?u.setPosition(cc.v2(.42*-this.screenWidth+(r-6)*u.width,.11*-this.screenHeight-u.height)):u.setPosition(cc.v2(.08*-this.screenWidth+(r-12)*u.width,.28*-this.screenHeight-u.height)),this.forDelete.push(u)}this.stageTimer.setTotalTime(450)},seqEleven:function(){if(10===this.currentStage&&(this.currentStage=11),this.opacityCount=0,71===this.currentSeqCount&&(this.currentSeqCount=85),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(4*Math.random()),i=[0,2,4,6,8,10,12],o=[1,3,5,7,9,11,13],n=Math.floor(2*Math.random()),s=[],a=[],c=0;c<e;++c)s.push(this.spawnSpecialBar()),a.push(this.extractIndex(i,o,n));a=a.sort(function(t,e){return t>e}),this.currentSeq=[];for(var r=0;r<15;++r){var h=Math.floor(24*Math.random());if(this.currentSeq.length>0)for(var l=0;l<a.length;++l)r==a[l]+1&&(2==this.currentSeq[a[l]]&&h%2==0?h+=1:3==this.currentSeq[a[l]]&&h%2!=0&&(h-=1),a.splice(0,1),l=a.length);var u=cc.instantiate(this.yyArrs[h]);e>0&&a[0]==r?(u=s[0],e--,"HspecialYang"==s[0].name?(this.currentSeq.push(2),s.splice(0,1)):(this.currentSeq.push(3),s.splice(0,1))):h%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(u),u.opacity=0,u.runAction(cc.fadeIn(1)),r<6?u.setPosition(cc.v2(.42*-this.screenWidth+r*u.width,.15*-this.screenHeight+.5*u.height)):r<12?u.setPosition(cc.v2(.42*-this.screenWidth+(r-6)*u.width,.11*-this.screenHeight-u.height)):u.setPosition(cc.v2(.15*-this.screenWidth+(r-12)*u.width,.27*-this.screenHeight-u.height)),this.forDelete.push(u)}11===this.currentStage?this.stageTimer.setTotalTime(445):(this.spawnFlag?this.spawnFlag=!1:(this.currentSeqCount+=15,this.currentStage>11&&(this.currentStage+=1),this.timeLimit-=15),this.timeLimit<=0&&this.timeLimit>=-15&&(this.clickNumber=0,this.clickN(7)),this.stageTimer.setTotalTime(this.timeLimit))},hardInfinite:function(){11===this.currentStage&&(this.currentStage+=1),this.seqEleven()},update:function(){this.boolSkill&&0==this.clickTimesSix&&this.clickNumber>0&&(this.boolSkill=!1,this.currentStage--,this.yyRotate())}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava"}],HmonsterScroll:[function(t,e,i){"use strict";cc._RF.push(e,"131ddDKugpJLb9U0A+UM0kw","HmonsterScroll");t("Common");cc.Class({extends:cc.Component,properties:{speed:0,y:0},onLoad:function(){this.startUpdate(),this.currentHeight=.5*-cc.director.getVisibleSize().height},getNodeY:function(){return this.node.y},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){this.unschedule(this.myUpdate)},setSpeed:function(t){this.speed=t},myUpdate:function(t){this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.node.y<this.currentHeight&&this.node.parent.getComponent("HGame").clickNumber>0&&255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("HGame").clickN(7),this.node.parent.getComponent("HGame").clickTimesSix--,this.node.parent.getComponent("HGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],Hmonster:[function(t,e,i){"use strict";cc._RF.push(e,"97dd4Qqi+xJmqNeJTKyxPsX","Hmonster");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.parent.getComponent("HGame").clickTimesSix--,this.node.parent.getComponent("HGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],HspecialYY:[function(t,e,i){"use strict";cc._RF.push(e,"f6061cDeCFF+Ksu81cknxuR","HspecialYY"),cc.Class({extends:cc.Component,properties:{circle:cc.Sprite},onLoad:function(){this.schedule(this.myUpdate,1)},myUpdate:function(t){this.circle.node.runAction(cc.rotateBy(1,360))}}),cc._RF.pop()},{}],HstageTimer:[function(t,e,i){"use strict";cc._RF.push(e,"cb6aek7IAtAcZLeG2xU/Ccs","HstageTimer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:200,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t;var e=Math.floor(this.totalTime/100),i=this.totalTime-100*Math.floor(this.totalTime/100);i<10&&(i="0"+i),this.timerDisplay.string=e+"",this.minutesDisplay.string=i+""},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",t<=0&&e<=0){this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.closeInputControl(),this.node.runAction(cc.blink(.5,3));var i=cc.delayTime(.5),o=cc.callFunc(function(){this.game.already=!0,this.game.spawnMonster()},this);this.node.runAction(cc.sequence(i,o))}},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],HwarSeconds:[function(t,e,i){"use strict";cc._RF.push(e,"8fbc6a3OU9Kh58ZKsOhg3/K","HwarSeconds");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:0,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},getTotalTime:function(){return this.totalTime},myUpdate:function(){this.totalTime++;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+""},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],JsToJava:[function(t,e,i){"use strict";cc._RF.push(e,"e729eoslmBJvrjZXmYJup51","JsToJava");var o={showAlertDialog:function(t,e){if(cc.sys.platform==cc.sys.ANDROID){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showAlertDialog","(Ljava/lang/String;Ljava/lang/String;)V",t,e)}},UMLevelCheck:function(t,e){if(cc.sys.platform==cc.sys.ANDROID){var i="org/cocos2dx/javascript/AppActivity",o="UMLevelCheck",n=t,s=e;jsb.reflection.callStaticMethod(i,o,"(Ljava/lang/String;Ljava/lang/String;)V",n,s)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var i="AppController",o="UMLevelCheck:andContent:",n=t,s=e;jsb.reflection.callStaticMethod(i,o,n,s)}},UMBuyCheck:function(t,e,i){if(cc.sys.platform==cc.sys.ANDROID){var o="org/cocos2dx/javascript/AppActivity",n="UMBuyCheck",s=t,a=e,c=i;jsb.reflection.callStaticMethod(o,n,"(Ljava/lang/String;II)V",s,a,c)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var o="AppController",n="UMBuyCheck:andNum1:andNum2:",s=t,a=e,c=i;jsb.reflection.callStaticMethod(o,n,s,a,c)}},UMsetPlayerLevel:function(t){if(cc.sys.platform==cc.sys.ANDROID){var e="org/cocos2dx/javascript/AppActivity",i="UMsetPlayerLevel",o=t;jsb.reflection.callStaticMethod(e,i,"(I)V",o)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var e="AppController",i="UMsetPlayerLevel:",o=t;jsb.reflection.callStaticMethod(e,i,o)}},UMonProfileSignIn:function(t){if(cc.sys.platform==cc.sys.ANDROID){var e="org/cocos2dx/javascript/AppActivity",i="UMonProfileSignIn",o=t;jsb.reflection.callStaticMethod(e,i,"(Ljava/lang/String;)V",o)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var e="AppController",i="UMonProfileSignIn:",o=t;jsb.reflection.callStaticMethod(e,i,o)}},UMonProfileSignInThird:function(t,e){if(cc.sys.platform==cc.sys.ANDROID){var i="org/cocos2dx/javascript/AppActivity",o="UMonProfileSignInThird",n=t,s=e;jsb.reflection.callStaticMethod(i,o,"(Ljava/lang/String;Ljava/lang/String;)V",n,s)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var i="AppController",o="UMonProfileSignInThird:andAccount:",n=t,s=e;jsb.reflection.callStaticMethod(i,o,n,s)}},UMonProfileSignOff:function(){if(cc.sys.platform==cc.sys.ANDROID){var t="org/cocos2dx/javascript/AppActivity",e="UMonProfileSignOff";jsb.reflection.callStaticMethod(t,e,"()V")}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var t="AppController",e="UMonProfileSignOff";jsb.reflection.callStaticMethod(t,e)}},UMPowerCount:function(t){if(cc.sys.platform==cc.sys.ANDROID){var e="org/cocos2dx/javascript/AppActivity",i="UMPowerCount",o=t;jsb.reflection.callStaticMethod(e,i,"(Ljava/lang/String;)V",o)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var e="AppController",i="UMPowerCount:",o=t;jsb.reflection.callStaticMethod(e,i,o)}},UMPayCheck:function(t,e,i,o,n,s){if(cc.sys.platform==cc.sys.ANDROID){var a="org/cocos2dx/javascript/AppActivity",c="UMPayCheck",r=t,h=e,l=i,u=o,d=n,p=s;jsb.reflection.callStaticMethod(a,c,"(IIILjava/lang/String;II)V",r,h,l,u,d,p)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var a="AppController",c="UMPayCheck:source2:coin3:itemid4:amount5:price6:",r=t,h=e,l=i,u=o,d=n,p=s;jsb.reflection.callStaticMethod(a,c,r,h,l,u,d,p)}},UMHighScoreEvent:function(t,e){if(cc.sys.platform==cc.sys.ANDROID){var i="org/cocos2dx/javascript/AppActivity",o="UMHighScoreEvent",n=t,s=e;jsb.reflection.callStaticMethod(i,o,"(Ljava/lang/String;Ljava/lang/String;)V",n,s)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var i="AppController",o="UMHighScoreEvent:andScore:",n=t,s=e;jsb.reflection.callStaticMethod(i,o,n,s)}},QQLogin:function(){if(cc.sys.platform==cc.sys.ANDROID){var t="org/cocos2dx/javascript/AppActivity",e="onClickQQLogin";jsb.reflection.callStaticMethod(t,e,"()V")}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var t="RootViewController",e="qqLogin";jsb.reflection.callStaticMethod(t,e)}},QQcheckToken:function(){if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){jsb.reflection.callStaticMethod("RootViewController","checkTokenValid")}},buyCoinWithRMB:function(t){if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var e=t;jsb.reflection.callStaticMethod("RootViewController","buyCoin:",e)}},MultipleTouchState:function(t){if(cc.sys.platform==cc.sys.ANDROID){var e="org/cocos2dx/javascript/AppActivity",i="MultipleTouchState",o=t;jsb.reflection.callStaticMethod(e,i,"(Ljava/lang/String;)V",o)}else if(cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD){var e="AppController",i="MultipleTouchState:",o=t;jsb.reflection.callStaticMethod(e,i,o)}}};e.exports=o,cc._RF.pop()},{}],LTimer:[function(t,e,i){"use strict";cc._RF.push(e,"c589ebz03FHOL1KvFNBKvlv","LTimer");var o=t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},game:{default:null,serializable:!1}},onLoad:function(){if(this.totalTime=1300,o.HardModel){this.totalTime=2e3;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+""}},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",3==t){var i=cc.scaleBy(1,1.2),o=cc.scaleBy(1,.8);this.timerDisplay.node.runAction(cc.sequence(i,o))}t<=0&&e<=0&&(this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.succFlag&&this.game.failGame())},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],LarexOne:[function(t,e,i){"use strict";cc._RF.push(e,"adcaeCzmDxNZLGTWPkJJvWx","LarexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.parentComp=this.node.parent.getComponent("LimitGame"),this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchend",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchend",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.dispatchEvent(new cc.Event.EventCustom("blockmove",!0)),o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,o.HardModel||(this.parentComp.countSum--,this.parentComp.killCount.string=this.parentComp.countSum+"",0===this.parentComp.countSum&&(this.parentComp.countSum=-1,this.parentComp.failFlag&&this.parentComp.overGame())),o.troopScore+=10,this.parentComp.scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],LarexThree:[function(t,e,i){"use strict";cc._RF.push(e,"8e83euEhYxKb5jucnqXWBgt","LarexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.parentComp=this.node.parent.getComponent("LimitGame"),this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchend",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchend",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.dispatchEvent(new cc.Event.EventCustom("blockmove",!0)),o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,o.HardModel||(this.parentComp.countSum--,this.parentComp.killCount.string=this.parentComp.countSum+"",0===this.parentComp.countSum&&(this.parentComp.countSum=-1,this.parentComp.failFlag&&this.parentComp.overGame())),o.troopScore+=30,this.parentComp.scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],LarexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"c911eUv5GBJsINUUrZrax3d","LarexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.parentComp=this.node.parent.getComponent("LimitGame"),this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchend",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchend",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.dispatchEvent(new cc.Event.EventCustom("blockmove",!0)),o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,o.HardModel||(this.parentComp.countSum--,this.parentComp.killCount.string=this.parentComp.countSum+"",0===this.parentComp.countSum&&(this.parentComp.countSum=-1,this.parentComp.failFlag&&this.parentComp.overGame())),o.troopScore+=20,this.parentComp.scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],LimitGame:[function(t,e,i){"use strict";cc._RF.push(e,"d4e4dSCI/FEZ4NMg3LGPWfv","LimitGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{arexArr:{default:[],type:cc.Prefab,tooltip:"三个精英兵"},overLayer:{default:null,type:cc.Layout,tooltip:"胜利结算层"},battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},failMusic:{default:null,url:cc.AudioClip,tooltip:"失败音效"},fullMask:{default:null,type:cc.Node,tooltip:"结束后遮挡"},bigMask:{default:null,type:cc.Node,tooltip:"大半部遮挡"},upLayer:{default:null,type:cc.Node,tooltip:"上遮挡"},totalArex:[],scoreDisplay:cc.Label,timer:cc.Label,battleLayer:cc.Layout,killSprite:cc.Sprite,killCount:cc.Label,failLayer:cc.Sprite,startAnim:cc.Node,exitBox:cc.Prefab},onLoad:function(){this.bigMask.active=!0,this.upLayer.active=!0,this.battleLayer.node.active=!1,o.troopScore=0,this.scoreDisplay.string=o.troopScore.toString(),o.xianshiMode=!0,o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),this.timerComp=this.timer.getComponent("LTimer"),this.timerComp.init(this),o.HardModel?(this.timerComp.setTotalTime(2e3),this.killCount.node.active=!1,this.killSprite.node.active=!1):(this.countSum=45,this.killCount.string=this.countSum+""),this.succFlag=!0,this.failFlag=!0,this.screenWidth=640,this.positionX=[-245,-77,91,259],this.positionY=[-388,-228,-68,92,252,412,572,732],this.overLayer.getComponent("GameOver").init(this),this.failLayer.getComponent("GameOver").init(this)},startGame:function(){o.HardModel?s.UMLevelCheck("levelHard3","start"):s.UMLevelCheck("level3","start"),this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var t=cc.callFunc(function(){this.timerRunning=!0,this.initArex(),o.returnOnce=!0,this.totalArex[0].runAction(cc.repeatForever(cc.blink(1,3))),this.node.on("blockmove",this.blockMoveFunc,this),this.schedule(this.myUpdate,0),this.returnMenu()},this);this.node.runAction(cc.sequence(cc.delayTime(1.5),t))},blockMoveFunc:function(t){for(var e=0;e<this.totalArex.length;++e)this.totalArex[e].runAction(cc.moveBy(0,cc.p(0,-160)))},initArex:function(){for(var t=0;t<8;++t){var e=Math.round(2*Math.random()),i=cc.instantiate(this.arexArr[e]);i.position=cc.p(this.positionX[this.randomX()],this.positionY[t]),this.totalArex.push(i),this.node.addChild(i)}},randomX:function(){return Math.round(3*Math.random())},randomY:function(){return Math.round(7*Math.random())},topArex:function(){var t=Math.round(2*Math.random()),e=cc.instantiate(this.arexArr[t]);e.position=cc.p(this.positionX[this.randomX()],this.positionY[7]),this.node.addChild(e),this.totalArex.push(e)},topBlockPos:function(){var t=Math.round(3*Math.random());return cc.p(this.positionX[t],this.positionY[7])},overGame:function(){if(this.succFlag){var t=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),e=cc.delayTime(2.5);this.succFlag=!1,this.fullMask.active=!0;var i=this;this.timerComp.stopmyUpdate();var n=Math.floor(parseInt(this.scoreDisplay.string));i.node.off("blockmove",i.blockMoveFunc,i);var a=cc.callFunc(function(){var t=cc.hide(),e=cc.scaleTo(0,.1),a=cc.show(),c=cc.scaleBy(.5,10);this.overLayer.node.active=!0,this.overLayer.node.setLocalZOrder(11),o.HardModel||s.UMLevelCheck("level3","finish");var r=cc.find("Canvas/OverSucc").getComponent("GameOver");parseInt(this.timer.string)>=3&&!o.HardModel&&r.judgeOnce(7),o.HardModel||r.judgeOnce(-1),r.battleScore(n,0);var h=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(i.victoryMusic,!1,1),i.unschedule(this.update),this.totalArex=[]},this.overLayer.node),l=cc.callFunc(function(){},this.overLayer.node);this.overLayer.node.runAction(cc.sequence(t,e,a,c,h,l))},this);this.node.runAction(cc.sequence(t,e,a))}},failGame:function(){if(this.failFlag){o.HardModel||s.UMLevelCheck("level3","fail");var t=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),e=cc.delayTime(2.5),i=cc.callFunc(function(){this.killSprite.node.runAction(cc.blink(1,3)),this.killCount.node.runAction(cc.blink(1,3))},this);this.failFlag=!1,this.fullMask.active=!0,this.timerComp.stopmyUpdate();var n=this,a=Math.floor(parseInt(this.scoreDisplay.string));n.node.off("blockmove",n.blockMoveFunc,n);var c=cc.callFunc(function(){var t=cc.hide(),e=cc.scaleTo(0,.1),i=cc.show(),s=cc.scaleBy(.5,10);this.failLayer.node.active=!0,this.failLayer.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(a,0);var c=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(n.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(n.failMusic,!1,1),n.unschedule(this.update),this.totalArex=[]},this.failLayer.node),r=cc.callFunc(function(){},this.failLayer.node);this.failLayer.node.runAction(cc.sequence(t,e,i,s,c,r))},this);this.node.runAction(cc.sequence(i,cc.delayTime(1),t,e,c))}},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.find("Canvas/QuitKuang").setLocalZOrder(21),cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},myUpdate:function(t){-548===this.totalArex[0].y&&(this.timerRunning&&(this.timerRunning=!1,this.timerComp.startmyUpdate()),this.totalArex[0].removeFromParent(),this.totalArex.shift(),this.topArex())}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],Login:[function(t,e,i){"use strict";cc._RF.push(e,"2f53cKjTwtPL7huUOmowcak","Login");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{registerNickName:{default:null,type:cc.EditBox,tooltip:"注册时的昵称"},registerLayer:{default:null,type:cc.Node,tooltip:"单机首次登陆注册界面"},powerDisplay:{default:null,type:cc.Layout,tooltip:"势力选取界面"},sureBtn:cc.Button,fullnull:cc.Node,nickNameLabel:cc.Label,nickBox:cc.EditBox,startTips:cc.Node,waitProgress:cc.Node},onLoad:function(){if(this.nickLabelOn(),this.node.on("touchend",this.loginLayer,this),null===cc.sys.localStorage.getItem("UserArray")?(this.UserArray=[],cc.sys.localStorage.setItem("UserArray",JSON.stringify(this.UserArray))):this.UserArray=JSON.parse(cc.sys.localStorage.getItem("UserArray")),n.getLocalData("EXITTIME")){var t=parseInt(n.getLocalData("EXITTIME")),e=(new Date).getTime(),i=Math.floor((e-t)/1e3),s=0,a=0;if(n.getLocalData("ENDTOTALIZE")&&(s=parseInt(n.getLocalData("ENDTOTALIZE"))),(i+=s)<300)n.setLocalData("ENDTOTALIZE",i);else{n.setLocalData("ENDTOTALIZE",0),a=Math.floor(i/300),o.CurrentHP=parseInt(n.getLocalData("HP"));var c=o.TotalHP-o.CurrentHP;a>=c?(o.CurrentHP+=c,n.setLocalData("HP",o.CurrentHP)):(o.CurrentHP+=a,n.setLocalData("HP",o.CurrentHP))}}this.setInputControl()},qqLogin:function(){s.QQLogin()},loginLayer:function(t){t.stopPropagation(),null==cc.sys.localStorage.getItem("account")||null==n.getLocalData("Tribe")?(this.registerLayer.active=!0,this.startTips.runAction(cc.hide()),this.nickBox.setFocus(),cc.sys.localStorage.setItem("account",1)):(this.readUserData(),this.loginButton()),this.fullnull.active=!0,this.node.off("touchend",this.loginLayer,this)},loginButton:function(){o.FirstGame=!1;for(var t=this.nickNameAccount,e=!1,i=0;i<this.UserArray.length;++i)t===this.UserArray[i].nickname&&(cc.sys.localStorage.setItem("account",this.UserArray[i].nickname),o.tribeColor=n.getLocalData("Tribe"),e=!0,s.UMonProfileSignIn(t));if(e){var a=n.getLocalData("NewState");"false"==a?o.FirstGame=!1:"true"==a&&(o.FirstGame=!0);var c=parseInt(n.getLocalData("NewStep"));switch(o.FirstGame=!1,c){case-1:o.FirstGame=!1,o.newbieZero=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1;break;case 1:o.newbieZero=!0,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1;break;case 2:o.newbieOne=!0,o.newbieZero=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1;break;case 3:o.newbieTwo=!0,o.newbieZero=!1,o.newbieOne=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1,o.ShowGuide=!0;break;case 4:o.newbieThree=!0,o.newbieZero=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1;break;case 5:o.newbieFour=!0,o.BreakOff=!0,o.newbieZero=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!1;break;case 6:parseInt(n.getLocalData("LEVEL"))>=10?(o.newbieFive=!0,o.newbieLast=!1):o.newbiePuyang=!0,o.newbieZero=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieSeven=!1;break;case 7:o.newbieSix=!0,o.newbieFive=!1,o.newbieZero=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieSeven=!1}if(o.newbieOne&&o.FirstGame)o.TaoFaDongZhuo=!0,cc.director.loadScene("NewBattleScene");else if(o.FirstGame&&(o.newbieZero||o.newbieThree||o.newbieFive||o.newbieFour))cc.director.loadScene("NewMenuScene");else if(o.newbieTwo&&o.FirstGame){var r=cc.callFunc(function(){this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgress").rotate()},this),h=cc.callFunc(function(){cc.director.loadScene("MenuScene")},this);this.node.runAction(cc.sequence(r,cc.delayTime(1.5),h))}else{var r=cc.callFunc(function(){this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgress").rotate()},this),h=cc.callFunc(function(){cc.director.loadScene("MenuScene")},this);this.node.runAction(cc.sequence(r,cc.delayTime(1.5),h))}}else cc.log("登陆失败!")},nickLabelOn:function(){this.nickNameLabel.node.on("touchend",function(){this.registerNickName.node.runAction(cc.show()),this.nickNameLabel.node.active=!1},this)},editingDidBegan:function(){this.nickNameLabel.node.active=!1},textChanged:function(){this.nickNameLabel.node.active=!1},editingDidEnded:function(){this.nickNameLabel.node.active=!0,this.nickNameLabel.string=this.registerNickName.string,""==this.nickNameLabel.string?this.registerNickName.node.runAction(cc.show()):this.registerNickName.node.runAction(cc.hide())},editingReturn:function(){this.nickNameLabel.node.active=!1,this.nickNameLabel.string=this.registerNickName.string,""==this.nickNameLabel.string?this.registerNickName.node.runAction(cc.show()):this.registerNickName.node.runAction(cc.hide())},saveUserData:function(){var t={nickname:"",ID:0};t.nickname=this.nickNameLabel.string,s.UMonProfileSignIn(t.nickname),this.UserArray.length<=0?t.ID=1:t.ID=++this.UserArray[this.UserArray.length-1].ID,this.UserArray.push(t),cc.sys.localStorage.setItem("UserArray",JSON.stringify(this.UserArray)),cc.sys.localStorage.setItem("account",t.nickname)},readUserData:function(){this.nickNameAccount=cc.sys.localStorage.getItem("account")},registerButton:function(){if(this.sureBtn.interactable=!1,""==this.nickNameLabel.string)this.registerNickName.node.runAction(cc.show()),this.sureBtn.interactable=!0;else{this.registerLayer.runAction(cc.hide());var t=cc.callFunc(function(){this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgress").rotate()},this),e=cc.callFunc(function(){this.saveUserData(),this.registerLayer.active=!1,this.powerDisplay.node.active=!0},this);this.node.runAction(cc.sequence(t,cc.delayTime(1.5),e))}},isAccount:function(t){return/^\d.*$/.test(t)?1:/^.{6,20}$/.test(t)?/^[\w_]*$/.test(t)?/^([a-z]|[A-Z])[\w_]{5,19}$/.test(t)?0:4:3:2},checkUsername:function(t){if(""==(t=t)||null==t)return!1;switch(this.isAccount(t)){case 0:break;case 1:return this.changeUsernamePrompt("格式不正确, 账户名不能以数字开头"),!1;case 2:return this.changeUsernamePrompt("字符长度有误 合法长度为6-20个字符"),!1;case 3:return this.changeUsernamePrompt("含有非法字符, 账户名只能包含 _, 英文字母, 数字"),!1;case 4:return this.changeUsernamePrompt("格式不正确, 账户名只能包含 _, 英文字母, 数字"),!1}return!0},changeUsernamePrompt:function(t){},setInputControl:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,e){switch(t){case cc.KEY.back:cc.audioEngine.stopAll(),cc.game.end()}}},t.node)},removeUserData:function(){cc.sys.localStorage.removeItem("account")},clearUserData:function(){cc.sys.localStorage.clear()}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],MatchComplete:[function(t,e,i){"use strict";cc._RF.push(e,"a708boUVrJHuJYEeh6UKFA0","MatchComplete");var o=t("Common"),n=t("NickName"),s=t("StorageData");cc.Class({extends:cc.Component,properties:{playerOne:cc.Label,playerTwo:cc.Label,playerThree:cc.Label,deduction:cc.Label},onLoad:function(){o.PlayerOne=this.randomNickName(),o.PlayerTwo=this.randomNickName(),this.playerName()},start:function(){var t=cc.delayTime(2),e=cc.callFunc(function(){o.FirstGame?cc.director.loadScene("NewPVPScene"):(o.Score=parseInt(s.getLocalData("Score"))-o.pvpNumber,s.setLocalData("Score",o.Score),cc.director.loadScene("PVPScene"))},this),i=cc.sequence(t,e);this.node.runAction(i)},playerName:function(){this.deduction.string=o.pvpNumber+"",1006==o.tribeColor?(this.playerOne.string=o.NickName,this.playerTwo.string=o.PlayerOne,this.playerThree.string=o.PlayerTwo):1004==o.tribeColor?(this.playerOne.string=o.PlayerOne,this.playerTwo.string=o.PlayerTwo,this.playerThree.string=o.NickName):1001==o.tribeColor&&(this.playerOne.string=o.PlayerOne,this.playerTwo.string=o.NickName,this.playerThree.string=o.PlayerTwo)},randomNickName:function(){var t="",e=o.NickNameUnit[Math.floor(Math.random()*o.NickNameUnit.length)];e=e.split(""),e=JSON.parse("["+String(e)+"]");for(var i=0;i<e.length;++i){var s=Math.floor(Math.random()*n[e[i]].length);t+=n[e[i]][s]}return t}}),cc._RF.pop()},{Common:"Common",NickName:"NickName",StorageData:"StorageData"}],MatchLayer:[function(t,e,i){"use strict";cc._RF.push(e,"9a890CJS75Nd4XOQstJX13I","MatchLayer"),cc.Class({extends:cc.Component,properties:{matchLayer:cc.Layout,matchSuccess:cc.Layout,progressbarDis:cc.Sprite},onLoad:function(){this.probarRotation()},start:function(){var t=cc.delayTime(2),e=cc.callFunc(function(){this.matchLayer.node.active=!1,this.matchSuccess.node.active=!0},this),i=cc.sequence(t,e);this.node.runAction(i)},probarRotation:function(){var t=cc.rotateBy(1.5,70);this.progressbarDis.node.runAction(t)}}),cc._RF.pop()},{}],MatchSelect:[function(t,e,i){"use strict";cc._RF.push(e,"f461c+0oVdLXKEPrx/TgwCN","MatchSelect");var o=t("Common");cc.Class({extends:cc.Component,properties:{guideSixOne:cc.Node},onLoad:function(){o.FirstGame&&o.newbieSix&&(this.guideSixOne.active=!0)}}),cc._RF.pop()},{Common:"Common"}],Menu:[function(t,e,i){"use strict";cc._RF.push(e,"c2ce5/ZRWZDxqOvO6/z96eI","Menu");var o=t("Common"),n=t("ULevelStr"),s=t("UpgradeConfig"),a=t("StorageData"),c=t("JsToJava");cc.Class({extends:cc.Component,properties:{goldDisplay:{default:null,type:cc.Label},totalHP:0,currentHP:0,currentGold:0,currentHPDisplay:{default:null,type:cc.Label},menuLayer:{default:null,type:cc.Layout},friendLayer:{default:null,type:cc.Layout},friendBut:{default:null,type:cc.Button},storeLayer:{default:null,type:cc.Layout},storeBut:{default:null,type:cc.Button},configLayer:{default:null,type:cc.Layout},configBut:{default:null,type:cc.Button},shareLayer:{default:null,type:cc.Layout},shareBut:{default:null,type:cc.Button},powerLayer:{default:null,type:cc.Layout},powerBut:{default:null,type:cc.Button},powerDisplay:{default:[],type:cc.Sprite},troopDisplay:{default:[],type:cc.Sprite},commingSoonSprite:cc.Sprite,limitModeBut:cc.Button,classicModeBut:cc.Button,battleModeBut:cc.Button,lingBut:cc.Button,jianLP:cc.Node,clickedNullNode:cc.Node,coinBut:cc.Button,currentTroopDisplay:cc.Label,currentTroop:0,nickName:cc.Label,levelDisplay:cc.Label,pvpLayer:cc.Sprite,battleLayer:cc.Layout,guide:cc.Node,guideFour:cc.Node,guideSix:cc.Node,guideFive:cc.Node,guideSeven:cc.Node,guideSevenLast:cc.Node,redArrow:cc.Node,randomCloud:cc.Sprite,hardClouds:{default:[],type:cc.Sprite},bgMusic:{default:null,url:cc.AudioClip,tooltip:"背景音乐"},openBattleNode:cc.Node,loadIngBar:cc.Node,openTips:cc.Label},onLoad:function(){if(c.MultipleTouchState("close"),o.scrollSpeed=2,o.tribeColor=parseInt(a.getLocalData("Tribe")),this.judgeMonthCard(),""===o.OpenBattleName||o.FirstGame||(this.openBattleNode.active=!0,this.openBattleNode.getComponent("BattleOpenShow").showName()),o.MusicOffset){cc.audioEngine.stop(o.battleMusicId);var t=cc.audioEngine.getState(o.bgMusicId);1===t||(2===t?cc.audioEngine.resume(o.bgMusicId):o.bgMusicId=cc.audioEngine.play(this.bgMusic,!0,1))}if(this.normalOrHard(),o.FinalState){var e=Math.floor(7*Math.random()+4),i=cc.delayTime(e),n=cc.callFunc(function(){o.FinalState=!1},this);this.node.runAction(cc.sequence(i,n))}this.setInputControl(),this.getMilitaryStrength(),this.powerSelect(),o.FirstGame&&o.newbieTwo&&!o.newbieLast?this.battleLayer.node.active=!0:o.FirstGame&&o.newbieZero&&!o.newbieLast?(o.newbieZero=!1,this.guide.active=!0):o.FirstGame&&o.newbieThree&&!o.newbieLast?this.guideFour.active=!0:o.FirstGame&&o.newbieFive&&!o.newbieLast?this.guideSix.active=!0:o.FirstGame&&o.newbieFour&&o.BreakOff&&!o.newbieLast?(this.guideFive.active=!0,o.BreakOff=!1):o.FirstGame&&o.newbieLast&&!o.SevenLast&&(this.guideSeven.active=!0),o.battlePower&&!o.FirstGame&&(this.battleLayer.node.active=!0,this.closeButton()),this.cloudTimeCount=0,this.cloudMoveDis=this.randomCloud.node.width+this.node.width;s=a.getLocalData("HardModel");o.HardModel="true"===s,o.HardModel&&!o.FirstGame?this.randomCloudAction(this.hardClouds[2]):this.randomCloudAction(this.randomCloud),o.SimpleCount=parseInt(a.getLocalData("SimpleCount"));var s=a.getLocalData("MONTHCARD");o.MonthCardVIP="true"===s,o.classicMode=!1,o.Score=parseInt(a.getLocalData("Score")),o.Score>=1e6&&this.judgeOnce(1e6)},onDestroy:function(){o.FinalState=!1},spawnLoading:function(){this.loadIngBar.active||(this.loadIngBar.getComponent("WaitProgress").rotate(),this.loadIngBar.active=!0)},removeLoading:function(){this.loadIngBar.active=!1},setInputControl:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,e){switch(t){case cc.KEY.back:cc.audioEngine.stopAll();i=(new Date).getTime();a.setLocalData("EXITTIME",i),cc.game.end();break;case cc.KEY.home:var i=(new Date).getTime();a.setLocalData("EXITTIME",i)}}},t.node)}},normalOrHard:function(){"true"===a.getLocalData("HardModel")?(cc.loader.loadRes("texture/newbie/kunMenu",cc.SpriteFrame,function(t,e){t||(cc.find("Canvas/MenuLayer").getComponent(cc.Sprite).spriteFrame=e)}),cc.loader.releaseRes("texture/menu/bg",cc.SpriteFrame)):(cc.loader.loadRes("texture/menu/bg",cc.SpriteFrame,function(t,e){t||(cc.find("Canvas/MenuLayer").getComponent(cc.Sprite).spriteFrame=e)}),cc.loader.releaseRes("texture/newbie/kunMenu",cc.SpriteFrame))},lingBlink:function(){var t=cc.blink(1,3);this.lingBut.node.runAction(t),o.HpBool=!0},inClassicMode:function(){if(o.CurrentHP>0){var t=cc.callFunc(function(){this.spawnLoading()},this),e=cc.callFunc(function(){this.removeLoading(),this.clickedNullNode.active=!0,o.CurrentHP-=1,a.setLocalData("HP",o.CurrentHP),this.jianLP.active=!0,o.limitMode=!1,o.battleMode=!1,o.classicMode=!0;var t=cc.delayTime(.8),e=cc.callFunc(function(){o.FirstGame?cc.director.loadScene("NewClassicScene"):cc.director.loadScene("ClassicScene"),c.MultipleTouchState("open")},this);this.node.runAction(cc.sequence(t,e))},this);this.node.runAction(cc.sequence(t,cc.delayTime(1),e))}else this.lingBlink(),cc.find("Canvas/continueNode").active=!0},inLimitMode:function(){if(a.getLocalData("LEVEL")>=10){var t=cc.callFunc(function(){this.spawnLoading()},this),e=cc.callFunc(function(){this.removeLoading(),o.FirstGame&&(this.redArrow.active=!1),o.classicMode=!1,o.battleMode=!1,o.limitMode=!0,this.closeButton(),this.pvpLayer.node.active=!0},this);this.node.runAction(cc.sequence(t,cc.delayTime(1),e))}else this.openTips.node.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))},inBattleMode:function(){var t=cc.callFunc(function(){this.spawnLoading()},this),e=cc.callFunc(function(){this.removeLoading(),o.classicMode=!1,o.limitMode=!1,o.battleMode=!0,this.closeButton(),this.battleLayer.node.active=!0,o.FirstGame&&(this.guide.active=!0)},this);this.node.runAction(cc.sequence(t,cc.delayTime(1),e))},inLoginUI:function(){cc.audioEngine.stop(o.bgMusicId),c.UMonProfileSignOff(),cc.director.loadScene("LoginScene")},commingSoon:function(){var t=cc.fadeIn(2),e=cc.fadeOut(2),i=cc.sequence(t,e);this.commingSoonSprite.node.runAction(i)},inFriendLayer:function(){this.commingSoon()},inStoreLayer:function(t,e){var i=cc.callFunc(function(){this.spawnLoading()},this),o=cc.callFunc(function(){c.UMPowerCount("pageStoreCount"),this.removeLoading(),this.powerLayer.node.active&&this.returnButton(0,5),this.menuLayer.node.runAction(cc.hide()),this.configBut.node.active=!1,this.powerBut.node.active=!1,this.friendBut.node.active=!1,this.storeLayer.node.active=!0,this.storeLayer.node.getComponent("StoreLayer").inWhere(e)},this);this.node.runAction(cc.sequence(i,cc.delayTime(1),o))},inConfigLayer:function(){var t=cc.callFunc(function(){this.spawnLoading()},this),e=cc.callFunc(function(){this.removeLoading(),this.menuLayer.node.runAction(cc.hide()),this.storeBut.node.active=!1,this.powerBut.node.active=!1,this.friendBut.node.active=!1,this.configLayer.node.active=!0},this);this.node.runAction(cc.sequence(t,cc.delayTime(1),e))},inShareLayer:function(){this.commingSoon()},inPowerLayer:function(){if(a.getLocalData("LEVEL")>=10){var t=cc.callFunc(function(){this.spawnLoading()},this),e=cc.callFunc(function(){c.UMPowerCount("pageRankingCount"),this.removeLoading(),this.menuLayer.node.runAction(cc.hide()),this.storeBut.node.active=!1,this.configBut.node.active=!1,this.friendBut.node.active=!1,this.powerLayer.node.active=!0,this.powerLayer.node.getComponent("PowerRankLayer").destroyMenuNode(),this.powerLayer.node.getComponent("PowerRankLayer").copyMenuNode(),this.powerLayer.node.getComponent("PowerRankLayer").inPersonalRank()},this);this.node.runAction(cc.sequence(t,cc.delayTime(1),e))}else this.openTips.node.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))},returnButton:function(t,e){switch(""===o.OpenBattleName||o.FirstGame||(this.openBattleNode.active=!0,this.openBattleNode.getComponent("BattleOpenShow").showName()),this.menuLayer.node.runAction(cc.show()),parseInt(e)){case 1:this.friendLayer.node.active=!1,this.storeBut.node.active=!0,this.configBut.node.active=!0,this.powerBut.node.active=!0;break;case 2:2001===o.PVPorBattle?(cc.find("Canvas/PVPMode").active=!0,o.PVPorBattle=0):3001===o.PVPorBattle&&(cc.find("Canvas/BattleMode").active=!0,o.PVPorBattle=0),this.storeLayer.node.active=!1,this.configBut.node.active=!0,this.powerBut.node.active=!0,this.friendBut.node.active=!0;break;case 3:this.configLayer.node.active=!1,this.storeBut.node.active=!0,this.powerBut.node.active=!0,this.friendBut.node.active=!0,this.powerBut.node.setLocalZOrder(0);break;case 4:this.storeBut.node.active=!0,this.configBut.node.active=!0,this.powerBut.node.active=!0,this.friendBut.node.active=!0;break;case 5:this.powerLayer.node.active=!1,this.storeBut.node.active=!0,this.configBut.node.active=!0,this.friendBut.node.active=!0,o.FirstGame&&o.newbieLast&&o.SevenLast&&(this.guideSevenLast.active=!0)}},closeButton:function(){this.friendBut.enabled=!1,this.storeBut.enabled=!1,this.configBut.enabled=!1,this.shareBut.enabled=!1,this.powerBut.enabled=!1,this.limitModeBut.enabled=!1,this.classicModeBut.enabled=!1,this.battleModeBut.enabled=!1},powerSelect:function(){var t=290*parseFloat(this.currentTroop/o.totalScore);this.currentTroop>=s[s.length-1].Ceiling&&(t=290),"1006"==a.getLocalData("Tribe")?(this.powerDisplay[0].node.active=!0,this.troopDisplay[0].node.active=!0,this.troopDisplay[0].node.width=t):"1004"==a.getLocalData("Tribe")?(this.powerDisplay[1].node.active=!0,this.troopDisplay[1].node.active=!0,this.troopDisplay[1].node.width=t):"1001"==a.getLocalData("Tribe")&&(this.powerDisplay[2].node.active=!0,this.troopDisplay[2].node.active=!0,this.troopDisplay[2].node.width=t)},getMilitaryStrength:function(){o.CurrentHP=parseInt(a.getLocalData("HP")),o.CurrentHP<=0&&(o.CurrentHP=0);var t=o.CurrentHP,e=o.TotalHP;this.currentHPDisplay.string=t+"/"+e,o.Gold=parseInt(a.getLocalData("Gold")),this.goldDisplay.string=o.Gold+"",this.currentTroop=a.getLocalData("Score"),o.totalScore=parseInt(a.getLocalData("TROOPLIMIT")),this.currentTroopDisplay.string=this.currentTroop+"/"+o.totalScore,o.Level=parseInt(a.getLocalData("LEVEL")),this.levelDisplay.string=n[o.Level]+"级/"+s[o.Level].Official,this.nickName.string=cc.sys.localStorage.getItem("account"),o.NickName=this.nickName.string},update:function(t){null!=a.getLocalData("HP")&&(o.CurrentHP=parseInt(a.getLocalData("HP")),o.CurrentHP<=0?o.CurrentHP=0:o.HpBool=!1),this.currentHP=o.CurrentHP,this.totalHP=o.TotalHP,this.currentHPDisplay.string=this.currentHP+"/"+this.totalHP,this.currentGold=o.Gold,this.goldDisplay.string=this.currentGold+"",this.currentTroop=parseInt(a.getLocalData("Score")),o.totalScore=parseInt(a.getLocalData("TROOPLIMIT")),this.currentTroopDisplay.string=this.currentTroop+"/"+o.totalScore,o.Level=parseInt(a.getLocalData("LEVEL")),this.levelDisplay.string=n[o.Level]+"级/"+s[o.Level].Official,this.powerSelect(),this.cloudTimeCount+=t,this.cloudTimeCount>7&&(this.cloudTimeCount=0,o.HardModel&&!o.FirstGame?this.randomCloudAction(this.hardClouds[2]):this.randomCloudAction(this.randomCloud))},judgeMonthCard:function(){var t=parseInt(a.getLocalData("MonthEffectiveTime")),e=Date.now(),i=parseInt(a.getLocalData("MonthEffectiveHaveTime"))-(e-t);i>0?(o.MonthCardVIP=!0,a.setLocalData("MonthEffectiveHaveTime",i),a.setLocalData("MonthEffectiveTime",e)):(o.MonthCardVIP=!1,a.setLocalData("MONTHCARD",o.MonthCardVIP),a.setLocalData("MonthEffectiveHaveTime",0),a.setLocalData("MonthEffectiveTime",0))},randomCloudAction:function(t){o.FirstGame||("kunYun3"==t.node.name?(t.node.opacity=255,this.randomCloud.node.opacity=0):(t.node.opacity=255,this.hardClouds[2].node.opacity=0));var e,i=0;e=Math.floor(651*Math.random())-150,i=0===Math.floor(2*Math.random())?-520:520,t.node.setPosition(i,e),i<0?t.node.runAction(cc.moveBy(7,cc.p(this.cloudMoveDis,0))):t.node.runAction(cc.moveBy(7,cc.p(-this.cloudMoveDis,0)))},judgeOnce:function(t){o.SimpleCount=parseInt(a.getLocalData("SimpleCount")),this.thirteenWar=JSON.parse(a.getLocalData("ThirteenWar")),this.openHardCondition(t)},openHardCondition:function(t){for(var e=0,i=0;i<this.thirteenWar.length;++i)2===this.thirteenWar[i]&&++e;o.SimpleCount=parseInt(a.getLocalData("SimpleCount")),13===o.SimpleCount&&e<9&&1e6===t&&1===this.thirteenWar[12]&&(this.thirteenWar[12]=2,a.setLocalData("ThirteenWar",JSON.stringify(this.thirteenWar)))}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData",ULevelStr:"ULevelStr",UpgradeConfig:"UpgradeConfig"}],NewArexOne:[function(t,e,i){"use strict";cc._RF.push(e,"3d8abdD5ItPE725seH/FVw3","NewArexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=10,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],NewArexThree:[function(t,e,i){"use strict";cc._RF.push(e,"01774gTfRBOSK27kbx38BHQ","NewArexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],NewArexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"a89c3hdsvFE1pHOyO61+PC/","NewArexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=20,this.node.parent.getComponent("ClassicGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],NewBattleThree:[function(t,e,i){"use strict";cc._RF.push(e,"c469fWgbIlIpowHaqrGF+/i","NewBattleThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.getComponent("Dongzhuo").comboSucc(),this.node.parent.getComponent("Dongzhuo").battleScoreDis.string=o.troopScore.toString())},closeTouch:function(){var t=this;t.node.off("touchstart",this.clickFunc,t)}}),cc._RF.pop()},{Common:"Common"}],NewBomb:[function(t,e,i){"use strict";cc._RF.push(e,"354899GIndC0bfUtUf+dwfW","NewBomb");t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("Dongzhuo").currentCombo=0,this.node.parent.getComponent("Dongzhuo").comboSprite.node.active=!1,this.node.parent.getComponent("Dongzhuo").clickN(7))},closeTouch:function(){var t=this;t.node.off("touchstart",this.clickFunc,t)}}),cc._RF.pop()},{Common:"Common"}],NewCloseTouch:[function(t,e,i){"use strict";cc._RF.push(e,"07846GdUdROKZGmHCqTgnI3","NewCloseTouch"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;t.node.on("touchstart",function(t){t.stopPropagation()},t)}}),cc._RF.pop()},{}],NewDialogueMap:[function(t,e,i){"use strict";cc._RF.push(e,"49303hzDkxO+5bdC088+beL","NewDialogueMap");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrowCircle:cc.Sprite,nullNode:cc.Node,nullHalfNode:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!0,n.setLocalData("NewStep",3),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),s.UMLevelCheck("newbie3","start")},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="每个地区的进度条代表目前三大势力的分数比";break;case 2:this.dialogue.string="地区总分数最高的势力将会获得地区的暂时控制权，此势力的旗帜将会飘扬在该地区上方";break;case 3:this.dialogue.string="而您在每场战役中获得的分数，都会计入本地区您的势力的总分数里";break;case 4:this.dialogue.string="也就是说您在战役中获得的分数越多对您的势力就有越大的助力";break;case 5:this.dialogue.string="不过我们手中的兵力不多了，先去征兵打好基础吧！";break;case 6:this.dialogue.string="请点击返回";break;case 7:o.ShowGuide=!1,this.node.parent.active=!1,this.nullNode.active=!1,this.nullHalfNode.active=!0,this.redArrowCircle.node.active=!0}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],NewDialogueOver:[function(t,e,i){"use strict";cc._RF.push(e,"221b2LKot9DWJOx/gNOvRVL","NewDialogueOver");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redCircle:cc.Sprite,nullNode:cc.Node},onLoad:function(){this.nullNode.active=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(){switch(++this.clicks){case 1:this.dialogue.string="现在让我们点击返回回到战役选择界面";break;case 2:this.nullNode.active=!1,o.ShowGuide=!0,this.redCircle.node.active=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchFiveOne:[function(t,e,i){"use strict";cc._RF.push(e,"2a56dtthzZAUb53pjFaKSHv","NewDialogueSwitchFiveOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Sprite,arexArr:{default:[],type:cc.Sprite},skillThree:{default:[],type:cc.Sprite},score:cc.Label},onLoad:function(){this.SkillHuaJian=!1,this.SkillLiXian=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbiePuyang=!0;for(var t=0;t<this.skillThree.length;++t)this.skillThree[t].node.getComponent("Scroll").stopUpdate();this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(){switch(++this.clicks){case 1:this.dialogue.string="点击后兵力加10的一级兵",this.arexArr[0].node.getComponent("NewArexOne").setInputControl(),this.redArrow.node.active=!0,this.closeInput();break;case 7:this.dialogue.string="但是我们有两个武将技能可以使用";break;case 8:this.dialogue.string="第一个是恩泽天下：可以在一段时间内帮您快速的的进行点击";break;case 9:this.skillThree[0].node.runAction(cc.moveBy(2,cc.p(0,-165))),this.closeInput(),this.node.parent.runAction(cc.hide());break;case 11:this.skillThree[1].node.runAction(cc.moveBy(2,cc.p(0,-165))),this.closeInput(),this.node.parent.runAction(cc.hide())}},update:function(t){10==this.score.string&&1==this.clicks&&(this.setInputControl(),this.redArrow.node.x=this.arexArr[1].node.x+90,this.redArrow.node.y=this.arexArr[1].node.y+50,this.dialogue.string="点击后兵力加20的二级兵",this.clicks++),2==this.clicks&&(this.arexArr[1].node.getComponent("NewArexTwo").setInputControl(),this.closeInput(),this.clicks++),30==this.score.string&&3==this.clicks&&(this.setInputControl(),this.redArrow.node.x=this.arexArr[2].node.x+90,this.redArrow.node.y=this.arexArr[2].node.y+50,this.dialogue.string="点击后兵力加30的三级兵",this.clicks++),4==this.clicks&&(this.arexArr[2].node.getComponent("NewArexThree").setInputControl(),this.closeInput(),this.clicks++),60==this.score.string&&5==this.clicks&&(this.setInputControl(),this.redArrow.node.active=!1,this.dialogue.string="另外要注意的是征兵模式可没有血量了哦，点到了炸弹点少了小兵征兵就结束了",this.clicks++),this.SkillHuaJian&&9==this.clicks&&(this.setInputControl(),this.node.parent.runAction(cc.show()),this.dialogue.string="第二个是化简为繁：可以将接下来一段时间内刷新出的小兵都变成三级",this.clicks++,this.SkillHuaJian=!1)}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchFive:[function(t,e,i){"use strict";cc._RF.push(e,"11999viseVOPb+veGPj1G4y","NewDialogueSwitchFive");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Sprite,classicBut:cc.Button},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbiePuyang=!0,n.setLocalData("NewStep",5),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.redArrow.node.active=!0,this.classicBut.interactable=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],NewDialogueSwitchFour:[function(t,e,i){"use strict";cc._RF.push(e,"32cb7Q7xfFPr6Sgwq6LrPac","NewDialogueSwitchFour");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,powerUI:cc.Node,lingPaiUI:cc.Node,bingliUI:cc.Node,guideFive:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!0,n.setLocalData("NewStep",4),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="您当前的令牌数量与令牌上限",this.lingPaiUI.runAction(cc.blink(2,5));break;case 2:this.dialogue.string="每次进入战斗都会消耗您的一个令牌";break;case 3:this.dialogue.string="令牌每5分钟自动恢复一枚，请合理安排游戏时间";break;case 4:this.dialogue.string="下方是您目前的兵力与官职",this.bingliUI.runAction(cc.blink(2,5));break;case 5:this.dialogue.string="兵力达到一定数量会提升您的官职, 官职越高, 战役分数就有越多的加成";break;case 6:this.node.parent.active=!1,this.guideFive.active=!0}}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],NewDialogueSwitchOne:[function(t,e,i){"use strict";cc._RF.push(e,"b8658MQhFpNXowUU8rCD2ly","NewDialogueSwitchOne");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,nullNode:cc.Node,redCircle:cc.Sprite,redArrow:cc.Sprite,battleBut:cc.Button},onLoad:function(){o.newbieOne=!0,n.setLocalData("NewStep",1),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),s.UMLevelCheck("newbie1","start")},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="当前冀州地区的形式十分紧张！";break;case 2:this.dialogue.string="没有时间多说了，快随我加入战斗！";break;case 3:this.dialogue.string="请点击战役模式",this.battleBut.interactable=!0;break;case 4:this.nullNode.active=!1,this.node.parent.active=!1,this.redCircle.node.active=!0,this.redArrow.node.active=!0,this.dialogue.string="请点击黄巾之乱";break;case 5:this.node.parent.active=!1,this.battleBut.interactable=!1}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],NewDialogueSwitchSevenThree:[function(t,e,i){"use strict";cc._RF.push(e,"27f5bcXYqdLgqdDYo6418wG","NewDialogueSwitchSevenThree");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,lastRedArrow:cc.Node,openBattleNode:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!0,n.setLocalData("NewStep",7),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),this.lastRedArrow.active=!1},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="开始属于您自己的三国之旅吧！";break;case 2:o.newbieLast=!1,o.FirstGame=!1,n.setLocalData("NewStep",-1),n.setLocalData("NewState",o.FirstGame),this.node.parent.active=!1,cc.find("Canvas/PowerBut/halfNode").active=!1,""===o.OpenBattleName||o.FirstGame||(this.openBattleNode.active=!0,o.OpenBattleName="")}}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],NewDialogueSwitchSevenTwo:[function(t,e,i){"use strict";cc._RF.push(e,"b51aaKu9zxLALJbXDiZoHP4","NewDialogueSwitchSevenTwo");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Node,lastRedArrow:cc.Node,pingBiNode:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!0,n.setLocalData("NewStep",7),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),this.lastRedArrow.active=!1,this.pingBiNode.active=!1},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:o.SevenLast=!0,this.redArrow.active=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],NewDialogueSwitchSeven:[function(t,e,i){"use strict";cc._RF.push(e,"cc1b0a92/dIZ5lx86Qnb5xv","NewDialogueSwitchSeven");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Node,pingBiNode:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!1,o.newbieSeven=!0,n.setLocalData("NewStep",7),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),s.UMLevelCheck("newbie5","start"),n.setLocalData("NewStatenewbie5",1)},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.pingBiNode.active=!0,this.redArrow.active=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],NewDialogueSwitchSixOne:[function(t,e,i){"use strict";cc._RF.push(e,"4f08fuwNDtFaJQ+WLoV8xSM","NewDialogueSwitchSixOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Node,arrowThousand:cc.Node},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="对战会消耗您相应数量的兵力";break;case 2:this.dialogue.string="胜者为王败者为寇，只有第一名的玩家才能获得兵力奖励";break;case 3:this.dialogue.string="要是输了的话投入的兵力也无法收回，请主公量力而行";break;case 4:this.dialogue.string="这次我就送您2000兵力";break;case 5:this.arrowThousand.active=!0,this.redArrow.active=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchSixThree:[function(t,e,i){"use strict";cc._RF.push(e,"5f0c1oCBEBKc6ADq2kZuB5K","NewDialogueSwitchSixThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,skillThree:{default:[],type:cc.Sprite}},onLoad:function(){this.SkillHengSao=!1,o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!0;for(var t=0;t<this.skillThree.length;++t)this.skillThree[t].node.getComponent("Scroll").stopUpdate();this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="但同样也有两个武将技能";break;case 2:this.dialogue.string="第一个是策马长驱：可以在一段时间内帮您快速的的进行点击";break;case 3:this.skillThree[0].node.runAction(cc.moveBy(2,cc.p(0,-165))),this.closeInput(),this.node.parent.runAction(cc.hide());break;case 5:this.skillThree[1].node.runAction(cc.moveBy(2,cc.p(0,-165))),this.closeInput(),this.node.parent.runAction(cc.hide())}},update:function(t){this.SkillHengSao&&3==this.clicks&&(this.setInputControl(),this.node.parent.runAction(cc.show()),this.dialogue.string="第二个是横扫千军：在一定时间内您的每次点击都会附带点击这一整行的敌兵",this.clicks++,this.SkillHengSao=!1)}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchSixTwo:[function(t,e,i){"use strict";cc._RF.push(e,"120b5p5SH1Gkp6TIna5p+PK","NewDialogueSwitchSixTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Node,thousandBut:cc.Button},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(){switch(++this.clicks){case 1:this.dialogue.string="对战会消耗您相应数量的兵力";break;case 2:this.dialogue.string="胜者为王败者为寇，只有第一名的玩家才能获得兵力奖励";break;case 3:this.dialogue.string="要是输了的话投入的兵力也无法收回，请主公量力而行";break;case 4:this.dialogue.string="这次我就送您2000兵力";break;case 5:this.dialogue.string="快点击2000人战役按钮进入对战吧！",this.redArrow.active=!0,this.thousandBut.interactable=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchSix:[function(t,e,i){"use strict";cc._RF.push(e,"2f7c8ezdfFGNqr6IS9d7TJ3","NewDialogueSwitchSix");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redArrow:cc.Node,pvpBut:cc.Button},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!1,o.newbieThree=!1,o.newbieFour=!1,o.newbieFive=!1,o.newbieSix=!0,n.setLocalData("NewStep",6),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),s.UMLevelCheck("newbie4","start")},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="在对战模式里，您可以跟其他势力的真实玩家进行对战，证明自己的能力，获取更多的奖励";break;case 2:this.redArrow.active=!0,this.pvpBut.interactable=!0,this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],NewDialogueSwitchTwoOne:[function(t,e,i){"use strict";cc._RF.push(e,"2e755LklIJKuYOXzw3yllAi","NewDialogueSwitchTwoOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.dialogue.string="张梁作为BOSS级的武将，需要您多次点击才可以击败";break;case 2:this.dialogue.string="张梁头上的红条是他的血量，旁边的数字是敌方援军到达的时间";break;case 3:this.dialogue.string="我们需要在敌方援军到达前将张梁击败，否则就功亏一篑了！";break;case 4:this.dialogue.string="让我们继续战斗！";break;case 5:cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").startBoss(),this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchTwoThree:[function(t,e,i){"use strict";cc._RF.push(e,"5a5bfb++mNCNIo8Zrn68kVX","NewDialogueSwitchTwoThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,zhangJiao:cc.Sprite,clicks:0},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.node.parent.active=!1,this.zhangJiao.node.active=!0;break;case 2:this.zhangJiao.node.active=!1,this.node.parent.active=!0,this.dialogue.string="死到临头还想逞强？";break;case 3:this.dialogue.string="我们不必与他多说，战斗之后即见分晓！";break;case 4:this.dialogue.string="让我们一鼓作气，平息黄巾之乱！";break;case 5:cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").startBoss(),this.node.parent.active=!1}}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchTwoTwo:[function(t,e,i){"use strict";cc._RF.push(e,"17589hT/e5O3L+EJzAT0ytZ","NewDialogueSwitchTwoTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!0,this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.node.parent.active=!1,this.dialogue.string="是张宝的亲信！看来这位大将也已经黔驴技穷了",cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").startBoss();break;case 2:this.dialogue.string="如您所见，在战斗中，有些BOSS会释放技能，派出小兵来骚扰我们的攻击";break;case 3:this.dialogue.string="而小兵会拼死保护BOSS，此时BOSS是无敌的。所以我们要先解决小兵";break;case 4:this.dialogue.string="现在点击所有小兵",cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").zhuoArrClick(),this.closeInput();break;case 6:cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").startBoss(),this.node.parent.active=!1}},update:function(t){120==cc.find("Canvas/dongZhuo/zhuoNode").getComponent("ZhuoScroll").fortyScore&&(4==this.clicks&&(this.setInputControl(),this.dialogue.string="真是精彩的击杀！让我们趁此机会一举拿下张宝！",this.clicks++),this.unschedule(this.update))}}),cc._RF.pop()},{Common:"Common"}],NewDialogueSwitchTwo:[function(t,e,i){"use strict";cc._RF.push(e,"ed4abjOAt9NEJ2RMN1GsfiA","NewDialogueSwitchTwo");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{dialogue:cc.Label,clicks:0,redCircle:cc.Sprite,redArrow:cc.Sprite,arexArr:{default:[],type:cc.Sprite},score:cc.Label,blood:{default:[],type:cc.Sprite}},onLoad:function(){o.newbieOne=!1,o.newbieTwo=!0,n.setLocalData("NewStep",2),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),this.setInputControl(),s.UMLevelCheck("newbie1","finish"),s.UMLevelCheck("newbie2","start")},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},closeInput:function(){var t=this;t.node.off("touchstart",t.switchWord,t)},switchWord:function(t){switch(t.stopPropagation(),++this.clicks){case 1:this.redCircle.node.active=!0,this.redArrow.node.active=!0,this.arexArr[0].node.getComponent("NewBattleThree").setInputControl(),this.dialogue.string="就是现在！",this.closeInput();break;case 3:this.dialogue.string="请记住战斗中必需且只能点击运动的敌兵";break;case 4:for(var e=0;e<4;e++)this.blood[e].node.runAction(cc.blink(2,5));this.dialogue.string="若点击了炸弹，您右上方的血量就会减少一滴";break;case 5:this.dialogue.string="在战役模式中您有4滴血，若是减少至零则战役失败";break;case 6:this.dialogue.string="接下来请完成战斗！";break;case 7:this.arexArr[1].getComponent("NewBomb").setInputControl(),this.arexArr[2].getComponent("NewBattleThree").setInputControl(),this.arexArr[3].getComponent("NewBattleThree").setInputControl(),this.myUpdate(),cc.find("Canvas/dongZhuo").getComponent("Dongzhuo").beginUpdate(),this.node.parent.active=!1;break;default:this.dialogue.string="但以后可就没有这样的福利了，还请主公谨慎行事！";var i=cc.delayTime(2),o=cc.callFunc(function(){cc.find("Canvas/dongZhuo").getComponent("Dongzhuo").startMyUpdate(),this.node.parent.active=!1},this);this.node.runAction(cc.sequence(i,o))}},update:function(t){30==this.score.string&&(1==this.clicks&&(this.setInputControl(),this.redCircle.node.active=!1,this.redArrow.node.active=!1,this.dialogue.string="精彩的击杀！",this.clicks++),this.unschedule(this.update))},myUpdate:function(){this.arexArr[1].getComponent("Scroll").startUpdate(),this.arexArr[2].getComponent("Scroll").startUpdate(),this.arexArr[3].getComponent("Scroll").startUpdate()}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],NewDialogueZhangjiao:[function(t,e,i){"use strict";cc._RF.push(e,"d16adbK0kJFTqxLHtAwIZfM","NewDialogueZhangjiao");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.switchWord,t)},switchWord:function(t){t.stopPropagation(),cc.find("Canvas/NewGuideFour/NewNode").getComponent("NewDialogueSwitchTwoThree").switchWord(t)}}),cc._RF.pop()},{Common:"Common"}],NewSkillCeMa:[function(t,e,i){"use strict";cc._RF.push(e,"a2b7cjgMkdMUbGwsfITZzb/","NewSkillCeMa");var o=t("Common");cc.Class({extends:cc.Component,properties:{ceMa:{default:null,type:cc.Button,tooltip:"策马长驱"},redArrow:cc.Sprite},onLoad:function(){},cemachangqu:function(){cc.find("Canvas/Background").getComponent("PVPGame").beginUpdate(),this.node.getComponent("Scroll").startUpdate(),o.CeMaChangQu=!0,this.node.runAction(cc.fadeOut(1)),this.ceMa.enabled=!1,this.redArrow.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],NewSkillEnZe:[function(t,e,i){"use strict";cc._RF.push(e,"982efzT/5tLW4lDr1oL3NZN","NewSkillEnZe");var o=t("Common");cc.Class({extends:cc.Component,properties:{enZe:{default:null,type:cc.Button,tooltip:"恩泽天下"},redArrow:cc.Sprite},onLoad:function(){},enzetianxia:function(){o.EnZeTianXia=!0,this.enZe.enabled=!1,this.redArrow.node.active=!1,this.node.runAction(cc.fadeOut(1)),this.node.getComponent("Scroll").startUpdate(),cc.find("Canvas/background").getComponent("ClassicGame").beginUpdate()}}),cc._RF.pop()},{Common:"Common"}],NewSkillGuRuo:[function(t,e,i){"use strict";cc._RF.push(e,"2cb9fM1mMVEM7Vy6X7XftNb","NewSkillGuRuo");var o=t("Common");cc.Class({extends:cc.Component,properties:{guRuo:{default:null,type:cc.Button,tooltip:"固若金汤"},redArrow:cc.Sprite},onLoad:function(){},guruojintang:function(){cc.find("Canvas/Background").getComponent("PVPGame").beginUpdate(),this.node.getComponent("Scroll").startUpdate(),o.GuRuoJinTang=!0,this.guRuo.enabled=!1,this.node.runAction(cc.fadeOut(1)),this.redArrow.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],NewSkillHengSao:[function(t,e,i){"use strict";cc._RF.push(e,"2f977EiA6tAP5piJD9mNq5l","NewSkillHengSao");var o=t("Common");cc.Class({extends:cc.Component,properties:{hengSao:{default:null,type:cc.Button,tooltip:"横扫千军"},redArrow:cc.Sprite},onLoad:function(){},hengsaoqianjun:function(){cc.find("Canvas/Background").getComponent("PVPGame").beginUpdate(),this.node.getComponent("Scroll").startUpdate(),o.HengSaoQianJun=!0,this.hengSao.enabled=!1,this.node.runAction(cc.fadeOut(1)),this.redArrow.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],NewSkillHuaJian:[function(t,e,i){"use strict";cc._RF.push(e,"ae4e7GU71lNYYvzkGCzmrJJ","NewSkillHuaJian");var o=t("Common");cc.Class({extends:cc.Component,properties:{huaJian:{default:null,type:cc.Button,tooltip:"化简为繁"},redArrow:cc.Sprite},onLoad:function(){},huajianweifan:function(){cc.find("Canvas/background").getComponent("ClassicGame").beginUpdate(),this.node.getComponent("Scroll").startUpdate(),cc.find("Canvas/background").getComponent("ClassicGame").skillJian(),o.HuaJianWeiFan=!0,this.node.runAction(cc.fadeOut(1)),this.huaJian.enabled=!1,this.redArrow.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],NewSkillLiXian:[function(t,e,i){"use strict";cc._RF.push(e,"d2e74c9Sp5MloxiwVGwt2ia","NewSkillLiXian");var o=t("Common");cc.Class({extends:cc.Component,properties:{liXian:{default:null,type:cc.Button,tooltip:"礼贤下士"},redArrow:cc.Sprite},onLoad:function(){},lixianxiashi:function(){cc.find("Canvas/background").getComponent("ClassicGame").beginUpdate(),this.node.getComponent("Scroll").startUpdate(),o.LiXianXiaShi=!0,this.node.runAction(cc.fadeOut(1)),this.liXian.enabled=!1,this.redArrow.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],NickName:[function(t,e,i){"use strict";cc._RF.push(e,"628e80uiilI97XeL17wAExn","NickName");var o=[[],["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郎","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","邓","鲍","史","唐","费","廉","岑","薛","雷","贺","倪","汤","藤","殷","罗","毕","郝","邬","安","常","乐","于","时","付","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和","穆","肖","尹","姚","邵","湛","汪","祁","毛","禹","狄","米","贝","明","藏","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危","江","童","颜","郭","梅","盛","林","刁","钟","徐","邱","骆","高","夏","蔡","田","樊","胡","凌","霍","虞","万","支","柯","昝","管","卢","莫","经","房","裘","缪","干","解","应","宗","丁","宣","贲","郁","单","杭","洪","包","诸","左","石","崔","吉","钮","龚","程","嵇","邢","滑","裴","陆","荣","翁","荀","羊","惠","甄","曲","家","封","芮","羿","储","靳","汲","邴","糜","松","井","段","富","巫","乌","焦","巴","弓","牧","隗","山","谷","车","侯","宓","蓬","全","郗","班","仰","秋","仲","伊","宫","宁","仇","栾","暴","甘","钭","厉","戎","祖","武","符","刘","景","詹","束","龙","叶","幸","司","韶","郜","黎","蓟","薄","印","宿","白","怀","蒲","邰","从","鄂","索","咸","籍","赖","卓","蔺","屠","蒙","池","乔","阴","胥","能","苍","双","闻","莘","党","翟","谭","贡","劳","逄","姬","申","扶","堵","冉","宰","郦","雍","隙","璩","桑","桂","濮","牛","寿","通","边","扈","燕","冀","郏","浦","尚","农","温","别","庄","晏","柴","瞿","阎","充","慕","连","茹","习","宦","艾","鱼","容","向","古","易","慎","戈","廖","庾","终","暨","居","衡","步","都","耿","满","弘","匡","文","国","寇","广","禄","阙","东","欧","殳","沃","利","蔚","越","夔","隆","师","巩","厍","聂","晁","勾","敖","融","冷","訾","辛","阚","那","简","饶","空","曾","毋","沙","乜","养","鞠","须","丰","巢","关","蒯","相","查","后","荆","红","游","竺","权","逯","盖","益","桓","公","俟","上官","欧阳","夏候","诸葛","闻人","东方","赫连","皇甫","尉迟","公羊","澹台","公冶","宗政","濮阳","淳于","单于","太叔","申屠","公孙","仲孙","轩辕","令狐","钟离","宇文","长孙","慕容","鲜于","闾丘","司徒","司空","亓官","司寇","仉督","子车","颛孙","端木","巫马","公西","漆雕","乐正","壤驷","公良","拓拔","夹谷","宰父","谷梁","楚","晋","闫","法","汝","鄢","涂","钦","段干","百里","东郭","南门","呼延","归海","羊舌","微生","岳","帅","缑","亢","况","有","琴","梁丘","左丘","东门","西门","商","牟","佘","耳","伯","赏","南宫","墨","哈","谯笪","年","爱","阳","佟","第五","言","福"],["飞鸣","飞鹏","飞文","飞翔","飞星","飞翼","飞英","飞宇","飞羽","飞雨","飞语","飞跃","飞章","飞舟","丰茂","丰羽","刚豪","刚洁","刚捷","刚毅","高昂","高岑","高畅","高超","高驰","高达","高澹","高飞","高芬","高峯","高峰","高歌","高格","高寒","高翰","高杰","高洁","高峻","高朗","高丽","高邈","高旻","高明","高爽","高兴","高轩","高雅","高扬","高阳","高义","高谊","高逸","高懿","高原","高远","高韵","高卓","光赫","光华","光辉","光济","光霁","光亮","光临","光明","光启","光熙","光耀","光誉","光远","国安","国兴","国源","冠宇","冠玉","晗昱","晗日","涵畅","涵涤","涵亮","涵忍","涵容","涵润","涵涵","涵煦","涵蓄","涵衍","涵意","涵映","涵育","翰采","翰池","翰飞","翰海","翰翮","翰林","翰墨","翰学","翰音","瀚玥","翰藻","瀚海","瀚漠","昊苍","昊昊","昊空","昊乾","昊穹","昊然","昊天","昊英","浩波","浩博","浩初","浩大","浩宕","浩荡","浩歌","浩广","浩涆","浩瀚","浩浩","浩慨","浩旷","浩阔","浩漫","浩淼","浩渺","浩邈","浩气","浩穰","浩壤","浩思","浩言","和蔼","和安","和璧","和昶","和畅","和风","和歌","和光","和平","和洽","和惬","和顺","和硕","和颂","和泰","和悌","和通","和同","和煦","和雅","和宜","和怡","和玉","和裕","和豫","和悦","和韵","和泽","和正","和志","弘博","弘大","弘方","弘光","弘和","弘厚","弘化","弘济","弘阔","弘亮","弘量","弘深","弘盛","弘图","弘伟","弘新","弘雅","弘扬","弘业","弘义","弘益","弘毅","弘懿","弘致","弘壮","宏伯","宏博","宏才","宏畅","宏达","宏大","宏放","宏富","宏峻","宏浚","宏恺","宏旷","宏阔","宏朗","宏茂","宏邈","宏儒","宏深","宏胜","宏盛","宏爽","宏硕","宏伟","宏扬","宏义","宏逸","宏毅","宏远","宏壮","鸿宝","鸿波","鸿博","鸿才","鸿彩","鸿畅","鸿畴","鸿达","鸿德","鸿飞","鸿风","鸿福","鸿光","鸿晖","鸿朗","鸿文","鸿熙","鸿羲","鸿禧","鸿信","鸿轩","鸿雪","鸿羽","鸿远","鸿云","鸿运","鸿哲","鸿祯","鸿振","鸿志","鸿卓","华奥","华采","华彩","华灿","华藏","华池","华翰","华皓","华晖","华辉","华茂","华美","华清","华荣","华容","嘉赐","嘉德","嘉福","嘉良","嘉茂","嘉木","嘉慕","嘉纳","嘉年","嘉平","嘉庆","嘉荣","嘉容","嘉瑞","嘉胜","嘉石","嘉实","嘉树","嘉澍","嘉禧","嘉祥","嘉歆","嘉许","嘉勋","嘉言","嘉谊","嘉颖","嘉佑","嘉玉","嘉誉","嘉悦","嘉运","嘉泽","嘉珍","嘉祯","嘉志","嘉致","坚白","坚壁","坚秉","坚成","坚诚","建安","建白","建柏","建本","建弼","建德","建华","建明","建茗","建木","建树","建同","建修","建业","建义","建元","建章","建中","经赋","经亘","经国","经略","经纶","经纬","经武","经业","经义","经艺","景澄","景福","景焕","景辉","景龙","景明","景山","景胜","景铄","景天","景同","景曜","君昊","俊艾","俊拔","俊弼","俊才","俊材","俊楚","俊达","俊德","俊发","俊风","俊豪","俊健","俊杰","俊捷","俊郎","俊力","俊良","俊迈","俊茂","俊美","俊民","俊名","俊明","俊楠","俊能","俊人","俊爽","俊悟","俊晤","俊侠","俊贤","俊雄","俊雅","俊彦","俊逸","俊英","俊友","俊语","俊誉","俊远","俊哲","俊喆","俊智","季萌","季同","开畅","开诚","开宇","开济","开霁","开朗","凯安","凯唱","凯定","凯风","凯复","凯歌","凯捷","凯凯","凯康","凯乐","凯旋","凯泽","恺歌","恺乐","康安","康伯","康成","康德","康复","康健","康乐","康宁","康平","康胜","康盛","康时","康适","康顺","康泰","康裕","乐安","乐邦","乐成","乐池","乐和","乐家","乐康","乐人","乐容","乐山","乐生","乐圣","乐水","乐天","乐童","乐贤","乐心","乐欣","乐逸","乐意","乐音","乐咏","乐游","乐语","乐悦","乐湛","乐章","乐正","乐志","黎明","力夫","力强","力勤","力行","力学","力言","立人","立群","良奥","良弼","良才","良材","良策","良畴","良工","良翰","良吉","良骥","良俊","良骏","良朋","良平","良哲","理群","理全","茂才","茂材","茂德","茂典","茂实","茂学","茂勋","茂彦","敏博","敏才","敏达","敏叡","敏学","敏智","明诚","明达","明德","明俊","明朗","明亮","明旭","明煦","明远","明哲","明喆","明知","明志","明智","明珠","朋兴","朋义","彭勃","彭薄","彭湃","彭彭","彭魄","彭越","彭泽","彭祖","鹏程","鹏池","鹏赋","鹏海","鹏鲸","鹏举","鹏鹍","鹏鲲","鹏天","鹏翼","鹏云","鹏运","濮存","溥心","璞玉","璞瑜","浦和","浦泽","奇略","奇迈","奇胜","奇水","奇思","奇邃","奇伟","奇玮","奇文","奇希","奇逸","奇正","奇志","奇致","祺福","祺然","祺祥","祺瑞","琪睿","庆生","锐达","锐锋","锐翰","锐进","锐精","锐立","锐利","锐思","锐逸","锐意","锐藻","锐泽","锐阵","锐志","锐智","睿博","睿才","睿诚","睿慈","睿聪","睿达","睿德","睿范","睿广","睿好","睿明","睿识","睿思","绍钧","绍祺","绍元","升荣","圣杰","思聪","思淼","思源","思博","斯年","斯伯","泰初","泰和","泰河","泰鸿","泰华","泰宁","泰平","泰清","泰然","天材","天成","天赋","天干","天罡","天工","天翰","天和","天华","天骄","天空","天禄","天路","天瑞","天睿","天逸","天元","天韵","天泽","天纵","同方","同甫","同光","同和","同化","同济","巍昂","巍然","巍奕","伟博","伟毅","伟才","伟茂","伟懋","伟彦","伟晔","伟兆","伟志","温纶","温茂","温书","温韦","温文","温瑜","文柏","文昌","文成","文德","文栋","文赋","文光","文翰","文虹","文华","文康","文乐","文林","文敏","文瑞","文山","文石","文星","文宣","文彦","文曜","文耀","文斌","文彬","文滨","向晨","向笛","向文","向明","向荣","向阳","翔宇","翔飞","项禹","项明","心水","心思","心远","欣德","欣嘉","欣可","欣然","欣荣","欣怡","欣怿","欣悦","新翰","新霁","新觉","新立","新荣","新知","信鸿","信厚","信鸥","信然","信瑞","兴安","兴邦","兴昌","兴朝","兴德","兴发","兴国","兴怀","兴平","兴庆","兴生","兴思","兴腾","兴旺","兴为","兴文","兴贤","兴修","兴学","兴言","兴业","兴运","星波","星辰","星驰","星光","星海","星汉","星河","星华","星晖","星火","星剑","星津","星阑","星纬","星文","星宇","星雨","星渊","星洲","修诚","修德","修谨","修筠","修明","修能","修平","修齐","修然","修为","修伟","修文","修雅","修永","修远","修真","修竹","修贤","炫明","学博","学海","学林","学民","学名","学文","学义","学真","雪松","雪峰","雪风","雅昶","雅畅","雅达","雅惠","雅健","雅珺","雅逸","雅懿","雅志","阳飙","阳飇","阳冰","阳波","阳伯","阳成","阳德","阳华","阳晖","阳辉","阳嘉","阳平","阳秋","阳荣","阳舒","阳朔","阳文","阳曦","阳夏","阳旭","阳煦","阳炎","阳焱","阳曜","阳羽","阳云","阳泽","阳州","烨赫","烨然","烨烁","烨烨","烨熠","烨煜","毅然","逸仙","逸明","逸春","宜春","宜民","宜年","宜然","宜人","宜修","意远","意蕴","意致","意智","英飙","英博","英才","英达","英发","英范","英光","英豪","英华","英杰","英朗","英锐","英睿","英叡","英韶","英卫","英武","英悟","英勋","英彦","英耀","英奕","英逸","英毅","英哲","英喆","英卓","英资","英纵","永怡","永春","永安","永昌","永长","永丰","永福","永嘉","永康","永年","永宁","永寿","永思","永望","永新","永言","永逸","永元","永贞","咏德","咏歌","咏思","咏志","勇男","勇军","勇捷","勇锐","勇毅","宇达","宇航","宇寰","宇文","宇荫","雨伯","雨华","雨石","雨信","雨星","玉宸","玉成","玉龙","玉泉","玉山","玉石","玉书","玉树","玉堂","玉轩","玉宇","玉韵","玉泽","元白","元德","元化","元基","元嘉","元甲","元驹","元凯","元恺","元魁","元良","元亮","元明","元青","元思","元纬","元武","元勋","元忠","元洲","苑杰","蕴涵","蕴和","蕴藉","展鹏","哲茂","哲圣","哲彦","振海","振国","正诚","正初","正德","正浩","正平","正奇","正青","正卿","正文","正祥","正信","正雅","正阳","正业","正谊","正真","正志","志诚","志新","志勇","志明","志国","志强","志尚","志专","志文","志行","志学","志业","志义","志用","智明","智鑫","智勇","智敏","智志","智渊","子安","子晋","子民","子明","子墨","子平","子琪","子石","子实","子真","子濯","子昂","子瑜","自明","自强","作人","自怡","自珍","曾琪","泽宇","泽语","文纲","全盛","一立","明刚","广利","明兵","成杲","鞘巧","民尧","子志","珍国","立言","明恩","有刚","天放","城海","家儿","林山","维东","定水","从桐","罗荣","竟泉","庭颂","瑾丁","海咏","臣钊","觐音","欣驹","粤兴","汛络","赞石","甲辰","忡暄","森滕","好翔","廖昭","珈树","序纤","兰北","健贝","化江","卿风","荣淩","云祥","翼锐","源韵","修树","世贝","罕伯","忻循","河根","帅泰","逢侠","余清","君帆","誉珞","翊余","峥凛","建峰","巳保","延晔","童泓","继钦","炳珅","朝言","宽桦","薛仁","斐书","越哲","三澧","月旭","房枫","克晗","翔昊","居浩","敬亚","楗名","浙侯","蒙政","恭和","时颜","言春","福奋","涟树","源嘉","起贝","余艺","林廉","易鸥","袭锐","术仕","稼岭","俨休","攀檬","作尧","发有","舡邱","盼曾","石航","啸琦","书月","岐顶","贝焱","加喜","总岚","渺峰","廷争","厚正","庚希","徽万","咚佩","亚怿","振涛","眧变","励舫","贵成","忻絮","东琥","迪寿","苏石","愉柠","帆粼","中羽","仔城","仲丰","尚鹳","墁字","乐淏","远龙","禹冰","东航","豫镔","瞿勇","刘洋","敏缨","正晗","淮通","本嶙","羽熙","援坝","义轶","华泉","华琨","勰垚","哲恒","星玺","劲雄","琛淦","细烨","泳科","浩韵","裕逾","蒋鑫","虎杰","咏祺","新栋","溢邝","译浚","罗晨","汩远","致厚","峥凯","观霄","攀泰","基铫","坤奥","旻谌","俶太","越标","丞柏","定星","传梁","宇家","羿渡","绎桦","才烨","又尉","延一","汇翰","忠沥","泓玢","民泳","和佟","健谕","熙行","博贝","强愉","坜肃","佑清","磊荞","啸敏","炳逸","乔鲁","初翱","莜咚","着湘","然溟","湉洲","怀安","富文","治军","天宝","厚德","道海","天亮","家新","龙泉","长生","勇明","铁剑","后平","明海","学能","章建","日星","必红","皓洪","荣玮","从为","勃榛","责号","弈涟","健谣","袁联","幼星","子玥","树柏","小潼","楣超","光问","军健","琦慧","杪耒","嘉毛","章容","育剑","必吉","埔塬","桂勋","林鹤","炳禄","体震","前代","佟怀","星发","瞬献","天裴","未宗","招树","跃少","广洲","相岩","绍彦","义学","汉聚","楷钊","彧冕","记阔","北峄","僮朦","轩岐","暖渔","浚同","兴豫","梓臻","宵根","会澄","召昉","勤尘","良严","洪见","增敏","懋活","勋羚","简珺","湛玮","湃非","树壮","庭玖","剑依","卓默","森若","佟骞","生宝","利万","炳施","栋天","沐磬","慕骅","枚钧","眙赫","泽珲","楷昊","施君","点禄","亚博","作焘","炫昶","琦溶","治先","啸乙","慎荣","岚乔","周东","信民","承扁","叮桥","睿逸","肇汐","懋阳","祺敏","玺棂","念依","治汐","刘航","昕沁","宣融","会琦","腊毛","舆烨","诚轩","善望","翔迎","向游","红沐","意计","旻鹏","火城","汩呈","兴晰","常闯","伯敏","自岑","玙梓","品恬","越帆","浩洲","甸册","警忱","源通","奥含","洪旭","当澳","泽良","禹挥","渤旻","曦昌","炯飒","校与","盛明","淩粤","伯录","美德","允醒","淳忆","湘馗","忻键","纪双","赫奋","彦慧","克程","政祝","楦冲","政劭","留画","佳臣","步明","仲修","穹澎","舂珺","滕石","玖庭","慕赫","泉析","含征","勃财","超坤","深贯","珥顺","语有","蜀耕","沄汇","山翀","复斗","实群","粟箬","彰续","筱涛","远赞","泉保","旖春","恩生","盼访","元吉","真百","佳熙","宪群","金建","思宏","乃义","成志","广乐","潮生","晋武","才文","世程","丰年","政举","兴品","洪才","一川","展翅","龙远","溢平","芳辉","增隆","衡杏","廷博","泊燊","展江","京程","严泫","谦致","军驰","毓暄","祎淏","官成","洲袁","矜化","昭郁","智雷","孝桦","弘子","焱冯","强褰","咏双","沐联","昌仙","竟冠","启绒","云力","榛程","举尧","竹贤","寿宣","世枞","十诏","佳羲","冬熙","慈昱","滔甲","舟平","行屿","桓思","纪彦","恪闳","京爨","帧诚","慈意","先宝","来愚","允红","泳红","匡罕","满恒","相献","晋钫","建宽","濯永","昭沩","赫州","剀维","卓力","奎动","檀潮","健华","宓祖","计焕","明明","烨盼","昆刚","臣倪","贤耀","衡茂","斗锟","茂冰","朝森","升棵","支桐","贵潼","孺午","旻涛","训青","啸旌","起辉","楼生","其燠","淮键","辽郴","炙禺","禹尘","耀锟","允州","迩禾","萧瑟","宝逢","哲斌","皓涌","桁仲","曙回","幼镶","勋宽","百南","迎明","士艺","贺定","超培","柯楠","逢果","孔民","学坚","通裕","仁栋","令正","涵琛","晰晖","海起","於融","详功","尔震","浏天","溪善","翔棠","祉琨","广殊","圳兵","昆谳","立材","来棚","剑频","庄选","殊奥","援舰","水鹰","水盛","弘玄","石远","伯铼","益年","科恪","裕伟","毅家","伯喻","春雨","连暄","奚滔","桓贵","宸江","荆裕","澎乔","耕悦","细因","烽漳","壮君","运家","熠桥","羽郅","梓驿","加生","石诺","彭钛","昆楠","柱羿","石栓","永乙","周海","胥冉","泱有","转誉","湉灏","弘理","行兆","沧煜","之存","柯徽","丁忻","品蔚","正乐","箴员","芮百","柘厦","澹田","牧央","正旬","牧冲","之圳","风雨","继成","文健","光德","连生","正高","雨龙","清水","浙江","成显","纬国","海丰","青峰","四海","昌居","文彪","上腾","和明","德传","庭汛","怡承","之安","京由","珅员","拥缔","稀名","湘增","玄言","炎彦","勋润","宸滨","祯亚","炳驿","炫位","旻译","宝朗","则榛","广北","群轩","裔锭","旋坤","八喜","筱坚","纲奇","宾京","宸渤","建榆","扬溶","沛苇","楼凡","超贤","盈美","祥桀","尉斯","柏鸣","禹发","维峻","淄延","羿晖","卫升","与练","登悟","旭应","璞岩","伟宗","万洲","忠本","璐楠","艾垒","总涌","贺在","文松","达皋","怛奕","在囯","华桐","坤能","果俨","付潘","海言","贯与","秋简","明祯","甸嗣","用凯","琪洳","冬旃","小麟","曦坤","沉森","沁金","文平","烁亭","晞汶","燊彰","诩悦","瑾兼","桎沅","枳荞","勇晨","开扬","游颀","晟焙","继现","增廷","列漪","符武","聿军","桄生","树颢","林来","朗桥","润芪","轲赫","徐骧","畅跃","胜轩","德伦","作德","澍菘","光侪","宪允","丛挺","淇雩","加肖","蔚源","客丰","玙珣","棋机"],["醉易","紫萱","紫霜","紫南","紫菱","紫蓝","紫翠","紫安","芷天","芷容","芷巧","芷卉","芷荷","之桃","元霜","元绿","元槐","元枫","语雪","语山","语蓉","语琴","语海","语芙","语儿","语蝶","雨雪","雨文","雨梅","雨莲","雨兰","幼丝","幼枫","又菡","友梅","友儿","映萱","映安","迎梦","迎波","易巧","亦丝","亦巧","忆雪","忆文","忆梅","忆枫","以丹","依丝","夜玉","夜梦","夜春","雁荷","雁风","雅彤","雅琴","寻梅","寻冬","雪珍","雪瑶","雪旋","雪卉","笑旋","笑蓝","笑翠","晓亦","晓夏","向梦","香萱","香岚","夏真","夏山","夏兰","惜雪","惜蕊","惜灵","问夏","问蕊","问梅","听筠","听枫","天曼","思松","思菱","水瑶","水彤","书竹","书易","诗桃","诗双","诗珊","诗蕊","山菡","山蝶","若雁","若菱","如风","如冬","如波","秋柔","青雪","青曼","巧蕊","千亦","千柔","千柳","绮琴","绮梅","平萱","平露","沛儿","盼烟","凝雁","凝安","念之","念柏","妙之","妙梦","妙柏","梦之","梦桃","梦琪","梦露","梦凡","曼容","曼荷","曼寒","曼安","绿真","凌文","凌青","凌波","怜阳","怜珊","冷雪","冷荷","乐萱","乐天","乐松","乐枫","静芙","靖柏","寄真","寄文","寄琴","幻天","幻珊","寒天","寒凝","寒梦","寒荷","涵易","涵菱","含玉","含烟","含灵","含蕾","海云","海冬","谷蕊","谷兰","飞珍","飞槐","访云","访烟","访天","访风","凡阳","凡旋","凡梅","凡灵","凡蕾","尔丝","尔柳","尔芙","尔白","孤菱","沛萍","梦柏","从阳","绿海","白梅","秋烟","访旋","元珊","凌旋","依珊","寻凝","幻柏","雨寒","寒安","怀绿","书琴","水香","向彤","曼冬","怜梦","安珊","映阳","思天","初珍","冷珍","海安","从彤","灵珊","夏彤","映菡","青筠","易真","幼荷","冷霜","凝旋","夜柳","紫文","凡桃","醉蝶","从云","冰萍","小萱","白筠","依云","元柏","丹烟","念云","易蓉","青易","友卉","若山","涵柳","映菱","依凝","怜南","水儿","从筠","千秋","代芙","之卉","幻丝","书瑶","含之","雪珊","海之","寄云","盼海","谷梦","雁兰","晓灵","向珊","宛筠","笑南","梦容","寄柔","静枫","尔容","沛蓝","宛海","迎彤","梦易","惜海","灵阳","念寒","采梦","夜绿","又亦","梦山","醉波","慕晴","安彤","半烟","翠桃","书蝶","寻云","冰绿","山雁","南莲","夜梅","翠阳","芷文","南露","向真","又晴","又蓝","雅旋","千儿","听安","凌蝶","向露","从凝","雨双","依白","以筠","含巧","晓瑶","忆山","以莲","冰海","盼芙","冰珍","半双","以冬","千凝","笑阳","香菱","友蕊","若云","天晴","笑珊","凡霜","南珍","晓霜","芷云","谷芹","芷蝶","雨柏","之云","靖巧","寄翠","涵菡","雁卉","涵山","念薇","绮兰","迎蕾","秋荷","代天","采波","诗兰","谷丝","凝琴","凝芙","尔风","觅双","忆灵","水蓝","书蕾","访枫","涵双","初阳","从梦","凝天","秋灵","笑槐","灵凡","冰夏","听露","翠容","绮晴","静柏","天亦","冷玉","以亦","盼曼","乐蕊","凡柔","曼凝","沛柔","迎蓉","映真","采文","曼文","新筠","碧玉","秋柳","白莲","亦玉","幻波","忆之","孤丝","妙竹","傲柏","元风","易烟","怀蕊","寻桃","映之","小玉","尔槐","听荷","赛君","闭月","不愁","羞花","紫寒","夏之","飞薇","如松","白安","秋翠","夜蓉","傲晴","凝丹","凌瑶","初曼","夜安","安荷","青柏","向松","绿旋","芷珍","凌晴","新儿","亦绿","雁丝","惜霜","紫青","冰双","映冬","代萱","梦旋","毒娘","紫萍","冰真","幻翠","向秋","海蓝","凌兰","如柏","千山","半凡","雁芙","白秋","平松","代梅","香之","梦寒","小蕊","慕卉","映梦","绿蝶","凌翠","夜蕾","含双","慕灵","碧琴","夏旋","冷雁","乐双","念梦","静丹","之柔","新瑶","亦旋","雪巧","中蓝","莹芝","一兰","清涟","盛男","凝莲","雪莲","依琴","绣连","友灵","醉柳","秋双","绮波","寄瑶","冰蝶","孤丹","半梅","友菱","飞双","醉冬","寡妇","沛容","南晴","太兰","紫易","从蓉","友易","尔竹","巧荷","寻双","芷雪","又夏","梦玉","安梦","凝荷","外绣","忆曼","不平","凝蝶","以寒","安南","思山","若翠","曼青","小珍","青荷","代容","孤云","慕青","寄凡","元容","丹琴","寒珊","飞雪","妙芙","碧凡","思柔","雁桃","丹南","雁菡","翠丝","幻梅","海莲","宛秋","问枫","靖雁","蛟凤","大凄","傻姑","金连","梦安","碧曼","代珊","惜珊","元冬","青梦","书南","绮山","白桃","从波","访冬","含卉","平蝶","海秋","沛珊","飞兰","凝云","亦竹","梦岚","寒凡","傲柔","凌丝","觅风","平彤","念露","翠彤","秋玲","安蕾","若蕊","灵萱","含雁","思真","盼山","香薇","碧萱","夏柳","白风","安双","凌萱","盼夏","幻巧","怜寒","傲儿","冰枫","如萱","妖丽","元芹","涵阳","涵蕾","以旋","高丽","灭男","代玉","可仁","可兰","可愁","可燕","妙彤","易槐","小凝","妙晴","冰薇","涵柏","语兰","小蕾","忆翠","听云","觅海","静竹","初蓝","迎丝","幻香","含芙","夏波","冰香","凌香","妙菱","访彤","凡雁","紫真","书双","问晴","惜萱","白萱","靖柔","凡白","晓曼","曼岚","雁菱","雨安","谷菱","夏烟","问儿","青亦","夏槐","含蕊","迎南","又琴","冷松","安雁","飞荷","踏歌","秋莲","盼波","以蕊","盼兰","之槐","飞柏","孤容","白玉","傲南","山芙","夏青","雁山","曼梅","如霜","沛芹","丹萱","翠霜","玉兰","汝燕","不乐","不悔","可冥","若男","素阴","元彤","从丹","曼彤","惋庭","起眸","香芦","绿竹","雨真","乐巧","亚男","小之","如曼","山槐","谷蓝","笑容","香露","白薇","凝丝","雨筠","秋尽","婷冉","冰凡","亦云","芙蓉","天蓝","沉鱼","东蒽","飞丹","涵瑶","雁开","以松","南烟","傲霜","香旋","觅荷","幼珊","无色","凤灵","新竹","半莲","媚颜","紫雪","寒香","幼晴","宛菡","采珊","凝蕊","无颜","莫言","初兰","冷菱","妙旋","梨愁","友琴","水蓉","尔岚","怜蕾","怀蕾","惜天","谷南","雪兰","语柳","夏菡","巧凡","映雁","之双","梦芝","傲白","觅翠","如凡","傲蕾","傲旋","以柳","从寒","双双","无春","紫烟","飞凤","紫丝","思卉","初雪","向薇","落雁","凡英","海菡","白晴","映天","静白","雨旋","安卉","依柔","半兰","灵雁","雅蕊","初丹","寒云","念烟","代男","笑卉","曼云","飞莲","幻竹","晓绿","寄容","小翠","小霜","语薇","芷蕾","谷冬","血茗","天荷","问丝","沛凝","翠绿","寒松","思烟","雅寒","以南","碧蓉","绮南","白凡","安莲","访卉","元瑶","水风","凡松","友容","访蕊","若南","涵雁","雪一","怀寒","幻莲","碧菡","绿蕊","如雪","珊珊","念珍","莫英","朝雪","茹嫣","老太","曼易","宛亦","映寒","谷秋","诗槐","如之","水桃","又菱","迎夏","幻灵","初夏","晓槐","代柔","忆安","迎梅","夜云","傲安","雨琴","听芹","依玉","冬寒","绿柏","梦秋","千青","念桃","苑睐","夏蓉","诗蕾","友安","寻菱","绮烟","若枫","凝竹","听莲","依波","飞松","依秋","绿柳","元菱","念芹","如彤","香彤","涵梅","映容","平安","赛凤","书桃","梦松","以云","映易","小夏","元灵","天真","晓蕾","问玉","问薇","笑晴","亦瑶","半芹","幼萱","凡双","夜香","阑香","阑悦","溪灵","冥茗","丹妗","妙芹","飞飞","觅山","沛槐","太英","惋清","太清","灵安","觅珍","依风","若颜","觅露","问柳","以晴","山灵","晓兰","梦菡","思萱","半蕾","紫伊","山兰","初翠","岂愈","海雪","向雁","冬亦","柏柳","青枫","宝莹","宝川","若灵","冷梅","艳一","梦槐","依霜","凡之","忆彤","英姑","清炎","绮露","醉卉","念双","小凡","尔琴","冬卉","初柳","天玉","千愁","稚晴","怀曼","雪曼","雪枫","缘郡","雁梅","雅容","雁枫","灵寒","寻琴","慕儿","雅霜","含莲","曼香","慕山","书兰","凡波","又莲","沛春","语梦","青槐","新之","含海","觅波","嫣然","善愁","善若","善斓","千雁","白柏","雅柏","冬灵","平卉","不弱","不惜","灵槐","海露","白梦","尔蓉","芷珊","迎曼","问兰","又柔","雪青","傲之","绿兰","听兰","冰旋","白山","荧荧","迎荷","丹彤","海白","谷云","以菱","以珊","雪萍","千兰","大娘","思枫","白容","翠芙","寻雪","冰岚","新晴","绿蓉","傲珊","安筠","怀亦","安寒","青丝","灵枫","芷蕊","寻真","以山","菲音","寒烟","易云","夜山","映秋","唯雪","嫣娆","梦菲","凤凰","一寡","幻然","颜演","白翠","傲菡","妙松","忆南","醉蓝","碧彤","水之","怜菡","雅香","雅山","丹秋","盼晴","听双","冷亦","依萱","静槐","冰之","曼柔","夏云","凌寒","夜天","小小","如南","寻绿","诗翠","丹翠","从蕾","忆丹","傲薇","宛白","幻枫","晓旋","初瑶","如蓉","海瑶","代曼","靖荷","采枫","书白","凝阳","孤晴","如音","傲松","书雪","怜翠","雪柳","安容","以彤","翠琴","安萱","寄松","雨灵","新烟","妙菡","雪晴","友瑶","丹珍","白凝","孤萍","寒蕾","妖妖","藏花","葵阴","幻嫣","幻悲","若冰","藏鸟","又槐","夜阑","灭绝","藏今","凌柏","向雪","丹雪","无心","夜雪","幻桃","念瑶","白卉","飞绿","怀梦","幼菱","芸遥","芷波","灵波","一凤","尔蝶","问雁","一曲","问芙","涔雨","宫苴","尔云","秋凌","灵煌","寒梅","灵松","安柏","晓凡","冰颜","行云","觅儿","天菱","舞仙","念真","代亦","飞阳","迎天","摇伽","菲鹰","惜萍","安白","幻雪","友桃","飞烟","沛菡","水绿","天薇","依瑶","夏岚","晓筠","若烟","寄风","思雁","乐荷","雨南","乐蓉","易梦","凡儿","翠曼","静曼","魂幽","茹妖","香魔","幻姬","凝珍","怜容","惜芹","笑柳","太君","莫茗","忆秋","代荷","尔冬","山彤","盼雁","山晴","乐瑶","灵薇","盼易","听蓉","宛儿","从灵","如娆","南霜","元蝶","忆霜","冬云","访文","紫夏","新波","千萍","凤妖","水卉","靖儿","青烟","千琴","问凝","如冰","半梦","怀莲","傲芙","静蕾","艳血","绾绾","绝音","若血","若魔","虔纹","涟妖","雪冥","邪欢","冰姬","四娘","二娘","三娘","老姆","黎云","青旋","语蕊","代灵","紫山","傲丝","听寒","秋珊","代云","代双","晓蓝","茗茗","天蓉","南琴","寻芹","诗柳","冬莲","问萍","忆寒","尔珍","新梅","白曼","一一","安波","醉香","紫槐","傲易","冰菱","访曼","冷卉","乐儿","幼翠","孤兰","绮菱","觅夏","三颜","千风","碧灵","雨竹","平蓝","尔烟","冬菱","笑寒","冰露","诗筠","鸣凤","沛文","易文","绿凝","雁玉","梦曼","凌雪","怜晴","傲玉","幻儿","书萱","绮玉","诗霜","惜寒","惜梦","乐安","以蓝","之瑶","夏寒","丹亦","凌珍","问寒","访梦","新蕾","书文","平凡","如天","怀柔","语柔","宛丝","南蕾","迎海","代芹","巧曼","代秋","慕梅","幼蓉","亦寒","冬易","丹云","丹寒","丹蝶","代真","翠梅","翠风","翠柏","翠安","从霜","从露","初之","初柔","初露","初蝶","采萱","采蓝","采白","冰烟","冰彤","冰巧","傲云","凝冬","雁凡","书翠","千凡","半青","惜儿","曼凡","乐珍","新柔","翠萱","飞瑶","幻露","梦蕊","安露","晓露","白枫","怀薇","雁露","梦竹","盼柳","沛岚","夜南","香寒","山柏","雁易","静珊","雁蓉","千易","笑萍","从雪","书雁","曼雁","晓丝","念蕾","雅柔","采柳","易绿","向卉","惜文","冰兰","尔安","语芹","晓山","秋蝶","曼卉","凝梦","向南","念文","冰蓝","听南","慕凝","如容","亦凝","乐菱","怀蝶","惜筠","冬萱","初南","含桃","语风","白竹","夏瑶","雅绿","怜雪","从菡","访波","安青","觅柔","雅青","白亦","宛凝","安阳","苞络","不二","如花","安安","安吉","安静","安娜","安妮","安琪","安然","安娴","安祯","荌荌","奥婷","奥维","奥雅","北辰","北嘉","北晶","贝莉","贝丽","琲瓃","蓓蕾","碧琳","碧莹","冰冰","冰洁","冰心","冰彦","冰莹","博丽","博敏","博雅","布凡","布侬","布欣","布衣","偲偲","采莲","采薇","彩静","彩萱","彩妍","灿灿","婵娟","畅畅","畅然","唱月","朝旭","朝雨","琛丽","琛瑞","晨曦","晨旭","初然","楚楚","楚洁","楚云","春芳","春华","春娇","春兰","春岚","春梅","春桃","春晓","春雪","春燕","春英","春雨","淳静","淳美","淳雅","慈心","聪慧","聪睿","翠茵","黛娥","丹丹","丹红","丹溪","笛韵","典丽","典雅","蝶梦","丁辰","丁兰","冬梅","端静","端丽","端敏","端雅","端懿","多思","朵儿","婀娜","恩霈","尔雅","璠瑜","方方","方雅","方仪","芳蔼","芳春","芳芳","芳菲","芳馥","芳华","芳蕙","芳洁","芳林","芳苓","芳荃","芳蕤","芳润","芳馨","芳懿","芳茵","芳泽","芳洲","飞燕","菲菲","霏霏","斐斐","芬菲","芬芬","芬馥","丰熙","丰雅","馥芬","甘雨","甘泽","高洁","歌阑","歌云","歌韵","格菲","格格","葛菲","古兰","古香","古韵","谷雪","谷玉","瑰玮","桂帆","桂枫","桂华","桂月","桂芝","海儿","海女","含娇","含景","含文","含香","含秀","晗玥","涵涵","涵韵","菡梅","好洁","好慕","浩岚","浩丽","皓洁","皓月","合乐","合美","合瑞","和璧","和静","和美","和暖","和平","和悌","和煦","和暄","和雅","和怡","和玉","和豫","和悦","河灵","荷珠","荷紫","赫然","鹤梦","姮娥","弘丽","弘雅","弘懿","红豆","红旭","红叶","闳丽","虹星","虹英","虹颖","虹影","虹雨","虹玉","华采","华楚","华乐","华婉","华月","华芝","怀慕","怀思","怀玉","欢欣","欢悦","会雯","会欣","彗云","惠丽","惠美","惠然","惠心","慧婕","慧君","慧丽","慧美","慧心","慧秀","慧雅","慧艳","慧英","慧颖","慧语","慧月","慧云","蕙兰","蕙若","吉帆","吉玟","吉敏","吉欣","吉星","吉玉","吉月","季雅","霁芸","佳惠","佳美","佳思","佳文","佳妍","佳悦","家美","家欣","家馨","嘉宝","嘉惠","嘉丽","嘉美","嘉禾","嘉淑","嘉歆","嘉言","嘉怡","嘉懿","嘉音","嘉颖","嘉玉","嘉月","嘉悦","嘉云","江雪","姣姣","姣丽","姣妍","娇洁","娇然","皎洁","皎月","杰秀","洁静","洁雅","洁玉","今歌","今瑶","今雨","金玉","金枝","津童","锦凡","锦诗","锦文","锦欣","瑾瑶","菁菁","菁英","晶辉","晶晶","晶灵","晶滢","靓影","静安","静涵","静和","静慧","静美","静淑","静恬","静婉","静娴","静秀","静雅","静逸","静云","菊华","菊月","娟娟","娟丽","娟秀","娟妍","绢子","隽洁","隽美","隽巧","隽雅","君洁","君丽","君雅","筠溪","筠心","筠竹","俊慧","俊雅","珺俐","珺琦","珺琪","珺娅","可可","可儿","可佳","可嘉","可心","琨瑶","琨瑜","兰芳","兰蕙","兰梦","兰娜","兰若","兰英","兰月","兰泽","兰芝","岚翠","岚风","岚岚","蓝尹","朗丽","朗宁","朗然","乐然","乐容","乐心","乐欣","乐怡","乐悦","莉莉","丽芳","丽华","丽佳","丽姝","丽思","丽文","丽雅","丽玉","丽泽","丽珠","林帆","林楠","琳芳","琳怡","琳瑜","伶俐","伶伶","灵卉","灵慧","灵秀","灵雨","灵韵","玲琅","玲琳","玲玲","玲珑","玲然","凌春","凌晓","铃语","菱凡","菱华","令慧","令美","流惠","流丽","流如","流婉","流逸","柳思","珑玲","芦雪","罗绮","洛妃","洛灵","玛丽","麦冬","曼丽","曼蔓","曼妮","曼婉","曼吟","曼语","曼珠","嫚儿","蔓菁","蔓蔓","梅风","梅红","梅花","梅梅","梅青","梅雪","梅英","美偲","美华","美丽","美曼","美如","萌阳","蒙雨","孟乐","孟夏","孟阳","梦华","梦兰","梦丝","梦桐","梦影","梦雨","梦月","梦云","梦泽","米琪","米雪","密如","密思","淼淼","妙婧","妙思","妙颜","妙意","妙音","妙珍","玟丽","玟玉","珉瑶","闵雨","敏慧","敏丽","敏叡","敏思","名姝","明煦","明艳","鸣晨","鸣玉","茗雪","茉莉","木兰","牧歌","慕诗","慕思","慕悦","暮雨","暮芸","娜兰","娜娜","乃心","乃欣","囡囡","楠楠","妮娜","妮子","霓云","旎旎","念念","宁乐","凝洁","凝静","凝然","凝思","凝心","凝雪","凝雨","凝远","妞妞","浓绮","暖暖","暖姝","暖梦","盼盼","沛若","佩兰","佩杉","佩玉","佩珍","芃芃","彭丹","嫔然","品韵","平和","平惠","平乐","平良","平宁","平婉","平晓","平心","平雅","平莹","萍雅","萍韵","璞玉","齐敏","齐心","其雨","　奇思","奇文","奇颖","颀秀","琦巧","琦珍","琪华","启颜","绮怀","绮丽","绮美","绮梦","绮思","绮文","绮艳","绮云","千叶","芊丽","芊芊","茜茜","倩丽","倩美","倩秀","倩语","俏丽","俏美","琴心","琴轩","琴雪","琴音","琴韵","卿月","卿云","清昶","清芬","清涵","清华","清晖","清霁","清嘉","清宁","清奇","清绮","清秋","清润","清淑","清舒","清婉","清心","清馨","清雅","清妍","清一","清漪","清怡","清逸","清懿","清莹","清悦","清韵","清卓","情文","情韵","晴波","晴虹","晴画","晴岚","晴丽","晴美","晴曦","晴霞","晴雪","琼芳","琼华","琼岚","琼诗","琼思","琼怡","琼音","琼英","秋芳","秋华","秋露","秋荣","秋彤","秋阳","秋英","秋颖","秋玉","秋月","秋芸","曲静","曲文","冉冉","苒苒","荏苒","任真","溶溶","蓉城","蓉蓉","融雪","柔怀","柔惠","柔洁","柔谨","柔静","柔丽","柔蔓","柔妙","柔淑","柔婉","柔煦","柔绚","柔雅","如心","如馨","如仪","如意","如云","茹薇","茹雪","茹云","濡霈","蕊珠","芮安","芮波","芮欢","芮佳","芮静","芮澜","芮丽","芮美","芮欣","芮雅","芮优","芮悦","瑞彩","瑞锦","瑞灵","瑞绣","瑞云","瑞芝","睿敏","睿思","睿彤","睿文","睿哲","睿姿","润丽","若芳","若华","若兰","若淑","若彤","若英","莎莉","莎莎","三春","三姗","三诗","森莉","森丽","沙羽","沙雨","杉月","姗姗","善芳","善和　","善静","善思","韶华","韶丽","韶美","韶敏","韶容","韶阳","韶仪","邵美","沈靖","沈静","沈然","沈思","沈雅","诗怀","诗文","施然","施诗","世敏","世英","世韵","书慧","书仪","书艺","书意","书语","书云","抒怀","姝好","姝惠","姝丽","姝美","姝艳","淑华","淑惠","淑慧","淑静","淑兰","淑穆","淑然","淑婉","淑贤","淑雅","淑懿","淑哲","淑贞","舒畅","舒方","舒怀","舒兰","舒荣","舒扬","舒云","帅红","双文","双玉","水晶","水悦","水芸","顺慈","顺美","丝柳","丝萝","丝娜","丝琦","丝琪","丝祺","丝微","丝雨","司辰","司晨","思嫒","思宸","思聪","思迪","思恩","思凡","思涵","思慧","思佳","思嘉","思洁","思莲","思琳","思美","思萌","思敏","思娜","思楠","思琪","思若","思思","思彤","思溪","思雅","思怡","思义","思懿","思茵","思莹","思雨","思语","思云","斯琪","斯乔","斯斯","斯文","斯雅","松雪","松雨","松月","素华","素怀","素洁","素昕","素欣","棠华","洮洮","桃雨","陶宁","陶然","陶宜","天恩","天慧","天骄","天籁","天睿","天心","天欣","天音","天媛","天悦","天韵","田然","田田","恬畅","恬静","恬美","恬谧","恬默","恬然","恬欣","恬雅","恬悦","甜恬","湉湉","听然","婷美","婷然","婷婷","婷秀","婷玉","彤蕊","彤彤","彤雯","彤霞","彤云","桐华","桐欣","童彤","童童","童欣","宛畅","宛曼","宛妙","莞尔","莞然","婉慧","婉静","婉丽","婉娜","婉清","婉然","婉容","婉柔","婉淑","婉秀","婉仪","婉奕","菀柳","菀菀","琬凝","琬琰","望慕","望舒","望雅","微澜","微婉","微熹","微月","薇歌","韦曲","韦柔","韦茹","苇然","玮奇","玮琪","玮艺","未央","蔚然","文惠","文静","文君","文丽","文敏","文墨","文姝","文思","文心","文瑶","文漪","文茵","雯华","雯丽","问筠","梧桐","西华","希月","希恩","希慕","希蓉","希彤","惜玉","熙华","熙柔","熙熙","熙阳","熙怡","喜儿","喜悦","霞飞","霞雰","霞辉","霞绮","霞姝","霞文","夏萱","夏璇","夏雪","夏月","仙仪","仙媛","仙韵","闲华","闲静","闲丽","贤惠","贤淑","咸英","娴静","娴淑","娴婉","娴雅","羡丽","献仪","献玉","香洁","香梅","香馨","香雪","湘君","湘灵","湘云","向晨","宵晨","宵雨","宵月","萧曼","萧玉","箫笛","箫吟","小春","小枫","小谷","小楠","小琴","小雯","小星","小瑜","小雨","晓畅","晓枫","晓慧","晓莉","晓楠","晓彤","晓桐","晓星","晓燕","笑雯","笑笑","笑妍","心慈","心菱","心诺","心香","心宜","心怡","心语","心远","忻畅","忻欢","忻乐","忻慕","忻然","忻忻","忻愉","昕昕","欣彩","欣畅","欣合","欣嘉","欣可","欣美","欣然","欣彤","欣笑","欣欣","欣艳","欣怡","欣愉","欣悦","欣跃","莘莘","新洁","新林","新美","新苗","新荣","新文","新雪","新雅","新颖","新雨","新语","新月","歆美","歆然","馨兰","馨荣","馨蓉","馨香","馨欣","杏儿","修洁","修美","修敏","秀华","秀慧","秀杰","秀洁","秀娟","秀隽","秀筠","秀兰","秀丽","秀曼","秀梅","秀美","秀媚","秀敏","秀妮","秀婉","秀雅","秀艳","秀逸","秀英","秀颖","秀媛","秀越","秀竹","绣文","绣梓","琇芳","琇芬","琇晶","琇莹","琇云","轩秀","萱彤","暄和","暄美","暄妍","玄静","玄穆","玄清","玄素","玄雅","璇玑","璇娟","璇珠","璇子","雪冰","雪儿","雪帆","雪翎","雪漫","雪艳","雪羽","寻春","寻芳","雅爱","雅安","雅唱","雅丹","雅凡","雅歌","雅惠","雅洁","雅静","雅隽","雅可","雅丽","雅美","雅楠","雅宁","雅萍","雅韶","雅诗","雅素","雅娴","雅秀","雅艳","雅逸","雅懿","雅云","雅韵","雅致","娅芳","娅静","娅玟","娅楠","娅思","娅童","娅欣","妍芳","妍歌","妍和","妍丽","妍雅","妍妍","芫华","言文","言心","俨雅","琰琬","彦红","彦慧","彦珺","彦灵","彦露","彦杉","彦芝","晏静","晏然","晏如","艳芳","艳卉","艳蕙","燕桦","燕珺","燕岚","燕楠","燕妮","燕婉","燕舞","燕子","阳霁","阳兰","阳曦","阳阳","杨柳","洋然","洋洋","漾漾","瑶岑","瑶瑾","野雪","野云","叶春","叶丹","叶帆","叶芳","叶飞","叶丰","叶吉","叶嘉","叶农","叶彤","叶舞","叶欣","晔晔","一凡","一禾","一嘉","一瑾","一南","一雯","一璇","依美","依楠","依然","依童","依心","仪芳","仪文","宜春","宜嘉","宜楠","宜然","宜欣","怡畅","怡和","怡嘉","怡乐","怡璐","怡木","怡宁","怡然","怡月","怡悦","颐和","颐然","颐真","以欣","以轩","佁然","倚云","忆敏","忆然","忆远","怿悦","奕叶","奕奕","轶丽","逸丽","逸美","逸思","逸馨","逸秀","逸雅","逸云","逸致","茵茵","音华","音景","音仪","音悦","音韵","吟怀","银河","银柳","银瑶","饮香","饮月","胤文","胤雅","英华","英慧","英楠","英秀","英媛","莺莺","莺语","莺韵","瑛琭","瑛瑶","樱花","璎玑","迎秋","盈盈","莹白","莹华","莹洁","莹然","莹琇","莹莹","莹玉","萦怀","萦思","萦心","滢渟","滢滢","颖初","颖慧","颖然","颖馨","颖秀","颖颖","映波","映雪","雍恬","雍雅","优乐","优扬","优悠","优瑗","优悦","攸然","悠柔","悠素","悠婉","悠馨","悠雅","悠奕","悠逸","幼安","幼仪","幼怡","余馥","余妍","愉婉","愉心","瑜蓓","瑜璟","瑜敏","瑜然","瑜英","羽彤","雨彤","雨燕","语冰","语林","语诗","语彤","语心","语燕","玉琲","玉华","玉环","玉瑾","玉珂","玉轩","玉怡","玉英","元英","爰美","爰爰","源源","远悦","媛女","月桂","月华","月朗","月灵","月明","月杉","月桃","月天","月怡","月悦","悦爱","悦畅","悦和","悦恺","悦可","悦来","悦乐","悦人","悦喜","悦心","悦欣","悦宜","悦怡","悦远","悦媛","云淡","云飞","云岚","云露","云梦","云韶","云水","云亭","云蔚","云溪","云霞","云心","云英","芸芸","韫素","韫玉","韵流","韵梅","韵宁","韵磬","韵诗","蕴涵","蕴和","蕴美","蕴秀","赞怡","赞悦","泽恩","泽惠","湛恩","湛芳","湛静","昭懿","昭昭","哲丽","哲美","哲思","哲妍","贞芳","贞静","贞婉","贞怡","贞韵","珍丽","珍瑞","真洁","真如","真茹","真一","真仪","正平","正清","正思","正雅","芝兰","芝英","芝宇","知慧","知睿","芷兰","芷琪","芷若","致欣","致萱","智美","智敏","仲舒","珠佩","珠星","珠轩","珠雨","珠玉","竹筱","竹萱","竹雨","竹月","竹悦","竹韵","庄静","庄丽","庄雅","卓然","卓逸","子爱","子丹","子帆","子凡","子菡","子怀","子惠","子蕙","子琳","子美","子楠","子宁","子舒","子童","子薇","子欣","子萱","子璇","子怡","子亦","子悦","子珍","梓蓓","梓涵","梓洁","梓菱","梓露","梓璐","梓美","梓敏","梓楠","梓倩","梓柔","梓珊","梓舒","梓婷","梓彤","梓童","梓琬","梓欣","梓馨","梓萱","梓瑶","梓莹","梓颖","梓榆","梓玥","梓云","紫蕙","紫琼","紫杉","紫桐","紫薇","紫玉","若雨","静香","梦洁","凌薇","美莲","雪丽","依娜","雅芙","雨婷","晟涵","梦舒","秀影","海琼","雪娴","梦梵","笑薇","瑾梅","晟楠","歆婷","可岚","天瑜","婧琪","媛馨","玥婷","滢心","雪馨","姝瑗","颖娟","歆瑶","凌菲","钰琪","婧宸","靖瑶","瑾萱","佑怡","婳祎","檀雅","若翾","熙雯","语嫣","妍洋","滢玮","沐卉","琪涵","佳琦","伶韵","思睿","清菡","欣溶","菲絮","诗涵","璇滢","静馨","心琪","雅媛","晨芙","婧诗","露雪","蕊琪","舒雅","婉玗","诗茵","静璇","婕珍","婉婷","云薇","霏羽","妍琦","珂玥","茗茶","昭雪","倩雪","玉珍","正梅","美琳","欢馨","优璇","雨嘉","明美","可馨","惠茜","漫妮","香茹","月婵","嫦曦","怡香","韵寒","莉姿","梦璐","灵芸","沛玲","欣妍","曼婷","雪慧","淑颖","钰彤","璟雯","彤萱","梦涵","慧妍","梦婷","雪怡","彦歆","芮涵","婧涵","鑫蕾","希蓝","雪环","慕涵","思蕊","思淼","芮婷","芸熙","婧瑶","沁舒","恨寒","秋春","梦香","春冬","恨荷","翠岚","盼丹","痴旋","寄春","恨之","巧春","友珊","忆柏","秋柏","巧风","恨蝶","春枫","又儿","问香","恨竹","慕蕊","恨云","痴春","孤松","香柳","问春","半香 ","碧巧","寻菡","沛白","平灵","惜香","谷枫","盼旋","幼旋","尔蓝","沛山","代丝","痴梅","觅松","碧春","香桃","安春","靖易","寄灵","采春","初珍 ","恨真","山梅","恨桃","香巧","南蓉","巧兰","寻巧","寄波","念巧","春翠","映阳 ","春柔","忆香","恨天","恨松","问旋","从南","白易","寒雁","怜云","寻文","乐丹","翠柔","谷山","冬儿","春竹","痴梦","晓巧","南春","春雁","从安","怀萍","听白","访琴","绿春","友绿","紫南 ","新巧","冷安","雅阳","南松","诗云","飞风","书芹","幼南","凡梦","尔曼","念波","迎松","青寒","笑天","问安","夜白","灵竹","醉薇","水云","谷波","乐之","笑白","之山","妙海","平夏","向萍","寻南","春文","采绿","天春","平绿","盼香","半雪","山柳","妙春","半安","平春","幼柏","天巧","痴灵","孤风","绮彤","之玉","雨珍","香波","新冬","盼翠","痴香","香柏","巧绿","香春","香莲","香芹","听春","海桃","青香","恨风","春绿","秋白","冰安","南风","醉山","初彤","凝海","香卉","春柏","绿夏","巧春 ","恨瑶","香蝶","盼巧","易容","元柳","半香","秋巧","秋萌","子希","玉琼","云容","琦男","雨瞳","舒锦","宇涵","丹钰","小哲","雪玲","佳晨","源心","思杰","玲伟","如清","钰婷","思行","子蕴","露心","悦沄","升芮","思媛","宁馨","丹婷","青昕","佩芝","琼宇","佳宁","尚萍","思宁","学明","宇玲","姝静","卓尔","子嘉","文芷","思妤","思贤","奕菲","子竹","千芮","欣月","铭雅","子熙","微宁","诗茜","月云","天璐","敏津","思惟","思清","子苏","钰雯","陈茹","玲博","玉晨","悦昀","子馨","晓钰","源思","子鑫","丽菲","秋萍","钰瑶","海娜","宇琳","致雨","书静","瑞哲","怡静","婷超","小佳","暖茹","爱婷","佳琳","子心","倩璐","婷露","美美","小蔚","文歆","文池","秋菲","惟乔","嘉柔","子瑜","修宜","祥芳","尚雪","舒瑶","玥清","璐清","华珊","泺蓉","淑仪","渝茜","清芸","丹蕾","潇娇","泓蓓","美媛","蓓涛","泓蓉","润灵","湘鸿","涵素","清芷","钰岚","润娇","鸿莉","淳芸","治蓓","洁茹","翠燕","治蓉","润瑶","蓓淳","泳兰","莹青","潇葶","祥萍","泳薇","婧珊","洪苇","钰琼","泳婷","芝潇","荧洁","潇圣","蓓淋","涵蓉","健明","慧菲","一曦","雪媛","瀚薇","泳乐","筱梅","潇萍","晨灵","满茹","婧馨","菲琼","浡蓉","湘蓉","文倩","梓惜","艺淑","漩希","淑芹","洲茗","娅莎","柏元","恩婍","柏丹","晓倩","澋蓉","涵菲","静萱","兰熙","溢茹","科予","治莉","钰颖","滢葭","方倩","泳蕴","钰玥","潇蓓","泳葶","映清","雪云","潇蓉","一洋","艺洋","涵莉","芝满","敏雅","瀚葳","丽惠","湘漩","钰婵","洪葶","艺苑","玲花","善莹","丽艳","金娥","瑶洁","培红","傲雪","子瑛","娜拉","淑霞","彩芬","怡瑾","蓝玉","婧怡","百莹","振文","雅悦","悦羽","新红","婵伊","子玲","蓉骊","丹梅","亦媛","瑞莹","莹秀","筱燕","利娟","棕莹","灵玲","颜妍","雯倩","金娟","幼媛","卓悦","娅鸿","慧蓉","巍妍","蘅莹","婷婕","秀欣","素芬","耿冉","晓英","洲玉","满琳","佑文","玲玉","惠媛","琳俏","腹嫣","海莉","小雪","润红","喜文","燕飞","灵玉","青冉","妮怡","建琳","娇瑶","志红","潆文","秀斌","雁萍","细萍","韵萍","韵洁","艳琼","沃颖 ","惠芳","悦琳","瑜玲","岱玉","可琴","叶洁","估倩","知英","媛玲","若怡","倩莹","玲烨","莹丰","恒文","洪萍","净琳","希怡","福英","治文","贻芬","旭文","盛玉","逸妍","莉箐","瑛才","佳佩","月辰","莎婷","天佳","可涵","柳嘉","楚颖","姝慧","钟灵","萌萌","萍玲","明萱","珂玉","以柔","彦彦","钰娇","小岚","佩莹","天宜","于竹","会云","楠倩","钐榳","钐筳","昕颖","晓萌","可苗","琳馨","榳钐","静姝","文萌","婷来","歆彤","阳竹","刘一","天莹","芯珺","茹钐","妤鑫","嘉芝","语茜","琦芳","姝雯","梦妍","天阳","若月","楠萱","桂瑶","阳梦","欣佩","文珺","绚丽","刘依","海欣","姝涵","伟宁","敬姝","斐然","娇柳","闻珈","千筱","楚阳","梦瑶","泗彤","玥如","涵妍","佳璇","珊莉","可意","优若","思莎","明夷","怡如","宛扬","天婷","子学","艺萱","梦一","蓓南","泗桐","嫣笑","梦晨","旖旎","秋奕","菲玲","千明","若晨","雨桐","秋可","怡桥","秋力","秋影","宣虹","盺儒","紫瑶","姝澄","秋垚","书锦","秋园","秋婵","姣柏","珺睿","薇睿","雪梦","秋越","思静","家达","进如","宸澋","秋娅","秋佳","秋倩","怡荣","函乐","秋优","巧芝","元月","仪睿","秋玮","柔鑫","怡净","怡飞","琼芹","秋伊","昕语","元诗","媛菁","丘悦","秋惟","宵穆","思月","秋维","飞舟","书瑾","秋宜","妍菲","秋秋","婉滢","芸慧","秋璐","海佳","柔心","婉莹","怡菲","秋宇","柔伊","邱月","紫丹","怡馨","紫涵","昕雨","怡婧","怡越","红铮","盈霏","奕澄","园月","婷铄","勇龙","秋叶","秋悦","国乐","函涟","朝闻","前俞","美茜","靖荣","宸娆","元怡","思颖","琼菲","芝卓","盺朵","飞霏","薇婷","丘月","盼臻","元亚","姝霏","秋巍","秋逸","炜瑶","紫娢","茹茹","韵涵","雨华","宇佳","雯钰","炜莹","会媛","莉纯","雨菲","焯琳","月倩","茈娢","岚烁","彤琰","芓涵","鑫媛","丽丽","月玲","炜珂","炜萌","雨芬","雨芯","菲慧","月炜","紫菡","籽涵","萌怡","柳媚","月彤","慧慧","彤心","韵彤","炜钰","倩倩","炜仪","莲莲","海婷","娟嘉","若舒","炜诗","婷娜","楚苑","美莹","云云","美瑾","宁子","雪芝","灵茜","咨菡","玲雯","梦琼","苗苗","筠涵","睿涵","海玲","炜歆","媛媛","嘉茹","先飘","桂苑","晓敏","钰媛","梓娢","蕾蕾","茈涵","芓寒","丹媛","芹彤","子涵","蕴菡","灵敏","籽菡","萌雅","韵蕴","姿菡","林韵","彩灵","妙琦","沅彤","炜娴","嘉君","玉玉","芓菡","巧宜","蒙林","浩飞","莉丹","茜欣","茜玮","骁飞","金瑶","丞真","茜玲","茹恒","茜雯","嘉洁","淑玲","雅姌","茹涵","琳菁","婷支","诗雅","颖婷","丽燕","佳婷","颖嘉","文萍","洁晴","云丹","博欣","茜颖","菁怡","嘉仪","亦舒","茜菲","诗家","丹倩","莎祺","若君","淑晴","丽彤","钰林","瑾莲","林佩","茗月","芷瑶","灵然","可梅","莎倩","佳金","智圆","楚怡","茹桁","莎玲","雨青","怡秀","喜芳","喜芬","茜雅","宵騑","思蓓","颖菊","盈珺","述华","康明","雯芝","晓桃","颖菲","羽婷","金欣","承恩","茜璇","伟仪","小茹","诗茗","雅茜","玉珊","伟桢","茜菁","晓宜","茜珊","茜婕","智宁","胜文","淼嘉","婷菁","喜家","云倩","宵非","丹茹","茗心","羽萍","雅臻","佳恩","婷芝","茜芸","荣哲","楚玲","茜琼","梅嘉","雅菲","雯洁","萍馨","详风","萧翡","婷芸","依依","颖宜","萧菲","怡怡","嘉佳","钰柔","雅清","哓飞","惠子","茜綪","莉雅","雪芳","冰菁","娟婧","苏华","诗意","雅昕","茗倩","媛萍","惠芝","梦馨","述萍","静莹","筱茜","茜怡","楚可","喜萌","舒菲","婉如","婷茹","楚琳","楚晓","颖芝","薇羽","林怡","芷妍","苡柔","文涵","茜珂","桂慧","文萱","丽颖","雅苘","金佳","希颖","琦梅","玉婷","茜娜","画诗","华菁","雅菁","雅婕","程洁","新枝","岚菊","嘉莹","惠思","婉芳","萧非","怡若","惠盈","茜倩","茗悦","羽江","金宜","美英","宛芸","茗荔","欣静","锵锵","彬彬","清水","瑶瑛","秋璇","苏真","晓奕","淑智","瑞婵","籁真","仁楣","东梦","允迪","思晨","树瑜","希诗","梓妍","赟真","仁明","佳蔚","仁雯","树璧","楠晨","懿真","诗若","临羡","人芙","婷之","利晓","依苒","茗力","茜凌","希希","霈萱","婷纭","舒萍","清珏","诗莎","芷夏","丹洁","舒茜","芯爱","美佳","扬铃","瑶英","佳涵","淑灵","晨夕","楚馨","智芸","杰晨","佳宜","文芝","锦佳","明嵘","蓓琦","惠杰","沛辰","欢真","媛葶","梓婕","茗家","诗洁","文之","汶妤","宛瑄","静彤","芸真","笔佩","宛玥","仁菲","宛茹","希璟","若馨","清晗","蕴珏","奕屿","桂雯","玺霖","静芝","楚娅","兰馨","淑瑜","卓莹","茗婕","成怡","健琪","佳闻","明梦","博月","雅鑫","海灿","晨玉","清菁","奕凡","雨平","奕敏","健萁","子荷","云鑫","雯梦","奕筎","月雪","雨鑫","清祯","婷萌","雨榳","一琳","雨男","青琰","丽雯","琳菲","雨源","青荔","灵君","钰萍","若文","奕淑","桂菲","惠瑞","清欣","奕佳","清玮","奕辰","雨滔","雨精","清丹","少杰","湄茹","婷涵","昀萍","雯雯","筠萍","清元","红琳","政君","若宁","清昕","英姿","清扬","奕宁","磊磊","佳雨","若香","洁玲","隽馨","清可","炜楠","婷萍","秋涵","婷华","敏惠","梅佩","家莹","夏菲","乐仪","菲雪","美茹","芸嘉","海颖","奕尧","奕君","雪萱","慕雪","依林","雨丹","惠嘉","佩文","雪茹","学茹","奕姝","忆柳","元香","痴珊","恨玉","春儿","寻雁","孤岚","笑霜","盼儿","友巧","恨山","又绿","巧云","平文","青文","翠巧","怀山","寄南","小萍","春海","向山","谷槐","凡巧","香天","夏容","傲冬","谷翠","春蕾","痴瑶","代桃","冷之","盼秋","秋寒","巧夏","海亦","初晴","痴凝","巧香","采南","代巧","痴柏","恨蕊","芷烟","尔阳","怜烟","访儿","觅云","巧","半蕾 "],["乞","戾","嵩","邑","瑛","鸿","卿","裘","契","涛","疾","驳","凛","逊","鹰","威","紊","阁","康","焱","城","誉","祥","虔","胜","穆","豁","匪","霆","凡","枫","豪","铭","罡","扬","垣","师","翼","秋","傥","箴","雍","达","乾","鑫","萧","鲂","冥","翰","丑","隶","钧","坤","荆","蹇","骁","沅","剑","勒","筮","磬","戎","翎","函","嚣","炳","耷","惮","鞯","擎","烙","靖","遥","斩","颤","孱","续","岩","奄","博","鹤","绯","匕","奎","仰","霸","乌","邴","败","捕","糜","汲","涔","班","悲","臻","厉","栾","井","伊","储","羿","富","稀","松","寇","碧","珩","靳","鞅","弼","焦","海","刚","纲","囧"],["姿","芷","芝","筝","真","珍","贞","婴","秀","雯","纹","菀","莞","宛","桐","彤","愫","素","涑","姝","弱","若","蓉","清","青","茗","敏","颦","莆","萍","娩","斓","澜","蓝","兰","惠","荟","涫","芙","璎","姒","苠","淇","绮","雁","襄","紫","芯","沂","衣","荠","莺","萤","怡","苡","悒","荧","茈","香","玲","绫","灵","樱","颜","艳","颖","盈","琦","忻","芸","笙","芳","丝","湘","竺","洙","珠","衫","莛","琳","珊","凤","嫣","芫","葶","芮","沁","柔","妍","芾","莹","斌","瑛","卿","翎","芹"],[" ","、","⊙","€","¡","¢","£","¤","¦","§","¨","©","ª","«","¬","­","®","¯","°","≈","∽","∝","≠","≮","≯","≤","≥","∞","∵","∴","♂","♀","°","′","″","℃","＄","¤","￠","￡","‰","§","№","☆","★","○","●","◎","◇","◆","□","■","△","▲","※","→","←","↑","↓","〓"],["Issac","James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric","Stephen","Andrew","Raymond","Gregory","Joshua","Jerry","Dennis","Walter","Patrick","Peter","Harold","Douglas","Henry","Carl","Arthur","Ryan","Roger","Joe","Juan","Jack","Albert","Jonathan","Justin","Terry","Gerald","Keith","Samue","Willie","Ralph","Lawrence","Nicholas","Roy","Benjamin","Bruce","Brandon","Adam","Harry","Fred","Wayne","Billy","Steve","Louis","Jeremy","Aaron","Randy","Howard","Eugene","Carlos","Russell","Bobby","Victor","Martin","Ernest","Phillip","Todd","Jesse","Craig","Alan","Shawn","Clarence","Sean","Philip","Chris","Johnny","Earl","Jimmy","Antonio","Danny","Bryan","Tony","Luis","Mike","Stanley","Leonard","Nathan","Dale","Manuel","Rodney","Curtis","Norman","Allen","Marvin","Vincent","GlennL","Jeffery","Travis","Jeff","Chad","Jacob","Lee","Melvin","Alfred","Kyle","Francis","Bradley","Jesus","Herbert","Frederick","Ray","Joe","Edwin","Don","Eddie","Ricky","Troy","Randall","Barry","Alexander","Bernard","Mario","Leroy","Francisco","Marcus","Micheal","Theodore","Clifford","Miguel","Oscar","Jay","Jim","Tom","Calvin","Alex","Jon","Ronnie","Bill","Lloyd","Tommy","Leon","Derek","Warren","Darrell","Jerome","Floyd","Leo","Alvin","Tim","Wesley","Gordon","Dean","Greg","Jorge","Dustin","Pedro","Derrick","Lewis","Zachary","Corey","Herman","Maurice","Vernon","Roberto","Clyde","Glen","Hector","Shane","Ricardo","Sam","Rick","Lester","Brent","Ramon","Charlie","Tyler","Gilbert","Gene","Marc","Reginald","Ruben","Brett","Angel","Nathaniel","Rafael","Leslie","Edgar","Milton","Raul","Ben","Chester","Cecil","Duane","Franklin","Andre","Elmer","Brad","Gabriel","Ron","Mitchell","Roland","Arnold","Harvey","Jared","Adrian","Karl","Cory","Claude","Erik","Darryl","Jamie","Neil","Jessie","Christian","Javier","Fernando","Clinton","Ted","Mathew","Tyrone","Darren","Lonnie","Lance","Cody","Julio","Kelly","Kurt","Allan","Nelson","Guy","Clayton","Hugh","Max","Dwayne","Dwight","Armando","Felix","Jimmie","Everett","Jordan","Ian","Wallace","Ken","Bob","Jaime","Casey","Alfredo","Alberto","Dave","Ivan","Johnnie","Sidney","Byron","Julian","Isaac","Morris","Clifton","Willard","Daryl","Ross","Virgil","Andy","Marshall","Salvador","Perry","Kerk","Sergio","Marion","Tracy","Seth","Kent","Terrance","Rene","Eduardo","Terrence","Eneique","Freddie","Wade","Austin","Stuart","Fredrick","Arturo","Alejandro","Jackie","Joey","Nick","Luther","Wendell","Jeremiah","Evan","Julius","Dana","Donnie","Otis","Shannon","Trevor","Oliver","Luke","Homer","Ggerard","Doug","Kenny","Hubert","Angelo","Shaun","Lyle","Matt","Lynn","Alfonso","Orlando","Rex","Carlton","Ernesto","Cameron","Neal","Pablo","Lorenzo","Omar","Wilbur","Blake","Grant","Horace","Roderick","Kerry","Abraham","Willis","Rickey","Jean","Ira","Andres","Cesar","Johnathan","Malcolm","Rudolph","Damon","Kelvin","Rudy","Presto","Alton","Archie","Marco","Wm","Pete","Randolph","Garry","Geoffrey","Jonathon","Felipe","Bennie","Gerardo","Ed","Dominic","Robin","Loren","Delbert","Colin","Guillermo","Earnest","Lucas","Benny","Noel","Spencer","Rodolfo","Myron","Edmund","Garrett","Salvatore","Cedric","Lowell","Gregg","Sherman","Wilson","Devin","Sylvester","Kim","Roosevelt","Israel","Jermaine","Forrest","Wilbert","Leland","Simon","Guadalupe","Clark","Irving","Carroll","Bryant","Owen","Rufus","Woodrow","Sammy","Kristopher","Mack","Levi","Marcos","Gustavo","Jake","Lionel","Marty","Taylor","Ellis","Dallas","Gilberto","Clint","Nicolas","Laurence","Ismael","Orville","Drew","Jody","Ervin","Dewey","Al","Wilfred","Josh","Hugo","Igancio","Caleb","Tomas","Sheldon","Erick","Frankie","Stewart","Doyle","Darrel","Rogelio","Terence","Santiago","Alonzo","Elias","Bert","Elbert","Ramiro","Conrad","Pat","Noah","Grady","Phil","Cornelius","Lamar","Rolando","Clay","Percy","Dexter","Bradford","Merle","Darin","Amos","Terrell","Moses","Irvin","Saul","Roman","Darnell","Randal","Tommie","Timmy","Darrin","Winston","Brendan","Toby","Van","Abel","Dominick","Boyd","Courtney","Jan","Emilio","Elijah","Cary","Domingo","Santos","Aubrey","Emmett","Marlon","Emanuel","Jerald","Edmond"],["CC","Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna","Rebecca","Virginia","Kathleen","Pamela","Martha","Debra","Amanda","Stephanie","Carolyn","Christine","Marie","Janet","Catherine","Frances","Ann","Joyce","Diane","Alice","Julie","Heather","Teresa","Doris","Gloria","Evelyn","Jean","Cheryl","Mildred","Katherine","Joan","Ashley","Judith","Rose","Janice","Kelly","Nicole","Judy","Christina","Kathy","Theresa","Beverly","Denise","Tammy","Irene","Jane","Lori","Rachel","Marilyn","Andrea","Kathryn","Louise","Sara","Anne","Jacqueline","Wanda","Bonnie","Julia","Ruby","Lois","Tina","Phyllis","Norma","Paula","Diana","Annie","Lillian","Emily","Robin","Peggy","Crystal","Gladys","Rita","Dawn","Connie","Florence","Tracy","Edna","Tiffany","Carmen","Rosa","Cindy","Grace","Wendy","Victoria","Edith","Kim","Sherry","Sylvia","Josephine","Thelma","Shannon","Sheila","Ethel","Ellen","Elaine","Marjorie","Carrie","Charlotte","Monica","Esther","Pauline","Emma","Juanita","Anita","Rhonda","Hazel","Amber","Eva","Debbie","April","Leslie","Clara","Lucille","Jamie","Joanne","Eleanor","Valerie","Danielle","Megan","Alicia","Suzanne","Michele","Gall","Bertha","Darlene","Veronica","Jill","Erin","Geraldine","Lauren","Cathy","Joann","Lorraine","Lynn","Sally","Regina","Erica","Beatrice","Dolores","Bernice","Audrey","Yvonne","Annette","June","Samantha","Marion","Dana","Stacy","Ana","Renee","Ida","Vivian","Roberta","Holly","Brittany","Melanie","Loretta","Yolanda","Jeanette","Laurie","Katie","Kristen","Vanessa","Alma","Sue","Elsie","Beth","Jeanne","Vicki","Carla","Tara","Rosemary","Eileen","Terri","Gertrude","Lucy","Tonya","Ella","Stacey","Wilma","Gina","Kristin","Jessie","Natalie","Agnes","Vera","Willie","Charlene","Bessie","Delores","Melinda","Pearl","Arlene","Maureen","Colleen","Allison","Tamara","Joy","Georgia","Constance","Lillie","Claudia","Jackie","Marcia","Tanya","Nellie","Minnie","Marlene","Heidi","Glenda","Lydia","Viola","Courtney","Marian","Stella","Caroline","Dora","Jo","Vickie","Mattie","Terry","Maxine","Irma","Mabel","Marsha","Myrtle","Lena","Christy","Deanna","Patsy","Hilda","Gwendolyn","Jennie","Nora","Margie","Nina","Cassandra","Leah","Penny","Kay","Priscilla","Naomi","Carole","Brandy","Olga","Billie","Dianne","Tracey","Leona","Jenny","Felicia","Sonia","Miriam","Velma","Becky","Bobbie","Violet","Kristina","Toni","Misty","Mae","Shelly","Daisy","Ramona","Sherri","Erika","Katrina","Claire","Lindsey","Lindsay","Geneva","Guadalupe","Belinda","Margarita","Sheryl","Cora","Faye","Ada","Natasha","Sabrina","Isabel","Marguerite","Hattie","Harriet","Molly","Cecilia","Kristi","Brandi","Blanche","Sandy","Rosie","Joanna","Iris","Eunice","Angie","Inez","Lynda","Madeline","Amelia","Alberta","Genevieve","Monique","Jodi","Janie","Maggie","Kayla","Sonya","Jan","Lee","Kristine","Candace","Fannie","Maryann","Opal","Alison","Yvette","Melody","Luz","Susie","Olivia","Flora","Shelley","Kristy","Mamie","Lula","Lola","Verna","Beulah","Antoinette","Candice","Juana","Jeannette","Pam","Kelli","Hannah","Whitney","Bridget","Karl","Cell","Latoya","Patty","Shelia","Gayle","Della","Vicky","Lynne","Sheri","Marianne","Kara","Jacquelyn","Erma","Blanca","Myra","Leticia","Pat","Krista","Roxanne","Angelica","Johnnie","Robyn","Francis","Adrienne","Rosalie","Alexandra","Brooke","Bethany","Sadie","Bernadette","Traci","Jody","Kendra","Jasmine","Nichole","Rachael","Chelsea","Mable","Ernestine","Muriel","Marcella","Elena","Krystal","Angelina","Nadine","Kari","Estelle","Dianna","Paulette","Lora","Mona","Doreen","Rosemarie","Angel","Desiree","Antonia","Hope","Ginger","Janis","Betsy","Christie","Freda","Mercedes","Meredith","Lynette","Teri","Cristina","Eula","Leigh","Meghan","Sophia","Eloise","Rochelle","Gretchen","Cecelia","Raquel","Henrietta","Alyssa","Jana","Kelley","Gwen","Kerry","Jenna","Tricia","Laverne","Olive","Alexis","Tasha","Silvia","Elvera","Casey","Delia","Sophie","Kate","Patti","Lorena","Kellie","Sonja","Lila","Lana","Darla","May","Mindy","Essie","Mandy","Lorene","Elsa","Josefina","Jeannie","Mirana","Dixie","Lucia","Marta","Faith","Lela","Johanna","Shari","Camille","Tami","Shawna","Elisa","Ebony","Melb","Ora","Nettie","Tabitha","Ollie","Jaime","Winifred"]];e.exports=o,cc._RF.pop()},{}],NormalHardCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"9819eLzChpDzq3OBGmYCT2K","NormalHardCtrl");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{normalBtn:cc.Button,hardBtn:cc.Button,tipWord:cc.Sprite,hardMap:cc.Sprite,normalMap:cc.Sprite,menuLayer:cc.Layout,changeAnim:cc.Prefab,battleNodes:{default:[],type:cc.Node}},onLoad:function(){this.initBattleName(),o.HardModel?this.hardShow():this.normalShow()},initBattleName:function(){this.hardBattleName=["董卓歼灭战","血战赤壁","征战徐州","煮酒论英雄","潼关鏖战","征战官渡","益州突围","血战曲阿","征战合肥","濮阳鏖战","决战平阳","星天连珠","血战白狼山"],this.normalBattleName=["董卓讨伐战","赤壁之战","徐州之战","对酒当歌","潼关之战","官渡之战","益州之战","曲阿之战","合肥之战","濮阳之战","平阳之战","星天观测","白狼山之战"]},normalShow:function(){this.initBattleName();for(var t=0;t<this.battleNodes.length;++t)this.battleNodes[t].getChildByName("weiKaiFang").opacity=0,this.battleNodes[t].getChildByName("warNode").children[1].getComponent(cc.Label).string=this.normalBattleName[t],this.battleNodes[t].getChildByName("warNode").opacity=255},setBattleShow:function(t){this.initBattleName(),this.battleNodes[t].getChildByName("weiKaiFang").opacity=0,this.battleNodes[t].getChildByName("warNode").children[1].getComponent(cc.Label).string=this.hardBattleName[t],this.battleNodes[t].getChildByName("warNode").opacity=255},hardShow:function(){for(var t=JSON.parse(n.getLocalData("ThirteenWar")),e=0;e<this.battleNodes.length;++e)3===t[e]?this.setBattleShow(e):(this.battleNodes[e].getChildByName("weiKaiFang").opacity=255,this.battleNodes[e].getChildByName("warNode").opacity=0)},normalEvent:function(t,e){if(13===o.SimpleCount){if(o.HardModel=!0,"1"===e){var i=cc.instantiate(this.changeAnim);this.node.parent.addChild(i)}n.setLocalData("HardModel",o.HardModel),this.normalBtn.node.active=!1,this.hardBtn.node.active=!0,this.hardMap.node.active=!0,this.normalMap.node.active=!1,this.hardShow()}else this.tipWord.node.runAction(cc.sequence(cc.fadeIn(2),cc.fadeOut(3)))},hardEvent:function(t,e){if(o.HardModel=!1,"2"===e){var i=cc.instantiate(this.changeAnim);this.node.parent.addChild(i)}n.setLocalData("HardModel",o.HardModel),this.normalBtn.node.active=!0,this.hardBtn.node.active=!1,this.hardMap.node.active=!1,this.normalMap.node.active=!0,this.normalShow()}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],NullNode:[function(t,e,i){"use strict";cc._RF.push(e,"9d726jfSWFB8b0pAG+wUNDo","NullNode");var o=t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this)},animStopOpenTouch:function(){var t=this;t.node.on("touchend",t.touchCallback,t)},touchCallback:function(t){t.stopPropagation(),this.node.active=!1,cc.find("Canvas/StoreBut/storeTouchCtrl").getComponent("StoreCtrl").upgradeAnimation()},closeTouch:function(){var t=this;t.node.off("touchend",t.touchCallback,t)},noContinue:function(){this.node.active=!1},yesStoreBut:function(){o.classicMode?(cc.find("Canvas/RechargeLayer").active=!0,this.node.active=!1):(this.node.active=!1,cc.find("Canvas/StoreBut/storeBuyTips").active=!1,cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").inRecharge())},yesBut:function(){this.node.active=!1,cc.find("Canvas/BattleMode").active&&(cc.find("Canvas/BattleMode").active=!1,o.PVPorBattle=3001)},yesPVPBut:function(){this.node.active=!1,cc.find("Canvas/PVPMode").active=!1,o.PVPorBattle=2001}}),cc._RF.pop()},{Common:"Common"}],Occupy:[function(t,e,i){"use strict";cc._RF.push(e,"0af35liNiVOO6r9EayCXJC2","Occupy"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],PUGame:[function(t,e,o){"use strict";cc._RF.push(e,"072ae1BfIpN/aaokL2yZBX2","PUGame");var n=t("Common"),s=t("StorageData"),a=t("JsToJava");cc.Class({extends:cc.Component,properties:{friendPf:{default:[],type:cc.Prefab,tooltip:"友军3级兵"},enemyPf:{default:[],type:cc.Prefab,tooltip:"敌军3级兵"},yellowPf:{default:null,type:cc.Prefab,tooltip:"空白格"},tipsSoldier:{default:null,type:cc.Sprite,tooltip:"提示该放置的兵"},redLine:{default:null,type:cc.Sprite,tooltip:"红线"},addScoreLabel:{default:null,type:cc.Prefab,tooltip:"交战兵正确加分"},attackAnim:{default:null,type:cc.Prefab,tooltip:"交战兵正确攻击动画"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},overBattle:{default:null,type:cc.Layout,tooltip:"失败结算"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},downEffect:{default:null,url:cc.AudioClip},killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},timerT:cc.Label,nullNode:cc.Node,startAnim:cc.Node,yanwuBG:cc.Sprite,exitBox:cc.Prefab},onLoad:function(){this.node.getChildByName("up").setLocalZOrder(1),this.node.getChildByName("seconds").setLocalZOrder(1),n.MusicOffset&&(cc.audioEngine.pause(n.bgMusicId),n.duijiuBGM=cc.audioEngine.play(this.battleMusic,!0,.4)),n.returnOnce=!0,this.yanwuBG.node.active=!0,this.screenWidth=cc.director.getVisibleSize().width,this.screenHeight=cc.director.getVisibleSize().height,this.rWidth=81,this.rHeight=86,this.hardTime=1400,this.screenHeight=.5*cc.director.getVisibleSize().height+40,this.moveDistance=this.screenHeight-150,this.callOne=!0,this.containsArr=[],this.currentStage=0,this.animationStage=1,this.clickNumber=4,this.timerComp=this.timerT.getComponent("PUTimer"),this.timerComp.init(this),this.yellowArr=[],this.enemyYellowArr=[],this.enemySoldier=[],this.yellowFormation(),this.enemyYellowFormation(),this.readySoldier=[],this.readyZero=-1},startGame:function(){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var t=cc.delayTime(1.5),e=cc.callFunc(function(){n.HardModel?a.UMLevelCheck("levelHard10","start"):a.UMLevelCheck("level10","start"),this.stageOne(),n.HardModel&&cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(this.animationStage),this.returnMenu()},this);this.node.runAction(cc.sequence(t,e))},pauseWarTimer:function(){cc.director.getScheduler().pauseTarget(this.timerComp);for(var t=this,e=0;e<t.enemySoldier.length;++e)t.enemySoldier[e].pauseAllActions();for(e=0;e<t.readySoldier.length;++e)t.readySoldier[e].pauseAllActions();t.timerT.node.pauseAllActions()},resumeWarTimer:function(){cc.director.getScheduler().resumeTarget(this.timerComp);for(t=0;t<this.enemySoldier.length;++t)this.enemySoldier[t].resumeAllActions();for(var t=0;t<this.readySoldier.length;++t)this.readySoldier[t].resumeAllActions();this.timerT.node.resumeAllActions()},startTouchYellow:function(){for(var t=0;t<this.yellowArr.length;++t)this.yellowArr[t].getComponent("PUyellow").setInputControl()},closeTouchYellow:function(){for(var t=0;t<this.yellowArr.length;++t)this.yellowArr[t].getComponent("PUyellow").closeInputControl()},yellowFormation:function(){for(var t=0;t<24;++t){var e=cc.instantiate(this.yellowPf);t<6?e.setPosition(108*t-265,-328):t<12?e.setPosition(108*(t-6)-265,-238):t<18?e.setPosition(108*(t-12)-265,-148):e.setPosition(108*(t-18)-265,-58),e.tag=t,e.getComponent("PUyellow").init(this),this.node.addChild(e),this.yellowArr.push(e)}},readyArea:function(){this.readySoldier.sort(function(){return.5-Math.random()});for(var t=0;t<this.readySoldier.length;++t)switch(this.tipsSoldier.node.active=!0,this.tipsSoldier.node.parent=this.readySoldier[0],this.readySoldier[t].opacity=255,this.readySoldier.length){case 2:this.readyZero=2,this.readySoldier[t].setPosition(108*t-49,-418);break;case 4:this.readyZero=4,this.readySoldier[t].setPosition(108*t-157,-418);break;case 6:this.readyZero=6,this.readySoldier[t].setPosition(108*t-265,-418);break;case 8:this.readyZero=8,t<6?this.readySoldier[t].setPosition(108*t-265,-418):this.readySoldier[t].setPosition(108*(t-6)-49,-508);break;case 10:this.readyZero=10,t<6?this.readySoldier[t].setPosition(108*t-265,-418):this.readySoldier[t].setPosition(108*(t-6)-157,-508);break;case 12:this.readyZero=12,t<6?this.readySoldier[t].setPosition(108*t-265,-418):this.readySoldier[t].setPosition(108*(t-6)-265,-508)}},enemyYellowFormation:function(){for(var t=23;t>=0;--t){var e=cc.instantiate(this.yellowPf);e.tag=23-t,t<6?e.setPosition(108*(5-t)-265,this.screenHeight):t<12?e.setPosition(108*(11-t)-265,this.screenHeight+90):t<18?e.setPosition(108*(17-t)-265,this.screenHeight+180):e.setPosition(108*(23-t)-265,this.screenHeight+270),this.node.addChild(e),this.enemyYellowArr.push(e)}},enemyFormation:function(t){for(i in this.enemyYellowArr)if(this.enemyYellowArr[i].tag==t){var e=Math.floor(3*Math.random()),o=cc.instantiate(this.enemyPf[e]);o.tag=t,this.enemyYellowArr[i].addChild(o),this.enemySoldier.push(o);var n=cc.instantiate(this.friendPf[e]);n.opacity=0,this.node.addChild(n),this.readySoldier.push(n)}},enemyMoveDown:function(){for(var t=0;t<this.enemySoldier.length;++t)this.enemySoldier[t].runAction(cc.moveBy(1.5,cc.p(0,-this.moveDistance)))},randomPosition:function(t){var e=cc.callFunc(function(){for(var e=[],i=0;i<24;++i)e.push(i);for(e.sort(function(){return.5-Math.random()});this.containsArr.length!=t;){var o=parseInt(e.splice(0,1));this.containsArr.push(o),this.enemyFormation(o)}this.enemyMoveDown()},this),i=cc.delayTime(1.5),o=cc.callFunc(function(){this.readyArea(),this.timerComp.startmyUpdate(),this.startTouchYellow()},this);this.node.runAction(cc.sequence(e,i,o))},fixedPosition:function(){var t=arguments,e=cc.callFunc(function(){for(var e=0;e<t.length;++e){var i=t[e];this.containsArr.push(i),this.enemyFormation(i)}this.enemyMoveDown()},this),i=cc.delayTime(1.5),o=cc.callFunc(function(){this.readyArea(),this.timerComp.startmyUpdate(),this.startTouchYellow()},this);this.node.runAction(cc.sequence(e,i,o))},scoreDisplays:function(t){},correctSoldier:function(t,e,i){var o=this,s=cc.moveTo(i,cc.p(0,e-o.moveDistance)),a=cc.fadeOut(200),c=cc.callFunc(function(){var e=o.enemySoldier[t].name,i=0;"PUarexOne"==e?i=10:"PUarexTwo"==e?i=20:"PUarexThree"==e&&(i=30);var s=cc.instantiate(o.addScoreLabel),a=10*i*o.currentStage;o.scoreDisplay.string=parseInt(o.scoreDisplay.string)+a,s.getComponent(cc.Label).string=""+a,o.enemySoldier[t].addChild(s);var c=cc.instantiate(o.attackAnim);c.y=-10,o.enemySoldier[t].addChild(c),n.EffectOffset&&cc.audioEngine.play(o.killMusic[Math.floor(10*Math.random())])},o);o.enemySoldier[t].runAction(cc.sequence(s,c,a))},lossBloodAction:function(){var t=this;if(t.checkBlood(),0==t.clickNumber&&t.callOne){t.callOne=!1,t.timerComp.stopmyUpdate();var e=cc.delayTime(1.5),i=cc.callFunc(function(){t.clickN()},t);t.node.runAction(cc.sequence(e,i))}},errorSoldier:function(t,e,i){var o=this,n=cc.moveTo(i,cc.p(0,e-o.moveDistance)),s=cc.callFunc(function(){o.redLine.node.active=!0,o.redLine.node.runAction(cc.blink(.6,2))},o),a=cc.fadeOut(2),c=cc.callFunc(function(){o.lossBloodAction()},o);o.enemySoldier[t].runAction(cc.sequence(n,s,c,a))},friendError:function(t,e,i){var o=cc.moveTo(i,cc.p(0,e)),n=cc.fadeOut(2);this.readySoldier[t].runAction(cc.sequence(o,n))},startFight:function(){n.EffectOffset&&cc.audioEngine.play(this.downEffect,!1,.7);for(i in this.enemySoldier)this.enemySoldier[i].tag<6?254==this.enemySoldier[i].opacity?this.correctSoldier(i,-350,1.2):this.errorSoldier(i,-420,1.2):this.enemySoldier[i].tag<12?254==this.enemySoldier[i].opacity?this.correctSoldier(i,-260,.9):this.errorSoldier(i,-330,.9):this.enemySoldier[i].tag<18?254==this.enemySoldier[i].opacity?this.correctSoldier(i,-170,.6):this.errorSoldier(i,-240,.6):this.enemySoldier[i].tag<24&&(254==this.enemySoldier[i].opacity?this.correctSoldier(i,-80,.3):this.errorSoldier(i,-150,.3));for(i in this.readySoldier)this.readySoldier[i].parent!=this.node&&(this.readySoldier[i].tag<6?254==this.readySoldier[i].opacity?this.readySoldier[i].runAction(cc.sequence(cc.moveTo(1.2,cc.p(0,365)),cc.fadeOut(2))):this.friendError(i,435,1.2):this.readySoldier[i].tag<12?254==this.readySoldier[i].opacity?this.readySoldier[i].runAction(cc.sequence(cc.moveTo(.9,cc.p(0,275)),cc.fadeOut(2))):this.friendError(i,345,.9):this.readySoldier[i].tag<18?254==this.readySoldier[i].opacity?this.readySoldier[i].runAction(cc.sequence(cc.moveTo(.6,cc.p(0,185)),cc.fadeOut(2))):this.friendError(i,255,.6):this.readySoldier[i].tag<24&&(254==this.readySoldier[i].opacity?this.readySoldier[i].runAction(cc.sequence(cc.moveTo(.3,cc.p(0,95)),cc.fadeOut(2))):this.friendError(i,165,.3)))},destroySub:function(){this.tipsSoldier.node.parent=this.node,this.tipsSoldier.node.active=!1,this.containsArr.sort(function(t,e){return t>e});for(var t=0;t<this.containsArr.length;++t){var e=this.containsArr[t];this.enemyYellowArr[e].getChildByTag(e)&&this.enemyYellowArr[e].getChildByTag(e).destroy(),this.enemySoldier[t].destroy(),this.readySoldier[t].destroy()}},stageOne:function(){this.currentStage=1,this.timerComp.setTotalTime(800),this.soldierNum=2,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())?this.randomPosition(this.soldierNum):this.fixedPosition(12,17)},stageTwo:function(){this.destroySub(),this.currentStage=2,this.timerComp.setTotalTime(1e3),this.soldierNum=4,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())?this.randomPosition(this.soldierNum):this.fixedPosition(1,4,19,22)},stageThree:function(){this.destroySub(),this.currentStage=3,this.timerComp.setTotalTime(1280),this.soldierNum=6,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())?this.randomPosition(this.soldierNum):this.fixedPosition(6,11,13,16,20,21)},stageFour:function(){this.destroySub(),this.currentStage=4,this.timerComp.setTotalTime(1480),this.soldierNum=8,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())?this.randomPosition(this.soldierNum):this.fixedPosition(2,3,7,10,13,16,20,21)},stageFive:function(){this.destroySub(),this.currentStage=5,this.timerComp.setTotalTime(1600),this.soldierNum=10,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())?this.randomPosition(this.soldierNum):this.fixedPosition(1,4,6,11,12,13,16,17,20,21)},stageSix:function(){this.destroySub(),n.HardModel&&5!==this.currentStage?(this.currentStage++,this.hardTime-=50):this.currentStage=6,this.timerComp.setTotalTime(this.hardTime),this.soldierNum=10,this.containsArr=[],this.enemySoldier=[],this.readySoldier=[],0==Math.floor(2*Math.random())||n.HardModel?this.randomPosition(this.soldierNum):this.fixedPosition(6,8,9,11,12,13,16,17,18,23)},nextStage:function(){var t=this.currentStage;switch(t>=6&&(t=6),t){case 0:this.stageOne();break;case 1:this.stageTwo();break;case 2:this.stageThree();break;case 3:this.stageFour();break;case 4:this.stageFive();break;case 5:this.stageSix();break;case 6:n.HardModel?this.stageSix():this.overSuccess()}},checkBlood:function(){if(this.clickNumber>0){this.clickNumber--,n.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5),i=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1,this.redLine.node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}},clickN:function(){this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=cc.hide(),i=cc.scaleTo(0,.1),o=cc.show(),s=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),h=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),l=cc.delayTime(2.5),u=cc.delayTime(1),d=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),n.HardModel||a.UMLevelCheck("level10","fail"),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(t,0);var c=this,r=cc.callFunc(function(){n.MusicOffset&&cc.audioEngine.stop(n.duijiuBGM),n.HardModel&&n.EffectOffset?cc.audioEngine.play(c.victoryMusic,!1,1):n.EffectOffset&&cc.audioEngine.play(c.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(e,i,o,s,r))},this);this.node.runAction(cc.sequence(c,r,u,h,l,d))},overSuccess:function(){this.scoreDisplay.string=parseInt(this.scoreDisplay.string),this.callOne=!1,this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=cc.hide(),i=cc.scaleTo(0,.1),o=cc.show(),s=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),h=cc.delayTime(2.5),l=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11),n.HardModel||a.UMLevelCheck("level10","finish");var c=cc.find("Canvas/OverSucc").getComponent("GameOver");n.HardModel||c.judgeOnce(-1),c.battleScore(t,0);var r=this,h=cc.callFunc(function(){n.MusicOffset&&cc.audioEngine.stop(n.duijiuBGM),n.EffectOffset&&cc.audioEngine.play(r.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(e,i,o,s,h))},this);this.node.runAction(cc.sequence(c,r,h,l))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!n.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:n.returnOnce&&(n.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var o=(new Date).getTime();s.setLocalData("EXITTIME",o)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],PURarexOne:[function(t,e,i){"use strict";cc._RF.push(e,"953baXZ0SxCsJCddapH6W6y","PURarexOne");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PURarexThree:[function(t,e,i){"use strict";cc._RF.push(e,"2c14bScOBNKJK3Noxn2OO2+","PURarexThree");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PURarexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"b4b4fmBBsRAq5h1XpV9GnR8","PURarexTwo");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PUTimer:[function(t,e,i){"use strict";cc._RF.push(e,"fc48cRqXslHQ6BKWfxs0L+U","PUTimer");var o=t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:1500,game:{default:null,serializable:!1},yanWuAnim:{default:null,type:cc.Prefab,tooltip:"交战前烟雾动画"}},onLoad:function(){},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t;var e=Math.floor(this.totalTime/100),i=this.totalTime-100*Math.floor(this.totalTime/100);i<10&&(i="0"+i),this.timerDisplay.string=e+"",this.minutesDisplay.string=i+""},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",0==this.game.readyZero){this.game.readyZero=-1;var i=parseInt(100*(t+.01*e)*this.game.currentStage);this.game.scoreDisplay.string=parseInt(this.game.scoreDisplay.string)+i,this.game.scoreDisplays(i),t=0,e=0}if(t<=0&&e<=0){this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00";var n=cc.delayTime(2.5),s=cc.callFunc(function(){this.game.closeTouchYellow();var t=cc.instantiate(this.yanWuAnim);t.y=45,this.node.parent.addChild(t),t.getChildByName("yanWu").getComponent(cc.Animation).on("finished",function(e){t.destroy()},t)},this),a=cc.delayTime(1),c=cc.callFunc(function(){this.game.startFight()},this),r=cc.callFunc(function(){this.game.clickNumber>0&&(o.HardModel&&cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(++this.game.animationStage),this.game.nextStage())},this);this.node.runAction(cc.sequence(s,a,c,n,r))}},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],PUarexOne:[function(t,e,i){"use strict";cc._RF.push(e,"3815cb+aztL1oMi6P4hvH8v","PUarexOne");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PUarexThree:[function(t,e,i){"use strict";cc._RF.push(e,"af4ecjm1rhBjZmuj4xAXp+i","PUarexThree");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PUarexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"22759ui1C1HfKdFX8T4SsjH","PUarexTwo");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Common:"Common"}],PUyellow:[function(t,e,i){"use strict";cc._RF.push(e,"e0324Fw1IhAsKL/39elTrg1","PUyellow");var o=t("Common");cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},putSoldierEffect:{default:null,url:cc.AudioClip}},onLoad:function(){},init:function(t){this.game=t},addSoldier:function(){if(this.node.childrenCount<=0&&this.game.tipsSoldier.node.active)for(var t=this.game.readySoldier.length,e=0;e<t;++e)if(this.game.readySoldier[e].getChildByName("tips")){o.EffectOffset&&cc.audioEngine.play(this.putSoldierEffect,!1,1),this.game.readySoldier[e].parent=this.node,this.game.readySoldier[e].x=0,this.game.readySoldier[e].y=0,this.game.readySoldier[e].tag=this.node.tag,--this.game.readyZero<=0&&(this.game.readyZero=0);var i=this.game.enemyYellowArr[this.node.tag].children,n=null;i.length>0&&(n=i[0]).name.charAt(n.name.length-2)==this.game.readySoldier[e].name.charAt(this.game.readySoldier[e].name.length-2)&&(this.game.readySoldier[e].opacity=254,n.opacity=254),e==t-1?this.game.tipsSoldier.node.active=!1:this.game.tipsSoldier.node.parent=this.game.readySoldier[e+1],e=t}},setInputControl:function(){var t=this;t.node.on("touchstart",t.addSoldier,t)},closeInputControl:function(){var t=this;t.node.off("touchstart",t.addSoldier,t)}}),cc._RF.pop()},{Common:"Common"}],PVPArexOne:[function(t,e,i){"use strict";cc._RF.push(e,"c71e7zFHddDQJzm1qcF2kaN","PVPArexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},hengsaoEffect:{default:null,url:cc.AudioClip}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=o.oneArexScore,this.node.parent.getComponent("PVPGame").scoreDisplay.string=o.troopScore.toString(),o.HengSaoQianJun&&(o.EffectOffset&&cc.audioEngine.play(this.hengsaoEffect),this.node.parent.getComponent("PVPGame").hengSaoQianJunJN(this.node.x,this.node.y)))}}),cc._RF.pop()},{Common:"Common"}],PVPArexThree:[function(t,e,i){"use strict";cc._RF.push(e,"2f0ddv0JipNNqlf6HF/1kRF","PVPArexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},hengsaoEffect:{default:null,url:cc.AudioClip}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=o.threeArexScore,this.node.parent.getComponent("PVPGame").scoreDisplay.string=o.troopScore.toString(),o.HengSaoQianJun&&(o.EffectOffset&&cc.audioEngine.play(this.hengsaoEffect),this.node.parent.getComponent("PVPGame").hengSaoQianJunJN(this.node.x,this.node.y)))}}),cc._RF.pop()},{Common:"Common"}],PVPArexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"dd99aR6/lhCDo9tSa5GNkC0","PVPArexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},hengsaoEffect:{default:null,url:cc.AudioClip}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=o.twoArexScore,this.node.parent.getComponent("PVPGame").scoreDisplay.string=o.troopScore.toString(),o.HengSaoQianJun&&(o.EffectOffset&&cc.audioEngine.play(this.hengsaoEffect),this.node.parent.getComponent("PVPGame").hengSaoQianJunJN(this.node.x,this.node.y)))}}),cc._RF.pop()},{Common:"Common"}],PVPBomb:[function(t,e,i){"use strict";cc._RF.push(e,"9fb48adySBKi6FkcFchHRN8","PVPBomb");var o=t("Common");cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){o.EffectOffset&&cc.audioEngine.play(this.clickSound),this.node.parent.getComponent("PVPGame").clickErrorOver(this.node)}}),cc._RF.pop()},{Common:"Common"}],PVPGame:[function(t,e,i){"use strict";cc._RF.push(e,"130297xjJ9KcJ+Kv+tu/UbJ","PVPGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Sprite,temp:[],tempColor:[],rWidth:0,rHeight:0,oneBlink:!0,bombBool:!1,nullNode:cc.Node,ceMaTX:cc.Node,ceMaJN:cc.Node,ceMaBool:!0,skillTime:50,hengSaoTX:cc.Node,hengSaoEffect:cc.Prefab,hengSaoJN:cc.Node,skillTwoClickNum:30,cemaMusic:{default:null,url:cc.AudioClip},hengsaoMusic:{default:null,url:cc.AudioClip},threeCountry:{default:[],type:cc.Prefab,tooltip:"吴蜀魏"},scoreDisplay:{default:null,type:cc.Label,tooltip:"击杀得分显示"},arexPF:{default:[],type:cc.Prefab,tooltip:"块预制体"},startAnimPF:cc.Prefab,overVictory:{default:null,type:cc.Layout,tooltip:"胜利界面"},overFail:{default:null,type:cc.Layout,tooltip:"失败界面"},battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},failMusic:{default:null,url:cc.AudioClip,tooltip:"失败音效"},rainbowLine:{default:0,type:cc.Integer,tooltip:"每生成一行格子此值减1,为0时增加块速度"},timeScale:{default:0,type:cc.Float,tooltip:"时间缩放比例基数"},addTimeScale:{default:0,type:cc.Float,tooltip:"加速时,增加的时间"},waitLayer:cc.Node,guideSix:cc.Sprite,finalFailAnim:cc.Node,finalVictoryAnim:cc.Node,pvpInMenuFailFinal:cc.Prefab},onLoad:function(){if(cc.find("Canvas/left").setLocalZOrder(31),this.initData(),o.FirstGame)this.guideSix.node.active=!0,this.canOver=!1;else{var t=cc.instantiate(this.startAnimPF);t.getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,t.setLocalZOrder(10),this.node.parent.addChild(t)}this.scoreDisplay.string=o.troopScore.toString(),this.spawnLine(),this.spawnY+=10,this.returnMenu(),s.UMLevelCheck("levelPVP","start"),s.MultipleTouchState("open")},initData:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.4)),this.overVictory.getComponent("GameOver").init(this),this.overFail.getComponent("GameOver").init(this),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.resetLine=this.rainbowLine,this.bombBool=!1,this.canOver=!0,this.totalArr=[],this.spacing=parseInt((this.screenWidth-this.rWidth*o.Column)/(o.Column+1)),this.spacingX=-this.screenWidth/2+this.spacing+60,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.overHeight=.5*-this.screenHeight-20,this.recoverHeight=.5*-this.screenHeight-150,this.blockNodePool()},start:function(){if(!o.FirstGame){var t=cc.delayTime(3),e=cc.callFunc(function(){this.schedule(this.myUpdate,0)},this),i=cc.sequence(t,e);this.node.runAction(i)}},endAnimation:function(){var t=cc.instantiate(this.startAnimPF);t.opacity=0,t.runAction(cc.fadeIn(.2)),t.getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.setLocalZOrder(10),this.node.parent.addChild(t)},onDestroy:function(){this.arexOnePool.clear(),this.arexTwoPool.clear(),this.arexThreePool.clear(),this.bombPool.clear(),this.yellowPool.clear()},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++){this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.spawnLine(),this.rainbowLine<=0&&!o.CeMaChangQu&&(this.setTimeScales(this.timeScale),this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine)),o.HengSaoQianJun&&this.hengSaoQianJunTX(this.temp);for(var i=0;i<this.temp.length;i++)this.temp[i].getComponent("Scroll").myUpdate(t),this.temp[0].y<this.overHeight&&this.temp[i].tag<1004&&255==this.temp[i].opacity&&this.canOver&&this.oneBlink&&(this.oneBlink=!1,this.downOver(i)),o.CeMaChangQu&&(this.ceMaBool&&this.skillChangqu(),this.skillCema(i));this.temp[0].y<this.recoverHeight&&this.deleteLine(this.temp)}},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},downOver:function(t){o.FirstGame&&(o.newbieLast=!0);var e=cc.callFunc(function(){this.endAnimation()},this),i=cc.delayTime(3);o.SkillBool=!1,this.stopSkill(),this.nullNode.active=!0;var a=this.overFail.getComponent("GameOver"),c=parseInt(this.scoreDisplay.string),r=a.pvpRank(c);this.setTimeScales(1),this.temp[t].opacity=125,o.troopScore=0,this.stopUpdate();var h=cc.hide(),l=cc.scaleTo(0,.1),u=cc.show(),d=cc.scaleBy(.5,10),p=cc.callFunc(function(){for(var t=0;t<this.totalArr.length;t++)for(var e=0;e<this.totalArr[t].length;e++)this.totalArr[t][e].runAction(cc.moveBy(1,cc.p(0,150)))},this),m=cc.delayTime(1),g=this.temp[t],f=cc.callFunc(function(){g.runAction(cc.blink(1,3))},this);if(3==r||2==r){s.UMLevelCheck("levelPVP","fail");var C=this,y=cc.callFunc(function(){o.FinalState=!0,o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId);var t=cc.callFunc(function(){o.FirstGame&&(s.UMLevelCheck("newbie4","finish"),cc.find("Canvas/OverFail").getChildByName("return").getComponent(cc.Button).interactable=!1),C.waitLayer.active=!0,C.waitLayer.setLocalZOrder(11)},this),n=Math.floor(13*Math.random()+3),p=cc.delayTime(n);C.overFail.node.active=!0,C.overFail.node.setLocalZOrder(11),C.overFail.node.runAction(cc.hide()),o.FirstGame||(o.pvpInMenuFinal=cc.instantiate(this.pvpInMenuFailFinal),C.getUserData(o.pvpInMenuFinal,r,c),o.pvpInMenuFinal.getComponent("GameOver").pvpScore(r),o.pvpInMenuFinal.getComponent("GameOver").otherPlayerScore(o.pvpInMenuFinal,c,r,o.tribeColor,this));var m=cc.callFunc(function(){o.FinalState=!1,o.pvpInMenuFinal=null,C.getUserData(C.overFail.node,r,c),a.pvpScore(r),a.otherPlayerScore(C.overFail.node,c,r,o.tribeColor),C.waitLayer.active=!1,C.overFail.node.getChildByName("finalAction").active=!0,cc.find("Canvas/OverFail").getChildByName("return").getComponent(cc.Button).interactable=!0,o.EffectOffset&&cc.audioEngine.play(C.failMusic,!1,1),C.finalFailAnim.getComponent(cc.Animation).play()},C.overFail.node);C.overFail.node.runAction(cc.sequence(e,i,t,p,h,l,u,d,m))},C)}else if(1==r){s.UMLevelCheck("levelPVP","finish");var C=this,y=cc.callFunc(function(){C.overVictory.node.active=!0,C.overVictory.node.setLocalZOrder(11),C.overVictory.node.runAction(cc.hide()),o.FirstGame&&s.UMLevelCheck("newbie4","finish");var t=C.overVictory.getComponent("GameOver");n.setLocalData("troopScore",c);var a=cc.callFunc(function(){C.getUserData(C.overVictory.node,r,c),t.pvpScore(r),t.otherPlayerScore(C.overVictory.node,c,r,o.tribeColor)},C),p=cc.callFunc(function(){C.overVictory.node.getChildByName("finalAction").active=!0,o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(C.victoryMusic,!1,1),C.finalVictoryAnim.getComponent(cc.Animation).play()},C.overVictory.node);C.overVictory.node.runAction(cc.sequence(e,i,h,l,u,a,d,p))},C)}this.node.runAction(cc.sequence(p,m,f,m,y))},stopSkill:function(){o.HengSaoQianJun=!1,o.GuRuoJinTang=!1,o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=0,this.hengSaoTX.active=!1,this.hengSaoEffect.active=!1,this.skillTwoClickNum=0},clickErrorOver:function(t){if(this.canOver){var e=this;o.FirstGame&&(o.newbieLast=!0);var i=cc.callFunc(function(){this.endAnimation()},this),a=cc.delayTime(3);o.SkillBool=!1,this.stopSkill(),this.nullNode.active=!0;var c=this.overFail.getComponent("GameOver"),r=parseInt(this.scoreDisplay.string),h=c.pvpRank(r);this.setTimeScales(1),this.stopUpdate();var l=cc.blink(1,3),u=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(this.clickErrorMusic,!1,1)},t);t.runAction(cc.sequence(u,l));var d=cc.hide(),p=cc.scaleTo(0,.1),m=cc.show(),g=cc.scaleBy(.5,10),f=cc.delayTime(1);if(3==h||2==h){s.UMLevelCheck("levelPVP","fail");var C=this,y=cc.callFunc(function(){o.FinalState=!0,o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId);var t=cc.callFunc(function(){o.FirstGame&&(cc.find("Canvas/OverFail").getChildByName("return").getComponent(cc.Button).interactable=!1,s.UMLevelCheck("newbie4","finish")),C.waitLayer.active=!0,C.waitLayer.setLocalZOrder(11)},this),e=Math.floor(13*Math.random()+3),n=cc.delayTime(e);C.overFail.node.active=!0,C.overFail.node.setLocalZOrder(11),C.overFail.node.runAction(cc.hide()),o.FirstGame||(o.pvpInMenuFinal=cc.instantiate(this.pvpInMenuFailFinal),C.getUserData(o.pvpInMenuFinal,h,r),o.pvpInMenuFinal.getComponent("GameOver").pvpScore(h),o.pvpInMenuFinal.getComponent("GameOver").otherPlayerScore(o.pvpInMenuFinal,r,h,o.tribeColor,this));var l=cc.callFunc(function(){o.FinalState=!1,o.pvpInMenuFinal=null,C.getUserData(C.overFail.node,h,r),c.pvpScore(h),c.otherPlayerScore(C.overFail.node,r,h,o.tribeColor),C.waitLayer.active=!1,C.overFail.node.getChildByName("finalAction").active=!0,cc.find("Canvas/OverFail").getChildByName("return").getComponent(cc.Button).interactable=!0,o.EffectOffset&&cc.audioEngine.play(C.failMusic,!1,1),C.finalFailAnim.getComponent(cc.Animation).play()},C.overFail.node);C.overFail.node.runAction(cc.sequence(i,a,t,n,d,p,m,g,l))},C)}else if(1==h){s.UMLevelCheck("levelPVP","finish");var C=this,y=cc.callFunc(function(){o.FirstGame&&s.UMLevelCheck("newbie4","finish"),C.overVictory.node.active=!0,C.overVictory.node.setLocalZOrder(11),C.overVictory.node.runAction(cc.hide());var t=this,c=this.overVictory.getComponent("GameOver");n.setLocalData("troopScore",r);var l=cc.callFunc(function(){C.getUserData(C.overVictory.node,h,r),c.pvpScore(h),c.otherPlayerScore(C.overVictory.node,r,h,o.tribeColor)},C),u=cc.callFunc(function(){C.overVictory.node.getChildByName("finalAction").active=!0,o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(e.victoryMusic,!1,1),t.finalVictoryAnim.getComponent(cc.Animation).play()},this.overVictory.node);this.overVictory.node.runAction(cc.sequence(i,a,d,p,m,l,g,u))},this)}this.node.runAction(cc.sequence(f,y))}},stopUpdate:function(){this.unschedule(this.myUpdate)},beginUpdate:function(){this.schedule(this.myUpdate,0)},randomColor:function(){var t=Math.floor(12*Math.random()+1);if(t<5)this.tempColor.push(this.arexOnePool.get());else if(t<8)this.tempColor.push(this.arexTwoPool.get());else if(t<10)this.tempColor.push(this.arexThreePool.get());else if(t<12)this.bombBool=!0,this.tempColor.push(this.bombPool.get());else if(12!=t||o.SkillBool||o.FirstGame)this.tempColor.push(this.arexOnePool.get());else{o.SkillBool=!0;var e=cc.instantiate(this.arexPF[5]);e.tag=1005,this.tempColor.push(e)}Math.floor(10*Math.random()+1)<5?this.tempColor.push(this.arexOnePool.get()):t<9?this.tempColor.push(this.arexTwoPool.get()):this.tempColor.push(this.arexThreePool.get()),this.tempColor.push(this.yellowPool.get()),this.tempColor.push(this.yellowPool.get()),this.tempColor.sort(function(){return.5-Math.random()})},spawnLine:function(){this.rainbowLine--,this.bombBool=!1,this.randomColor();for(var t=0;t<this.tempColor.length;t++)this.tempColor[t].opacity=255,this.tempColor[t].parent=this.bgLayer.node,this.tempColor[t].setPosition(t*this.spacing+t*this.rWidth+this.spacingX,this.spawnY);this.totalArr.push(this.tempColor),this.tempColor=[]},deleteLine:function(t){this.totalArr.shift();for(var e=0;e<t.length;e++)switch(t[e].tag){case 1001:this.arexOnePool.put(t[e]);break;case 1002:this.arexTwoPool.put(t[e]);break;case 1003:this.arexThreePool.put(t[e]);break;case 1004:this.bombPool.put(t[e]);break;case 1006:this.yellowPool.put(t[e])}},blockNodePool:function(){this.arexOnePool=new cc.NodePool,this.arexTwoPool=new cc.NodePool,this.arexThreePool=new cc.NodePool,this.yellowPool=new cc.NodePool,this.bombPool=new cc.NodePool;for(var t=0;t<30;++t){var e=cc.instantiate(this.arexPF[0]);e.tag=1001,this.arexOnePool.put(e);var i=cc.instantiate(this.arexPF[1]);i.tag=1002,this.arexTwoPool.put(i);var o=cc.instantiate(this.arexPF[2]);o.tag=1003,this.arexThreePool.put(o);var n=cc.instantiate(this.arexPF[4]);n.tag=1004,this.bombPool.put(n)}for(var s=0;s<50;++s){var a=cc.instantiate(this.arexPF[3]);a.tag=1006,this.yellowPool.put(a)}},getUserData:function(t,e,i){1001==o.tribeColor?this.setRankBlock(t,0,e,o.NickName,i):1004==o.tribeColor?this.setRankBlock(t,1,e,o.NickName,i):1006==o.tribeColor&&this.setRankBlock(t,2,e,o.NickName,i)},setRankBlock:function(t,e,i,o,n){n<0&&(n=0);var s=cc.instantiate(this.threeCountry[e]);s.parent=t,s.setContentSize(40,40);var a=.5*t.width-100,c=.5*t.height-15-40*(i-1)-10*(i-1);s.setPosition(-204,c);var r=1.5;2===i?r+=.2:3===i&&(r+=.4),s.runAction(cc.moveTo(r,cc.p(a,c))),t.getComponent("GameOver").setPlayerNickname(o,i,n)},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,e){switch(t){case cc.KEY.back:break;case cc.KEY.home:var i=(new Date).getTime();n.setLocalData("EXITTIME",i)}}},t.node)}},skillChangqu:function(){o.EffectOffset&&cc.audioEngine.play(this.cemaMusic),this.ceMaBool=!1,this.ceMaTX.active=!0,this.ceMaTX.runAction(cc.show()),this.ceMaTX.getComponent(cc.Animation).play("jndh"),this.ceMaJN.active=!0},skillCema:function(t){this.temp[t].tag<1004&&255==this.temp[t].opacity&&(this.skillTime-=1,this.setTimeScales(5),this.addScore(this.temp[t])),0==this.skillTime&&(o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaBool=!0,this.ceMaTX.x=-470,this.ceMaTX.y=-30,this.skillTime=50,this.ceMaJN.active=!1,this.ceMaTX.runAction(cc.hide()),this.setTimeScales(this.timeScale),o.FirstGame&&(this.stopUpdate(),this.guideSix.node.getChildByName("NewNode").getComponent("NewDialogueSwitchSixThree").SkillHengSao=!0))},addScore:function(t){t.opacity=125,1003==t.tag?o.troopScore+=o.threeArexScore:1002==t.tag?o.troopScore+=o.twoArexScore:1001==t.tag&&(o.troopScore+=o.oneArexScore),this.scoreDisplay.string=o.troopScore.toString()},hengSaoQianJunTX:function(){if(30==this.skillTwoClickNum){o.EffectOffset&&cc.audioEngine.play(this.hengsaoMusic),o.FirstGame&&(this.canOver=!0),this.skillTwoClickNum--,this.hengSaoTX.active=!0,this.hengSaoTX.runAction(cc.show());var t=cc.delayTime(1),e=cc.hide();this.hengSaoTX.runAction(cc.sequence(t,e))}},hengSaoQianJunJN:function(t,e){var i=this,n=cc.instantiate(this.hengSaoEffect);n.parent=this.node,n.x=.5*-this.screenWidth,n.y=e,this.skillTwoClickNum--;for(var s=this.totalArr,a=0;a<s.length;++a)if(this.temp=s[a],this.temp[0].y==e)for(var c=0;c<this.temp.length;++c)if(this.temp[c].x!=t&&255==this.temp[c].opacity&&1004!=this.temp[c].tag&&1005!=this.temp[c].tag&&1006!=this.temp[c].tag){this.temp[c].runAction(cc.fadeOut(1));var r=cc.delayTime(.3),h=i.temp[c],l=cc.callFunc(function(){i.addScore(h)},i);i.node.runAction(cc.sequence(r,l))}this.skillTwoClickNum,this.skillTwoClickNum<=0&&(n.runAction(cc.blink(1,3)),o.HengSaoQianJun=!1,o.SkillBool=!1,this.hengSaoTX.active=!1,this.hengSaoEffect.active=!0,this.skillTwoClickNum=30)}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],PVPMode:[function(t,e,i){"use strict";cc._RF.push(e,"7f99bAh8uVAiKDsMWwHi6lr","PVPMode");var o=t("Common"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{pvpModeLayer:cc.Sprite,modeSelect:cc.Sprite,matchLayer:cc.Layout,matchSuccess:cc.Layout,haveTroop:0,redArrow:cc.Node,menuTroopLabel:cc.Label,waitFinial:cc.Sprite,pageView:{default:null,type:cc.PageView}},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this)},playFinalUi:function(){var t=o.pvpInMenuFinal;o.pvpInMenuFinal=null,t.setPosition(cc.p(-320,-568)),this.node.addChild(t)},twoThousand:function(){o.FinalState?this.waitFinial.node.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))):null!==o.pvpInMenuFinal?this.playFinalUi():(this.haveTroop=parseInt(n.getLocalData("Score")),o.FirstGame&&(this.haveTroop=2e3),this.haveTroop>=2e3?(o.pvpNumber=2e3,o.oneArexScore=10,o.twoArexScore=20,o.threeArexScore=30,this.modeSelect.node.active=!1,this.matchLayer.node.active=!0,o.FirstGame&&(this.redArrow.active=!1)):this.troopBlink())},tenThousand:function(){o.FinalState?this.waitFinial.node.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))):null!==o.pvpInMenuFinal?this.playFinalUi():(this.haveTroop=parseInt(n.getLocalData("Score")),this.haveTroop>=1e4?(o.pvpNumber=1e4,o.oneArexScore=15,o.twoArexScore=30,o.threeArexScore=45,this.modeSelect.node.active=!1,this.matchLayer.node.active=!0):this.troopBlink())},oneHundredThousand:function(){o.FinalState?this.waitFinial.node.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))):null!==o.pvpInMenuFinal?this.playFinalUi():(this.haveTroop=parseInt(n.getLocalData("Score")),this.haveTroop>=1e5?(o.pvpNumber=1e5,o.oneArexScore=80,o.twoArexScore=160,o.threeArexScore=240,this.modeSelect.node.active=!1,this.matchLayer.node.active=!0):this.troopBlink())},million:function(){o.FinalState?this.waitFinial.node.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))):null!==o.pvpInMenuFinal?this.playFinalUi():(this.haveTroop=parseInt(n.getLocalData("Score")),this.haveTroop>=1e6?(o.pvpNumber=1e6,o.oneArexScore=700,o.twoArexScore=1400,o.threeArexScore=2100,this.modeSelect.node.active=!1,this.matchLayer.node.active=!0):this.troopBlink())},troopBlink:function(){var t=cc.blink(1,3);this.menuTroopLabel.node.runAction(t),cc.find("Canvas/troopNoneNode").active=!0},returnBut:function(){cc.director.loadScene("MenuScene")}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],PVPSkill:[function(t,e,i){"use strict";cc._RF.push(e,"0b94ch5cy5OSqDGLOD/rjky","PVPSkill");var o=t("Common");cc.Class({extends:cc.Component,properties:{ceMa:{default:null,type:cc.Button,tooltip:"策马长驱"},hengSao:{default:null,type:cc.Button,tooltip:"横扫千军"},guRuo:{default:null,type:cc.Button,tooltip:"固若金汤"}},onLoad:function(){this.randomSkill()},randomSkill:function(){if(o.SkillBool){var t=Math.floor(7*Math.random()+1);t<4?this.ceMa.node.active=!0:t<8?this.hengSao.node.active=!0:this.ceMa.node.active=!0}},cemachangqu:function(){o.CeMaChangQu=!0,this.node.runAction(cc.fadeOut(1)),this.ceMa.enabled=!1},hengsaoqianjun:function(){o.HengSaoQianJun=!0,this.node.runAction(cc.fadeOut(1)),this.hengSao.enabled=!1},guruojintang:function(){o.GuRuoJinTang=!0,this.node.runAction(cc.fadeOut(1)),this.guRuo.enabled=!1}}),cc._RF.pop()},{Common:"Common"}],PVPWaitLayer:[function(t,e,i){"use strict";cc._RF.push(e,"8adaa5eEFdPm5G+VSDzl76A","PVPWaitLayer"),cc.Class({extends:cc.Component,properties:{rotateSprite:cc.Sprite},onLoad:function(){this.game=cc.find("Canvas/Background").getComponent("PVPGame");var t=cc.rotateBy(1.5,70);this.rotateSprite.node.runAction(cc.repeatForever(t))}}),cc._RF.pop()},{}],PVPYellow:[function(t,e,i){"use strict";cc._RF.push(e,"6599ffDIxBFTYXAQ9QJntlU","PVPYellow"),cc._RF.pop()},{}],PageViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"a2438sAQb9D4ovhECesqeZP","PageViewCtrl"),cc.Class({extends:cc.Component,properties:{pageView:{default:null,type:cc.PageView},leftArrow:{default:null,type:cc.Sprite},rightArrow:{default:null,type:cc.Sprite},pvpModeLayout:{default:null,type:cc.Sprite}},onLoad:function(){this.pageViewComp=this.pageView.getComponent(cc.PageView),this.leftArrow.node.active=!1,this.pvpComponent=this.pvpModeLayout.node.getComponent("PVPMode")},leftArrowBut:function(){var t=this.pageViewComp.getCurrentPageIndex();this.pageView.getComponent(cc.PageView).scrollToPage(--t)},rightArrowBut:function(){var t=this.pageViewComp.getCurrentPageIndex();this.pageView.getComponent(cc.PageView).scrollToPage(++t)},startPvPMode:function(){var t=this.pageViewComp.getCurrentPageIndex();0===t?this.pvpComponent.twoThousand():1===t?this.pvpComponent.tenThousand():2===t?this.pvpComponent.oneHundredThousand():3===t&&this.pvpComponent.million()},update:function(){0===this.pageViewComp.getCurrentPageIndex()?(this.leftArrow.node.active=!1,this.rightArrow.node.active=!0):3===this.pageViewComp.getCurrentPageIndex()?(this.leftArrow.node.active=!0,this.rightArrow.node.active=!1):(this.leftArrow.node.active=!0,this.rightArrow.node.active=!0)}}),cc._RF.pop()},{}],PersonalRanking:[function(t,e,i){"use strict";cc._RF.push(e,"cd7cbBDWoFNiYxqE/L5sQ+6","PersonalRanking");t("Common");cc.Class({extends:cc.Component,properties:{personWei:{default:null,type:cc.Sprite,tooltip:"魏国底色"},personShu:{default:null,type:cc.Sprite,tooltip:"蜀国底色"},personWu:{default:null,type:cc.Sprite,tooltip:"吴国底色"},playerName:{default:null,type:cc.Label,tooltip:"玩家昵称"},playerTroop:{default:null,type:cc.Label,tooltip:"玩家拥有兵力"}},onLoad:function(){},setNameAndTroop:function(t,e,i){1001==t?(this.personWu.node.opacity=255,this.personShu.node.opacity=0,this.personWei.node.opacity=0):1004==t?(this.personShu.node.opacity=255,this.personWei.node.opacity=0,this.personWu.node.opacity=0):1006==t&&(this.personWei.node.opacity=255,this.personWu.node.opacity=0,this.personShu.node.opacity=0),this.playerName.string=e,this.playerTroop.string=i.toString()}}),cc._RF.pop()},{Common:"Common"}],PersonalViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"583e3n/IrZJqKgkRgvZqvj/","PersonalViewCtrl");var o=t("Common"),n=t("NickName"),s=t("StorageData");cc.Class({extends:cc.Component,properties:{rankTemplate:{default:null,type:cc.Prefab,tooltip:"排名条模板"},topThree:{default:[],type:cc.Sprite,tooltip:"前三名"},allRanking:{default:null,type:cc.Prefab,tooltip:"名次4-1000"},scrollView:{default:null,type:cc.ScrollView},spawnCount:{default:0,type:cc.Integer,tooltip:"实际生成的项"},totalCount:{default:0,type:cc.Integer,tooltip:"整个列表多少项"},spacing:{default:0,type:cc.Integer,tooltip:"项间距"},bufferZone:{default:0,type:cc.Integer,tooltip:"当项离开此位置,我们重新定位项位置"}},onLoad:function(){for(var t=0;t<3;++t)this.topThree[t].node.setLocalZOrder(10);if(this.currentTime=[],this.diffHour=0,this.content=this.scrollView.content,this.items=[],this.tempHeight=77,this.personalRank=[],null===s.getLocalData("PERSONALDATA")){var e=new Date,i=e.getFullYear();this.currentTime.push(i);var o=e.getMonth()+1;this.currentTime.push(o);var n=e.getDate();this.currentTime.push(n);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),s.setLocalData("InitTimePerson",JSON.stringify(this.currentTime)),this.initPersonalData()}else this.personalRank=JSON.parse(s.getLocalData("PERSONALDATA"));this.initialize()},initialize:function(){this.content.height=this.totalCount*(this.tempHeight+this.spacing)+this.spacing;for(var t=0;t<this.spawnCount;++t){var e=cc.instantiate(this.rankTemplate);if(e.getComponent("PersonalRanking").setNameAndTroop(this.personalRank[t][1].power,this.personalRank[t][1].name,this.personalRank[t][0]),this.content.addChild(e),e.setPosition(0,-e.height*(.5+t)-this.spacing*(t+1)),this.items.push(e),t>2){var i=cc.instantiate(this.allRanking);i.getComponent(cc.Label).string=t+1,this.content.addChild(i),i.setPositionY(-e.height*(.5+t)-this.spacing*(t+1))}}},updatePersonalRank:function(){for(var t=0;t<this.items.length;++t)this.items[t].getComponent("PersonalRanking").setNameAndTroop(this.personalRank[t][1].power,this.personalRank[t][1].name,this.personalRank[t][0])},initPersonalData:function(){for(var t=[],e=0;e<300;++e){var i=[1e3,{name:"",power:1001}];i[1].name=this.randomNickName(),i[1].power=this.randomPower();var n=this.randomTroop();i[0]=n,t.push(i)}t=t.sort(function(t,e){return e[0]-t[0]}),this.personalRank=t,s.setLocalData("PERSONALDATA",JSON.stringify(this.personalRank)),o.PersonInitData=t,s.setLocalData("PERSONALDATAinit",JSON.stringify(o.PersonInitData))},randomNickName:function(){var t="",e=o.NickNameUnit[Math.floor(Math.random()*o.NickNameUnit.length)];e=e.split(""),e=JSON.parse("["+String(e)+"]");for(var i=0;i<e.length;++i){var s=Math.floor(Math.random()*n[e[i]].length);t+=n[e[i]][s]}return t},randomPower:function(){var t=Math.floor(3*Math.random());return 0===t?1001:1===t?1004:1006},randomTroop:function(){var t=Math.floor(49e4*Math.random()+1e4);return t},quickSortTroop:function(t){if(t.length<=1)return t;for(var e=[],i=[],o=Math.floor(t.length-1),n=t.splice(o,1)[0],s=0;s<t.length;s++)t[s]<n?e.push(t[s]):i.push(t[s]);return this.quickSortTroop(e).concat([n],this.quickSortTroop(i))},insertPlayerScore:function(){var t=[1e3,{name:"",power:1001}];t[0]=s.getLocalData("Score"),t[1].name=cc.sys.localStorage.getItem("account"),t[1].power=s.getLocalData("Tribe");var e=!0;if(t[0]>=this.personalRank[this.personalRank.length-200][0]){for(i=0;i<this.spawnCount;++i)t[1].name==this.personalRank[i][1].name&&t[1].power==this.personalRank[i][1].power&&(this.personalRank[i][0]=t[0],e=!1,i=this.spawnCount);e&&(this.personalRank[this.personalRank.length-200][0]=t[0],this.personalRank[this.personalRank.length-200][1].name=t[1].name,this.personalRank[this.personalRank.length-200][1].power=t[1].power)}else for(var i=0;i<this.spawnCount;++i)t[1].name==this.personalRank[i][1].name&&t[1].power==this.personalRank[i][1].power&&(this.personalRank[i][0]=t[0],i=this.spawnCount)},calculateTimeDiff:function(){this.diffHour=0;var t=[];this.currentTime=[];var e=new Date,i=e.getFullYear();this.currentTime.push(i);var o=e.getMonth()+1;this.currentTime.push(o);var n=e.getDate();this.currentTime.push(n);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),t=this.currentTime,null===s.getLocalData("InitTimePerson")?s.setLocalData("InitTimePerson",JSON.stringify(this.currentTime)):t=JSON.parse(s.getLocalData("InitTimePerson"));for(var c=!1,r=0;r<3;++r)this.currentTime[r]===t[r]?c=!0:(c=!1,this.diffHour=this.currentTime[3]+24-t[3],r=3);if(c&&(this.diffHour=this.currentTime[3]-t[3]),this.diffHour>=1){for(s.setLocalData("InitTimePerson",JSON.stringify(this.currentTime)),this.diffHour>5&&(this.diffHour=5),this.personalRank=JSON.parse(s.getLocalData("PERSONALDATA"));this.diffHour>0;)this.increaseOrMinus(),--this.diffHour;this.insertPlayerScore(),this.personalRank=this.personalRank.sort(function(t,e){return e[0]-t[0]}),s.setLocalData("PERSONALDATA",JSON.stringify(this.personalRank)),this.updatePersonalRank()}},increaseOrMinus:function(){for(var t=.3,e=0;e<this.personalRank.length;++e)t=parseFloat((1.7*Math.random()+.3).toFixed(2)),this.personalRank[e][0]=parseInt(this.personalRank[e][0]*t)}}),cc._RF.pop()},{Common:"Common",NickName:"NickName",StorageData:"StorageData"}],PingAiNode:[function(t,e,o){"use strict";cc._RF.push(e,"589dbIaayNAyK83ZeGuNLBk","PingAiNode"),cc.Class({extends:cc.Component,properties:{myArexPf:{default:[],type:cc.Prefab,tooltip:"AI方1,2,3级,随机兵"},ruleSoldier:{default:[],type:cc.Node,tooltip:"1,2,3级规则兵"},myTroop:{default:null,type:cc.Node,tooltip:"我方组件"}},onLoad:function(){this.randomArr=[],this.currentSoldierAi=null,this.myComponent=this.myTroop.getComponent("PingMyNode"),this.xPosArr=[];for(var t=0;t<3;++t)this.xPosArr.push(this.ruleSoldier[t].getPositionX())},startGame:function(){var t=this,e=cc.delayTime(.6),i=cc.callFunc(function(){t.ruleRandom()});t.node.runAction(cc.sequence(e,i))},currentRule:function(){this.max=null,this.middle=null,this.min=null;for(var t=0;t<3;++t)3==this.ruleSoldier[t].tag?this.max=this.ruleSoldier[t]:2==this.ruleSoldier[t].tag?this.middle=this.ruleSoldier[t]:this.min=this.ruleSoldier[t]},aiDispatchSoldier:function(){this.currentRule();var t=cc.delayTime(1),e=cc.callFunc(function(){if(this.myComponent.currentSoldierMy)this.findBigPlayer()||((t=Math.floor(10*Math.random()+1))<8?this.findSoldier(this.max):t<10?this.findSoldier(this.middle):this.findSoldier(this.min));else{var t=Math.floor(10*Math.random()+1);t<8?this.findSoldier(this.max):t<10?this.findSoldier(this.middle):this.findSoldier(this.min)}},this);this.node.runAction(cc.sequence(t,e))},findBigPlayer:function(){if(!(this.randomArr.length<=0)){if(this.myComponent.currentSoldierMy.tag==this.max.tag){if("arexOne"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexOne"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexTwo"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexTwo"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexThree"==this.max.name)for(t=0;t<this.randomArr.length;++t)if("PingarexThree"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if(this.myComponent.currentSoldierMy.tag==this.middle.tag){if("arexOne"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexOne"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexTwo"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexTwo"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexThree"==this.max.name)for(t=0;t<this.randomArr.length;++t)if("PingarexThree"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if(this.myComponent.currentSoldierMy.tag==this.min.tag){if("arexOne"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexOne"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexTwo"==this.max.name){for(t=0;t<this.randomArr.length;++t)if("PingarexTwo"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexThree"==this.max.name)for(t=0;t<this.randomArr.length;++t)if("PingarexThree"==this.randomArr[t].name)return this.randomArr[t].tag=this.max.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0;if("arexOne"==this.middle.name){for(t=0;t<this.randomArr.length;++t)if("PingarexOne"==this.randomArr[t].name)return this.randomArr[t].tag=this.middle.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexTwo"==this.middle.name){for(t=0;t<this.randomArr.length;++t)if("PingarexTwo"==this.randomArr[t].name)return this.randomArr[t].tag=this.middle.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}else if("arexThree"==this.middle.name)for(var t=0;t<this.randomArr.length;++t)if("PingarexThree"==this.randomArr[t].name)return this.randomArr[t].tag=this.middle.tag,this.randomArr[t].getComponent("PingArex").movePos(),t=this.randomArr.length,!0}return!1}},findSoldier:function(t){if(!(this.randomArr.length<=0)){var e=!0;if("arexOne"==t.name)for(o=0;o<this.randomArr.length;++o)"PingarexOne"==this.randomArr[o].name&&(this.randomArr[o].tag=t.tag,this.randomArr[o].getComponent("PingArex").movePos(),o=this.randomArr.length,e=!1);else if("arexTwo"==t.name)for(o=0;o<this.randomArr.length;++o)"PingarexTwo"==this.randomArr[o].name&&(this.randomArr[o].tag=t.tag,this.randomArr[o].getComponent("PingArex").movePos(),o=this.randomArr.length,e=!1);else if("arexThree"==t.name)for(o=0;o<this.randomArr.length;++o)"PingarexThree"==this.randomArr[o].name&&(this.randomArr[o].tag=t.tag,this.randomArr[o].getComponent("PingArex").movePos(),o=this.randomArr.length,e=!1);if(e){for(var i=!0,o=0;o<this.randomArr.length;++o)"PingarexRandom"==this.randomArr[o].name&&(this.randomArr[o].getComponent("PingRandomArex").movePos(),o=this.randomArr.length,i=!1);if(i){var n=Math.floor(Math.random()*this.randomArr.length);1==this.randomArr.length&&(n=0);var s=this.randomArr[n].name;if("PingarexOne"==s)for(a=0;a<this.ruleSoldier.length;++a)"arexOne"==this.ruleSoldier[a].name&&(this.randomArr[n].tag=this.ruleSoldier[a].tag,this.randomArr[n].getComponent("PingArex").movePos());else if("PingarexTwo"==s)for(a=0;a<this.ruleSoldier.length;++a)"arexTwo"==this.ruleSoldier[a].name&&(this.randomArr[n].tag=this.ruleSoldier[a].tag,this.randomArr[n].getComponent("PingArex").movePos());else if("PingarexThree"==s)for(var a=0;a<this.ruleSoldier.length;++a)"arexThree"==this.ruleSoldier[a].name&&(this.randomArr[n].tag=this.ruleSoldier[a].tag,this.randomArr[n].getComponent("PingArex").movePos());i=!1}}}},removeNode:function(t){for(i in this.randomArr)this.randomArr[i]==t&&(t.destroy(),this.randomArr.splice(i,1))},randomTroop:function(){this.randomArr=[];for(n=0;n<2;++n){var t=cc.instantiate(this.myArexPf[0]);t.opacity=0,this.randomArr.push(t);var e=cc.instantiate(this.myArexPf[1]);e.opacity=0,this.randomArr.push(e);var i=cc.instantiate(this.myArexPf[2]);i.opacity=0,this.randomArr.push(i);var o=cc.instantiate(this.myArexPf[3]);o.opacity=0,this.randomArr.push(o)}this.randomArr.sort(function(){return.5-Math.random()});for(n=0;n<this.randomArr.length;++n)n<4?this.randomArr[n].setPosition(140*n-210,0):this.randomArr[n].setPosition(140*(n-4)-210,130),"PingarexRandom"==this.randomArr[n].name&&this.randomArr[n].getComponent("PingRandomArex").init(this),this.node.addChild(this.randomArr[n]);for(var n=0;n<this.randomArr.length;++n)this.randomArr[n].runAction(cc.fadeIn(1))},randomChange:function(t){this.currentRule();var e=Math.floor(10*Math.random()+1),i=-1;e<6?("arexOne"==this.max.name?i=0:"arexTwo"==this.max.name&&(i=1),"arexThree"==this.max.name&&(i=2)):e<9?("arexOne"==this.middle.name?i=0:"arexTwo"==this.middle.name&&(i=1),"arexThree"==this.middle.name&&(i=2)):("arexOne"==this.min.name?i=0:"arexTwo"==this.min.name&&(i=1),"arexThree"==this.min.name&&(i=2)),this.copySoldier(t,i),this.removeNode(t)},copySoldier:function(t,e){var i=cc.instantiate(this.myArexPf[e]);i.setPosition(t.x,t.y);for(var o=this.ruleSoldier,n=0;n<o.length;++n)"PingarexOne"==i.name&&"arexOne"==o[n].name?(i.tag=o[n].tag,n=o.length):"PingarexTwo"==i.name&&"arexTwo"==o[n].name?(i.tag=o[n].tag,n=o.length):"PingarexThree"==i.name&&"arexThree"==o[n].name&&(i.tag=o[n].tag,n=o.length);this.node.addChild(i),this.currentSoldierAi=i},changeRed:function(){for(var t=0;t<3;++t)this.ruleSoldier[t].getChildByName("red").runAction(cc.show()),this.ruleSoldier[t].getChildByName("black").runAction(cc.hide())},changeBlack:function(){for(var t=0;t<3;++t)this.ruleSoldier[t].getChildByName("red").runAction(cc.hide()),this.ruleSoldier[t].getChildByName("black").runAction(cc.show())},setNewPosition:function(t,e,i){var o=cc.callFunc(function(){this.ruleSoldier[t].setPosition(i[e]),this.ruleSoldier[t].x==this.xPosArr[0]?this.ruleSoldier[t].tag=3:this.ruleSoldier[t].x==this.xPosArr[1]?this.ruleSoldier[t].tag=2:this.ruleSoldier[t].x==this.xPosArr[2]&&(this.ruleSoldier[t].tag=1)},this);this.ruleSoldier[t].runAction(cc.sequence(cc.moveTo(.7,this.ruleSoldier[e].getPosition()),o))},ruleMove:function(t,e,i){for(var o=[],n=0;n<3;++n)o.push(this.ruleSoldier[n].getPosition());var s=cc.callFunc(function(){this.changeRed()},this),a=cc.callFunc(function(){this.setNewPosition(0,t,o),this.setNewPosition(1,e,o),this.setNewPosition(2,i,o)},this),c=cc.delayTime(1.5),r=cc.callFunc(function(){this.changeBlack(),this.myComponent.setSoldierTag()},this);this.node.runAction(cc.sequence(s,a,c,r))},ruleRandom:function(){switch(Math.floor(6*Math.random())){case 0:this.ruleMove(0,2,1);break;case 1:this.ruleMove(0,1,2);break;case 2:this.ruleMove(1,0,2);break;case 3:this.ruleMove(1,2,0);break;case 4:this.ruleMove(2,0,1);break;case 5:this.ruleMove(2,1,0)}}}),cc._RF.pop()},{}],PingArex:[function(t,e,i){"use strict";cc._RF.push(e,"6e5deW0WJhM5LzOB+181N5v","PingArex");var o=t("Common");cc.Class({extends:cc.Component,properties:{putEffect:{default:null,url:cc.AudioClip,tooltip:"放置音效"}},onLoad:function(){},movePos:function(){o.EffectOffset&&cc.audioEngine.play(this.putEffect,!1,1);var t=this,e=cc.moveTo(1,cc.p(0,-140)),i=cc.callFunc(function(){var e=-1;"PingarexOne"==t.node.name?e=0:"PingarexTwo"==t.node.name?e=1:"PingarexThree"==t.node.name&&(e=2),t.node.parent.getComponent("PingAiNode").copySoldier(t.node,e),t.node.parent.getComponent("PingAiNode").removeNode(t.node)},t);t.node.runAction(cc.sequence(e,i))}}),cc._RF.pop()},{Common:"Common"}],PingGame:[function(t,e,i){"use strict";cc._RF.push(e,"27b3bRRzFdEwJ2ejbeFSf1g","PingGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{arrowUp:{default:null,type:cc.Sprite,tooltip:"AI先手"},arrowDown:{default:null,type:cc.Sprite,tooltip:"我方随机先手"},myTroop:{default:null,type:cc.Node,tooltip:"我方组件"},aiTroop:{default:null,type:cc.Node,tooltip:"敌方组件"},attackAnim:{default:null,type:cc.Prefab,tooltip:"交战动画"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},aiHaveBlood:{default:[],type:cc.Sprite,tooltip:"my拥有血量"},aiLossBlood:{default:[],type:cc.Sprite,tooltip:"my损耗血量"},aiLossBloodEffect:{default:[],type:cc.Sprite,tooltip:"my掉血效果"},overBattle:{default:null,type:cc.Layout,tooltip:"失败结算"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},resumeBloodMusic:{default:null,url:cc.AudioClip},resumeBloodEffect:{default:null,type:cc.Prefab,tooltip:"回血效果"},myHaveBlood:{default:[],type:cc.Sprite,tooltip:"ai拥有血量"},myLossBlood:{default:[],type:cc.Sprite,tooltip:"ai损耗血量"},myLossBloodEffect:{default:[],type:cc.Sprite,tooltip:"ai掉血效果"},killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},nullNode:cc.Node,startAnim:cc.Node,yanwuBG:cc.Sprite,exitBox:cc.Prefab},onLoad:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.duijiuBGM=cc.audioEngine.play(this.battleMusic,!0,.3)),o.returnOnce=!0,this.yanwuBG.node.active=!0,this.currentStage=1,this.stopActionStage=this.currentStage,this.callOne=!0,this.aiClickNumber=5,this.aiStoreBlood=this.aiClickNumber,this.myClickNumber=5,this.myStoreBlood=this.myClickNumber,this.currentStageBlood=this.myClickNumber,this.hardNextFlag=!0,this.aiDispatch=!0,this.myDispatch=!0,this.completed=0,this.finishGame=!1,this.aiComponent=this.aiTroop.getComponent("PingAiNode"),this.myComponent=this.myTroop.getComponent("PingMyNode"),this.succFlag=!0,this.callOnce=!0,this.index=0},hardInitNext:function(){this.aiDispatch=!0,this.myDispatch=!0,this.completed=0,this.finishGame=!1,this.aiComponent.currentSoldierAi=null,this.myComponent.currentSoldierMy=null},hardNextBo:function(){this.currentStage++,this.arrowUp.node.active=!1,this.arrowDown.node.active=!1,cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(this.currentStage);var t=cc.callFunc(function(){this.removeResourse(),this.aiComponent.changeRed(),this.aiComponent.ruleRandom()},this),e=cc.delayTime(1),i=cc.callFunc(function(){this.hardInitNext(),this.randomSente(),this.myComponent.randomTroop(),this.aiComponent.randomTroop(),this.arrowUp.node.active?this.aiComponent.aiDispatchSoldier():this.myComponent.openControl(),this.aiFullBlood(),this.myClickNumber===this.currentStageBlood&&this.myAddOneBlood(),this.myAddOneBlood(),this.currentStageBlood=this.myClickNumber,this.hardNextFlag=!0},this);this.node.runAction(cc.sequence(t,e,i))},startGame:function(){this.randomSente(),this.myComponent.randomTroop(),this.aiComponent.changeRed(),this.aiComponent.randomTroop(),this.aiComponent.startGame(),this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var t=cc.delayTime(3),e=cc.callFunc(function(){this.arrowUp.node.active?this.aiComponent.aiDispatchSoldier():this.myComponent.openControl()},this),i=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard11","start"):s.UMLevelCheck("level11","start"),this.schedule(this.myUpdate,0),this.returnMenu()},this);if(o.HardModel){var n=cc.delayTime(1),a=cc.callFunc(function(){cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(this.currentStage)},this);this.node.runAction(cc.sequence(t,a,n,e,i))}else this.node.runAction(cc.sequence(t,e,i))},aiSetSoldier:function(){this.arrowUp.node.active=!0,this.arrowUp.node.runAction(cc.show()),this.arrowUp.node.runAction(cc.blink(1,3)),this.arrowDown.node.active=!1},mySetSoldier:function(){this.arrowDown.node.active=!0,this.arrowDown.node.runAction(cc.show()),this.arrowDown.node.runAction(cc.blink(1,3)),this.arrowUp.node.active=!1},allSetSoldier:function(t,e){if(e.tag>t.tag){i=e.tag-t.tag;this.bigForward(e,t,50,i,0)}else if(t.tag>e.tag){var i=t.tag-e.tag;this.bigForward(t,e,-50,i,1)}else{var n=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]);var e=cc.instantiate(this.attackAnim);e.setPosition(10,-50),t.addChild(e)},this),s=cc.callFunc(function(){var i=cc.callFunc(function(){t.destroy(),e.destroy(),this.myComponent.currentSoldierMy=null,this.aiComponent.currentSoldierAi=null,t=null,e=null},this);t.runAction(cc.fadeOut(1)),e.runAction(cc.sequence(cc.fadeOut(1),i))},this),a=cc.delayTime(1),c=cc.callFunc(function(){if(this.aiClickNumber>0)if(0!=this.aiComponent.randomArr.length||0!=this.myComponent.randomArr.length||this.finishGame){if(this.arrowDown.node.active){this.arrowDown.node.runAction(cc.show());var t=cc.callFunc(function(){this.aiComponent.ruleRandom()},this),e=cc.delayTime(1.5),i=cc.callFunc(function(){this.mySetSoldier()},this),n=cc.delayTime(1),s=cc.callFunc(function(){this.myComponent.openControl(),this.myDispatch=!0},this);this.actionThree=cc.sequence(t,e,i,n,s),this.actionThree.setTag(3),this.node.runAction(this.actionThree)}else if(this.arrowUp.node.active){this.arrowUp.node.runAction(cc.show());var t=cc.callFunc(function(){this.aiComponent.ruleRandom()},this),e=cc.delayTime(1.5),i=cc.callFunc(function(){this.aiSetSoldier()},this),n=cc.delayTime(1),s=cc.callFunc(function(){this.aiComponent.aiDispatchSoldier(),this.aiDispatch=!0},this);this.actionFour=cc.sequence(t,e,i,n,s),this.actionFour.setTag(4),this.node.runAction(this.actionFour)}}else if(this.finishGame=!0,this.myClickNumber>=this.aiClickNumber)this.overSuccess();else if(o.HardModel&&this.hardNextFlag&&this.myClickNumber>0){this.hardNextFlag=!1;var a=cc.delayTime(1.5),c=cc.callFunc(function(){this.hardNextBo()},this);this.node.runAction(cc.sequence(a,c))}else this.myClickNumber=0,this.clickN()},this);this.actionOne=cc.sequence(n,a,s,a,c),this.actionOne.setTag(1),this.node.runAction(this.actionOne)}},bigForward:function(t,e,i,n,s){var a=cc.moveBy(.3,cc.p(0,i)),c=cc.callFunc(function(){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]);var t=cc.instantiate(this.attackAnim);e.addChild(t)},this),r=a.reverse(),h=cc.callFunc(function(){if(1==s)1==n?this.myCheckBlood():(this.myCheckBlood(),this.myCheckBlood());else if(0==s)if(1==n){this.aiCheckBlood();i=parseInt(this.scoreDisplay.string)+1e3;this.scoreDisplay.string=""+i}else{this.aiCheckBlood(),this.aiClickNumber>0&&this.aiCheckBlood();var i=parseInt(this.scoreDisplay.string)+3e3;this.scoreDisplay.string=i}var o=cc.callFunc(function(){t.destroy(),e.destroy(),this.myComponent.currentSoldierMy=null,this.aiComponent.currentSoldierAi=null,t=null,e=null},this);t.runAction(cc.fadeOut(1)),e.runAction(cc.sequence(cc.fadeOut(1),o))},this),l=cc.delayTime(.8),u=cc.callFunc(function(){if(this.aiClickNumber>0)if(0!=this.aiComponent.randomArr.length||0!=this.myComponent.randomArr.length||this.finishGame){if(this.arrowDown.node.active){this.arrowDown.node.runAction(cc.show());var t=cc.callFunc(function(){this.aiComponent.ruleRandom()},this),e=cc.delayTime(1.5),i=cc.callFunc(function(){this.mySetSoldier()},this),n=cc.delayTime(1),s=cc.callFunc(function(){this.myComponent.openControl(),this.myDispatch=!0},this);this.actionFive=cc.sequence(t,e,i,n,s),this.actionFive.setTag(5),this.node.runAction(this.actionFive)}else if(this.arrowUp.node.active){this.arrowUp.node.runAction(cc.show());var t=cc.callFunc(function(){this.aiComponent.ruleRandom()},this),e=cc.delayTime(1.5),i=cc.callFunc(function(){this.aiSetSoldier()},this),n=cc.delayTime(1),s=cc.callFunc(function(){this.aiComponent.aiDispatchSoldier(),this.aiDispatch=!0},this);this.actionSix=cc.sequence(t,e,i,n,s),this.actionSix.setTag(6),this.node.runAction(this.actionSix)}}else if(this.finishGame=!0,this.myClickNumber>=this.aiClickNumber)this.overSuccess();else if(o.HardModel&&this.hardNextFlag&&this.myClickNumber>0){this.hardNextFlag=!1;var a=cc.delayTime(1.5),c=cc.callFunc(function(){this.hardNextBo()},this);this.node.runAction(cc.sequence(a,c))}else this.myClickNumber=0,this.clickN()},this),d=cc.delayTime(.3);this.actionTwo=cc.sequence(a,d,c,r,h,l,u),this.actionTwo.setTag(2),t.runAction(this.actionTwo)},randomSente:function(){Math.floor(11*Math.random())<=5?this.aiSetSoldier():this.mySetSoldier()},myUpdate:function(t){this.aiComponent.currentSoldierAi&&this.myComponent.currentSoldierMy&&2==this.completed?(this.completed=0,this.arrowDown.node.active?this.arrowDown.node.runAction(cc.hide()):this.arrowUp.node.active&&this.arrowUp.node.runAction(cc.hide()),this.allSetSoldier(this.aiComponent.currentSoldierAi,this.myComponent.currentSoldierMy)):null!=this.aiComponent.currentSoldierAi&&this.aiDispatch?(this.aiDispatch=!1,1==++this.completed&&(this.myDispatch=!0,this.mySetSoldier(),this.myComponent.openControl())):null!=this.myComponent.currentSoldierMy&&this.myDispatch&&(this.myDispatch=!1,1==++this.completed&&(this.aiDispatch=!0,this.aiSetSoldier(),this.aiComponent.aiDispatchSoldier()))},aiFullBlood:function(){this.aiClickNumber=5;for(var t=0;t<this.aiStoreBlood;t++)1==this.aiLossBlood[t].node.active&&(this.aiLossBlood[t].node.active=!1,this.aiHaveBlood[t].node.active=!0,this.aiLossBlood[t].node.opacity=255,this.aiLossBlood[t].node.active=!1),this.aiLossBloodEffect[t].node.opacity=255,this.aiLossBloodEffect[t].node.setScale(1,1),this.aiLossBloodEffect[t].node.active=!1},myAddOneBlood:function(){for(var t=0;t<this.myStoreBlood;t++)if(1==this.myLossBlood[t].node.active){var e=cc.instantiate(this.resumeBloodEffect);e.parent=this.myHaveBlood[t].node.parent,e.setPosition(cc.p(this.myHaveBlood[t].node.getPositionX(),this.myHaveBlood[t].node.getPositionY())),e.getComponent(cc.Animation).on("finished",function(){this.destroy()},e),o.EffectOffset&&cc.audioEngine.play(this.resumeBloodMusic,!1,1),this.myClickNumber++,this.index=t;var i=cc.callFunc(function(){this.myLossBlood[this.index].node.active=!1,this.myLossBlood[this.index].node.opacity=255,this.myHaveBlood[this.index].node.active=!0},this);this.node.runAction(cc.sequence(cc.delayTime(.7),i)),this.myLossBloodEffect[t].node.opacity=255,this.myLossBloodEffect[t].node.setScale(1,1),this.myLossBloodEffect[t].node.active=!1,t=this.myStoreBlood}},aiCheckBlood:function(){if(this.aiClickNumber>0){this.aiClickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.aiHaveBlood[this.aiClickNumber].node.active=!1,this.aiLossBlood[this.aiClickNumber].node.active=!0,this.aiLossBloodEffect[this.aiClickNumber].node.active=!0;var t=cc.scaleBy(.3,2),e=cc.fadeOut(.5);this.aiLossBloodEffect[this.aiClickNumber].node.runAction(cc.sequence(t,e))}0==this.aiClickNumber&&this.overSuccess()},myCheckBlood:function(){if(this.myClickNumber>0){this.myClickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.myHaveBlood[this.myClickNumber].node.active=!1,this.myLossBlood[this.myClickNumber].node.active=!0,this.myLossBloodEffect[this.myClickNumber].node.active=!0;var t=cc.scaleBy(.3,2),e=cc.fadeOut(.5);this.myLossBloodEffect[this.myClickNumber].node.runAction(cc.sequence(t,e)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}this.clickN()},clickN:function(){if(0==this.myClickNumber&&this.callOne){o.HardModel||s.UMLevelCheck("level11","fail"),this.arrowDown.node.active=!1,this.arrowUp.node.active=!1,this.unschedule(this.myUpdate,this),this.callOne=!1,this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=cc.hide(),i=cc.scaleTo(0,.1),n=cc.show(),a=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){for(var t=0;t<5;++t)this.myLossBlood[t].node.runAction(cc.blink(1,3))},this),h=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),l=cc.delayTime(2.5),u=cc.delayTime(1.5),d=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(t,0);var s=this,c=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.duijiuBGM),o.HardModel&&o.EffectOffset?cc.audioEngine.play(s.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(s.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(e,i,n,a,c)),this.removeResourse()},this);this.node.runAction(cc.sequence(c,r,u,h,l,d))}},overSuccess:function(){if(o.HardModel&&this.hardNextFlag){this.hardNextFlag=!1;var t=cc.delayTime(1.5),e=cc.callFunc(function(){this.hardNextBo()},this);this.node.runAction(cc.sequence(t,e))}else if(this.callOnce){o.HardModel||s.UMLevelCheck("level11","finish"),this.callOnce=!1,this.arrowDown.node.active=!1,this.arrowUp.node.active=!1,this.unschedule(this.myUpdate,this),this.scoreDisplay.string=parseInt(this.scoreDisplay.string),this.nullNode.active=!0;var i=cc.hide(),n=cc.scaleTo(0,.1),a=cc.show(),c=cc.scaleBy(.5,10),r=cc.delayTime(1.5),h=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),l=cc.delayTime(2.5),u=cc.callFunc(function(){var t=parseInt(this.scoreDisplay.string)+5e3;this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var e=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||e.judgeOnce(-1),e.battleScore(t,0);var s=this,r=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.duijiuBGM),o.EffectOffset&&cc.audioEngine.play(s.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(i,n,a,c,r)),this.removeResourse()},this);this.node.runAction(cc.sequence(r,h,l,u))}},removeResourse:function(){var t=cc.callFunc(function(){null!=this.myComponent.currentSoldierMy&&(this.myComponent.currentSoldierMy.runAction(cc.fadeOut(.7)),this.aiComponent.currentSoldierAi.runAction(cc.fadeOut(.7)));for(t=0;t<this.aiComponent.randomArr.length;++t)this.aiComponent.randomArr[t].runAction(cc.fadeOut(.7));for(var t=0;t<this.myComponent.randomArr.length;++t)this.myComponent.randomArr[t].runAction(cc.fadeOut(.7))},this),e=cc.delayTime(.7),i=cc.callFunc(function(){null!=this.myComponent.currentSoldierMy&&(this.myComponent.currentSoldierMy.destroy(),this.aiComponent.currentSoldierAi.destroy());for(t=0;t<this.aiComponent.randomArr.length;++t)this.aiComponent.randomArr[t].destroy();for(var t=0;t<this.myComponent.randomArr.length;++t)this.myComponent.randomArr[t].destroy();this.aiComponent.randomArr.length=0,this.myComponent.randomArr.length=0},this);this.node.runAction(cc.sequence(t,e,i))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],PingMyNode:[function(t,e,o){"use strict";cc._RF.push(e,"b4954f7QK5K3bPOzHT9+WKo","PingMyNode"),cc.Class({extends:cc.Component,properties:{myArexPf:{default:[],type:cc.Prefab,tooltip:"我方1,2,3级,随机兵"},aiTroop:{default:null,type:cc.Node,tooltip:"ai组件"}},onLoad:function(){this.node.setLocalZOrder(11),this.randomArr=[],this.currentSoldierMy=null,this.aiComponent=this.aiTroop.getComponent("PingAiNode")},openControl:function(){for(i in this.randomArr)"PingRarexRandom"==this.randomArr[i].name?this.randomArr[i].getComponent("PingRandomArexR").setInputControl():this.randomArr[i].getComponent("PingRArex").setInputControl()},closeControl:function(){for(i in this.randomArr)"PingRarexRandom"==this.randomArr[i].name?this.randomArr[i].getComponent("PingRandomArexR").closeInputControl():this.randomArr[i].getComponent("PingRArex").closeInputControl()},randomTroop:function(){this.randomArr=[];for(n=0;n<2;++n){var t=cc.instantiate(this.myArexPf[0]);t.opacity=0,this.randomArr.push(t);var e=cc.instantiate(this.myArexPf[1]);e.opacity=0,this.randomArr.push(e);var i=cc.instantiate(this.myArexPf[2]);i.opacity=0,this.randomArr.push(i);var o=cc.instantiate(this.myArexPf[3]);o.opacity=0,this.randomArr.push(o)}this.randomArr.sort(function(){return.5-Math.random()});for(n=0;n<this.randomArr.length;++n)n<4?this.randomArr[n].setPosition(140*n-210,0):this.randomArr[n].setPosition(140*(n-4)-210,130),"PingRarexRandom"==this.randomArr[n].name&&this.randomArr[n].getComponent("PingRandomArexR").init(this),this.node.addChild(this.randomArr[n]);for(var n=0;n<this.randomArr.length;++n)this.randomArr[n].runAction(cc.fadeIn(1))},setSoldierTag:function(){for(var t=this.aiComponent.ruleSoldier,e=0;e<this.randomArr.length;++e)for(var i=0;i<t.length;++i)"PingRarexOne"==this.randomArr[e].name&&"arexOne"==t[i].name?(this.randomArr[e].tag=t[i].tag,i=t.length):"PingRarexTwo"==this.randomArr[e].name&&"arexTwo"==t[i].name?(this.randomArr[e].tag=t[i].tag,i=t.length):"PingRarexThree"==this.randomArr[e].name&&"arexThree"==t[i].name&&(this.randomArr[e].tag=t[i].tag,i=t.length)},removeNode:function(t){for(i in this.randomArr)this.randomArr[i]==t&&(t.destroy(),this.randomArr.splice(i,1))},copySoldier:function(t,e){var i=cc.instantiate(this.myArexPf[e]);i.setPosition(t.x,t.y);for(var o=this.aiComponent.ruleSoldier,n=0;n<o.length;++n)"PingRarexOne"==i.name&&"arexOne"==o[n].name?(i.tag=o[n].tag,n=o.length):"PingRarexTwo"==i.name&&"arexTwo"==o[n].name?(i.tag=o[n].tag,n=o.length):"PingRarexThree"==i.name&&"arexThree"==o[n].name&&(i.tag=o[n].tag,n=o.length);this.node.addChild(i),this.currentSoldierMy=i},randomChange:function(t,e){this.copySoldier(t,e),this.removeNode(t)}}),cc._RF.pop()},{}],PingRArex:[function(t,e,i){"use strict";cc._RF.push(e,"e6741QzjjBGHIJEbF837Hqa","PingRArex");var o=t("Common");cc.Class({extends:cc.Component,properties:{putEffect:{default:null,url:cc.AudioClip,tooltip:"放置音效"}},onLoad:function(){},movePos:function(){o.EffectOffset&&cc.audioEngine.play(this.putEffect,!1,1);var t=this;t.node.parent.getComponent("PingMyNode").closeControl();var e=cc.moveTo(1,cc.p(0,290)),i=cc.callFunc(function(){var e=-1;"PingRarexOne"==t.node.name?e=0:"PingRarexTwo"==t.node.name?e=1:"PingRarexThree"==t.node.name&&(e=2),t.node.parent.getComponent("PingMyNode").copySoldier(t.node,e),t.node.parent.getComponent("PingMyNode").removeNode(t.node)},t);t.node.runAction(cc.sequence(e,i))},setInputControl:function(){var t=this;t.node.on("touchstart",t.movePos,t)},closeInputControl:function(){var t=this;t.node.off("touchstart",t.movePos,t)}}),cc._RF.pop()},{Common:"Common"}],PingRandomArexR:[function(t,e,i){"use strict";cc._RF.push(e,"997d0exbKBIZpk6onwPMjPJ","PingRandomArexR");var o=t("Common");cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},putEffect:{default:null,url:cc.AudioClip,tooltip:"放置音效"}},onLoad:function(){},init:function(t){this.game=t},movePos:function(){o.EffectOffset&&cc.audioEngine.play(this.putEffect,!1,1);var t=this;t.game.closeControl();var e=cc.moveTo(1,cc.p(0,290)),i=cc.callFunc(function(){var e=Math.floor(3*Math.random());t.game.randomChange(t.node,e)},t);t.node.runAction(cc.sequence(e,i))},setInputControl:function(){var t=this;t.node.on("touchstart",t.movePos,t)},closeInputControl:function(){var t=this;t.node.off("touchstart",t.movePos,t)}}),cc._RF.pop()},{Common:"Common"}],PingRandomArex:[function(t,e,i){"use strict";cc._RF.push(e,"59002QdVVxCtaIdGDnx7tNY","PingRandomArex");var o=t("Common");cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},putEffect:{default:null,url:cc.AudioClip,tooltip:"放置音效"}},onLoad:function(){},init:function(t){this.game=t},movePos:function(){o.EffectOffset&&cc.audioEngine.play(this.putEffect,!1,1);var t=this,e=cc.moveTo(1,cc.p(0,-140)),i=cc.callFunc(function(){t.game.randomChange(t.node)},t);t.node.runAction(cc.sequence(e,i))}}),cc._RF.pop()},{Common:"Common"}],PopulationLayer:[function(t,e,i){"use strict";cc._RF.push(e,"69ed3dhArxBsJYng1XZ9Cas","PopulationLayer");var o=t("StorageData");cc.Class({extends:cc.Component,properties:{rankPopulation:{default:[],type:cc.Label,tooltip:"人口"},rankCountry:{default:[],type:cc.Node,tooltip:"势力节点"}},onLoad:function(){for(var t=0;t<3;++t)this.rankCountry[t].setLocalZOrder(-2);if(this.diffHour=0,this.currentTime=[],this.threePowerPopulation=[],this.flagOne=!0,this.flagTwo=!0,this.populationInit={weiTotalPopulation:0,shuTotalPopulation:0,wuTotalPopulation:0},null===o.getLocalData("POPULATIONDATAinit")){this.diffHour=0,this.currentTime=[];var e=new Date,i=e.getFullYear();this.currentTime.push(i);var n=e.getMonth()+1;this.currentTime.push(n);var s=e.getDate();this.currentTime.push(s);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),this.initPopulation(),o.setLocalData("InitTimePopulation",JSON.stringify(this.currentTime)),o.setLocalData("POPULATIONDATAinit",JSON.stringify(this.populationInit))}else this.populationInit=JSON.parse(o.getLocalData("POPULATIONDATAinit"));this.loadLabel()},initPopulation:function(){this.populationInit.wuTotalPopulation=Math.floor(3e3*Math.random()+5001),this.populationInit.shuTotalPopulation=Math.floor(3e3*Math.random()+5001),this.populationInit.weiTotalPopulation=Math.floor(3e3*Math.random()+5001)},loadLabel:function(){this.flagOne=!0,this.flagTwo=!0,this.threePowerPopulation.push(this.populationInit.weiTotalPopulation),this.threePowerPopulation.push(this.populationInit.shuTotalPopulation),this.threePowerPopulation.push(this.populationInit.wuTotalPopulation),this.threePowerPopulation=this.threePowerPopulation.sort(function(t,e){return e-t});for(var t=0;t<this.threePowerPopulation.length;++t)this.rankPopulation[t].string=this.threePowerPopulation[t];this.threePowerPopulation=[];for(var e=0;e<this.rankPopulation.length;++e)parseInt(this.rankPopulation[e].string)==this.populationInit.wuTotalPopulation&&this.flagOne?(this.flagOne=!1,this.closePowerBg(e),this.rankCountry[e].getChildByName("powerWu").active=!0):parseInt(this.rankPopulation[e].string)==this.populationInit.shuTotalPopulation&&this.flagTwo?(this.flagTwo=!1,this.closePowerBg(e),this.rankCountry[e].getChildByName("powerShu").active=!0):parseInt(this.rankPopulation[e].string)==this.populationInit.weiTotalPopulation&&(this.closePowerBg(e),this.rankCountry[e].getChildByName("powerWei").active=!0)},closePowerBg:function(t){for(var e=0;e<this.rankCountry[t].children.length;++e)this.rankCountry[t].children[e].active=!1},calculateTimeDiff:function(){this.diffHour=0,this.currentTime=[];var t=[],e=new Date,i=e.getFullYear();this.currentTime.push(i);var n=e.getMonth()+1;this.currentTime.push(n);var s=e.getDate();this.currentTime.push(s);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),t=this.currentTime,null===o.getLocalData("InitTimePopulation")?o.setLocalData("InitTimePopulation",JSON.stringify(this.currentTime)):t=JSON.parse(o.getLocalData("InitTimePopulation"));for(var c=!1,r=0;r<3;++r)if(this.currentTime[r]===t[r])c=!0;else{if(c=!1,0===r){var h=30*(this.currentTime[1]+12-t[1])*24,l=24*(this.currentTime[2]+30-t[2]),u=this.currentTime[3]+24-t[3];this.diffHour=h+u+l;var d=this.currentTime[0]-t[0];d>1&&(this.diffHour*=d)}else if(1===r){var p=this.currentTime[1]+12-t[1],l=24*(this.currentTime[2]+30-t[2]),u=this.currentTime[3]+24-t[3];this.diffHour=(u+l)*p}else this.diffHour=this.currentTime[3]+24-t[3],(l=this.currentTime[2]-t[2])>1&&(this.diffHour*=l);r=3}if(c&&(this.diffHour=this.currentTime[3]-t[3]),this.diffHour>=1){o.setLocalData("InitTimePopulation",JSON.stringify(this.currentTime));var m=Math.floor(40*Math.random()+80)*this.diffHour,g=Math.floor(40*Math.random()+80)*this.diffHour,f=Math.floor(40*Math.random()+80)*this.diffHour;this.populationInit=JSON.parse(o.getLocalData("POPULATIONDATAinit")),this.populationInit.wuTotalPopulation+=m,this.populationInit.shuTotalPopulation+=g,this.populationInit.weiTotalPopulation+=f,o.setLocalData("POPULATIONDATAinit",JSON.stringify(this.populationInit)),this.loadLabel()}}}),cc._RF.pop()},{StorageData:"StorageData"}],PowerLayer:[function(t,e,i){"use strict";cc._RF.push(e,"ac0dfkD78RE7K4VvYMkhn/w","PowerLayer");t("Common");var o=t("StorageData");cc.Class({extends:cc.Component,properties:{rankTroop:{default:[],type:cc.Label,tooltip:"兵力"},rankCountry:{default:[],type:cc.Node,tooltip:"势力节点"}},onLoad:function(){for(var t=0;t<3;++t)this.rankCountry[t].setLocalZOrder(-2);if(this.diffHour=0,this.currentTime=[],this.threePowerTroop=[],this.flagOne=!0,this.flagTwo=!0,this.powerInit={weiTotalTroop:0,shuTotalTroop:0,wuTotalTroop:0},null===o.getLocalData("POWERDATAinit")){this.currentTime=[];var e=new Date,i=e.getFullYear();this.currentTime.push(i);var n=e.getMonth()+1;this.currentTime.push(n);var s=e.getDate();this.currentTime.push(s);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),this.countPersonalTroop(),this.powerInit.wuTotalTroop+=15123456,this.powerInit.shuTotalTroop+=15123456,this.powerInit.weiTotalTroop+=15123456,o.setLocalData("POWERDATAinit",JSON.stringify(this.powerInit)),o.setLocalData("InitTimePower",JSON.stringify(this.currentTime))}else this.powerInit=JSON.parse(o.getLocalData("POWERDATAinit"));this.loadLabel()},loadLabel:function(){this.flagOne=!0,this.flagTwo=!0,this.threePowerTroop.push(parseInt(this.powerInit.weiTotalTroop)),this.threePowerTroop.push(parseInt(this.powerInit.shuTotalTroop)),this.threePowerTroop.push(parseInt(this.powerInit.wuTotalTroop)),this.threePowerTroop=this.threePowerTroop.sort(function(t,e){return e-t});for(var t=0;t<this.threePowerTroop.length;++t)this.rankTroop[t].string=this.threePowerTroop[t].toString();this.threePowerTroop=[];for(var e=0;e<this.rankTroop.length;++e)parseInt(this.rankTroop[e].string)==this.powerInit.wuTotalTroop&&this.flagOne?(this.flagOne=!1,this.closePowerBg(e),this.rankCountry[e].getChildByName("powerWu").active=!0):parseInt(this.rankTroop[e].string)==this.powerInit.shuTotalTroop&&this.flagTwo?(this.flagTwo=!1,this.closePowerBg(e),this.rankCountry[e].getChildByName("powerShu").active=!0):parseInt(this.rankTroop[e].string)==this.powerInit.weiTotalTroop&&(this.closePowerBg(e),this.rankCountry[e].getChildByName("powerWei").active=!0)},closePowerBg:function(t){for(var e=0;e<this.rankCountry[t].children.length;++e)this.rankCountry[t].children[e].active=!1},countPersonalTroop:function(){for(var t=JSON.parse(o.getLocalData("PERSONALDATAinit")),e=0;e<t.length;++e)1001===t[e][1].power?this.powerInit.wuTotalTroop+=t[e][0]:1006===t[e][1].power?this.powerInit.weiTotalTroop+=t[e][0]:this.powerInit.shuTotalTroop+=t[e][0]},calculateTimeDiff:function(){this.diffHour=0,this.currentTime=[];var t=[],e=new Date,i=e.getFullYear();this.currentTime.push(i);var n=e.getMonth()+1;this.currentTime.push(n);var s=e.getDate();this.currentTime.push(s);var a=e.getHours();0===a&&(a=24),this.currentTime.push(a),t=this.currentTime,null===o.getLocalData("InitTimePower")?o.setLocalData("InitTimePower",JSON.stringify(this.currentTime)):t=JSON.parse(o.getLocalData("InitTimePower"));for(var c=!1,r=0;r<3;++r)if(this.currentTime[r]===t[r])c=!0;else{if(c=!1,0===r){var h=30*(this.currentTime[1]+12-t[1])*24,l=24*(this.currentTime[2]+30-t[2]),u=this.currentTime[3]+24-t[3];this.diffHour=h+u+l;var d=this.currentTime[0]-t[0];d>1&&(this.diffHour*=d)}else if(1===r){var p=this.currentTime[1]+12-t[1],l=24*(this.currentTime[2]+30-t[2]),u=this.currentTime[3]+24-t[3];this.diffHour=(u+l)*p}else this.diffHour=this.currentTime[3]+24-t[3],(l=this.currentTime[2]-t[2])>1&&(this.diffHour*=l);r=3}if(c&&(this.diffHour=this.currentTime[3]-t[3]),this.diffHour>=1){o.setLocalData("InitTimePower",JSON.stringify(this.currentTime));var m=Math.floor(1e7*Math.random()+158e5)*this.diffHour,g=Math.floor(1e7*Math.random()+158e5)*this.diffHour,f=Math.floor(1e7*Math.random()+158e5)*this.diffHour;this.powerInit=JSON.parse(o.getLocalData("POWERDATAinit")),this.powerInit.wuTotalTroop=parseInt(this.powerInit.wuTotalTroop+m),this.powerInit.shuTotalTroop=parseInt(this.powerInit.shuTotalTroop+g),this.powerInit.weiTotalTroop=parseInt(this.powerInit.weiTotalTroop+f),o.setLocalData("POWERDATAinit",JSON.stringify(this.powerInit)),this.loadLabel()}}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData"}],PowerRankLayer:[function(t,e,i){"use strict";cc._RF.push(e,"b0b5d6zulRDFYvzt0r5Podd","PowerRankLayer");var o=t("Common");cc.Class({extends:cc.Component,properties:{personalLayer:cc.Node,countryLayer:cc.Node,populationLayer:cc.Node,redPersonal:cc.Sprite,redCountry:cc.Sprite,redPopulation:cc.Sprite,personalBut:cc.Button,countryBut:cc.Button,populationBut:cc.Button,guideSeven:cc.Node,newGuideMask:cc.Node},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this),o.FirstGame&&o.newbieLast&&(this.guideSeven.active=!0,this.newGuideMask.active=!0),this.createMenuNode()},copyMenuNode:function(){this.lingPaiNode=cc.instantiate(cc.find("Canvas/MenuLayer/ling")),this.node.addChild(this.lingPaiNode),this.lingPaiNode.setPosition(-5,500),this.goldNode=cc.instantiate(cc.find("Canvas/MenuLayer/coin")),this.node.addChild(this.goldNode),this.goldNode.setPosition(20,450),this.troopNode=cc.instantiate(cc.find("Canvas/MenuLayer/troopBar")),this.node.addChild(this.troopNode),this.troopNode.setPosition(-116,400)},createMenuNode:function(){this.lingPaiNode=null,this.goldNode=null,this.troopNode=null},destroyMenuNode:function(){null!=this.lingPaiNode&&(this.lingPaiNode.destroy(),this.goldNode.destroy(),this.troopNode.destroy())},inPersonalRank:function(){this.redPersonal.node.active=!0,this.redCountry.node.active=!1,this.redPopulation.node.active=!1,this.personalBut.node.opacity=0,this.countryBut.node.opacity=255,this.populationBut.node.opacity=255,this.personalLayer.active=!0,this.personalLayer.getChildByName("personalViewCtrl").getComponent("PersonalViewCtrl").calculateTimeDiff(),this.populationLayer.active=!1,this.countryLayer.active=!1},inTroopRank:function(){this.redPersonal.node.active=!1,this.redCountry.node.active=!0,this.redPopulation.node.active=!1,this.personalBut.node.opacity=255,this.countryBut.node.opacity=0,this.populationBut.node.opacity=255,this.personalLayer.active=!1,this.populationLayer.active=!1,this.countryLayer.active=!0,this.countryLayer.getComponent("PowerLayer").calculateTimeDiff()},inPopulationRank:function(){this.redPersonal.node.active=!1,this.redCountry.node.active=!1,this.redPopulation.node.active=!0,this.personalBut.node.opacity=255,this.countryBut.node.opacity=255,this.populationBut.node.opacity=0,this.personalLayer.active=!1,this.populationLayer.active=!0,this.populationLayer.getComponent("PopulationLayer").calculateTimeDiff(),this.countryLayer.active=!1}}),cc._RF.pop()},{Common:"Common"}],QArexFormationFour:[function(t,e,i){"use strict";cc._RF.push(e,"3499eeck/FCOpZwhY6O5LHW","QArexFormationFour");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},timer:{default:null,type:cc.Label,tooltip:"倒计时"},formationStage:{default:0,type:cc.Integer,tooltip:"阵型阶段"},oneClickMus:{default:null,url:cc.AudioClip},knife:{default:[],type:cc.Sprite}},onLoad:function(){this.timerComp=this.timer.node.getComponent("QTimer"),this.callOnce=!1,this.parentComp=this.node.parent.getComponent("QFormationScroll"),this.grandFather=this.node.parent.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeControl:function(){this.node.targetOff(this)},clickFunc:function(){if(255==this.node.opacity)o.EffectOffset&&cc.audioEngine.play(this.oneClickMus),this.node.opacity=254,this.knife[0].node.active=!0;else if(254==this.node.opacity)o.EffectOffset&&cc.audioEngine.play(this.oneClickMus),this.node.opacity=253,this.knife[1].node.active=!0;else if(253==this.node.opacity){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(6*Math.random())]),this.node.opacity=125,this.timer.node.active=!1,this.stopTimeUpdate();var t=cc.callFunc(function(){this.node.active=!1},this);this.parentComp.totalSoldier--,this.node.runAction(cc.fadeOut(1),t),o.troopScore+=50,this.grandFather.comboSucc(),this.grandFather.battleScoreDis.string=o.troopScore.toString(),this.knife[0].node.active=!1,this.knife[1].node.active=!1,this.stopMyUpdate()}},startMyUpdate:function(t){this.timerComp.startmyUpdate(),this.setInputControl(),this.schedule(this.myUpdate,0)},stopTimeUpdate:function(){this.timerComp.stopmyUpdate()},myUpdate:function(t){0==this.timerComp.getTime()&&(this.callOnce=!0,this.grandFather.currentCombo=0,this.grandFather.comboSprite.node.active=!1,this.knife[0].node.active=!1,this.knife[1].node.active=!1,this.blockAction(),this.stopMyUpdate())},stopMyUpdate:function(){this.unschedule(this.myUpdate)},blockAction:function(){this.node.parent.parent.getComponent("QuEWar").clickN(8),this.parentComp.totalSoldier--,this.timer.node.active=!1;var t=cc.moveBy(.05,cc.p(-5,0)),e=cc.moveBy(.1,cc.p(5,0)),i=cc.moveBy(.05,cc.p(0,5)),o=cc.moveBy(.05,cc.p(0,-5)),n=cc.callFunc(function(){this.node.opacity=125,this.node.stopAction(s)},this),s=cc.sequence(t,e,i,o,n);this.node.runAction(s),this.node.targetOff(this)}}),cc._RF.pop()},{Common:"Common"}],QArexFormation:[function(t,e,i){"use strict";cc._RF.push(e,"92351/4ykRLyqHjvqP89Xec","QArexFormation");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},timer:{default:null,type:cc.Label,tooltip:"倒计时"},formationStage:{default:0,type:cc.Integer,tooltip:"阵型阶段"}},onLoad:function(){this.timerComp=this.timer.node.getComponent("QTimer"),this.callOnce=!1,this.parentComp=this.node.parent.getComponent("QFormationScroll"),this.grandFather=this.node.parent.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeControl:function(){this.node.targetOff(this)},clickFunc:function(){if(255==this.node.opacity){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(6*Math.random())]),this.node.opacity=125,this.timer.node.active=!1,this.stopTimeUpdate();var t=cc.callFunc(function(){this.node.active=!1},this);this.parentComp.totalSoldier--,this.node.runAction(cc.fadeOut(1),t),"QFormationOne"==this.node.name?o.troopScore+=10:"QFormationTwo"==this.node.name?o.troopScore+=20:"QFormationThree"==this.node.name&&(o.troopScore+=30),this.grandFather.comboSucc(),this.grandFather.battleScoreDis.string=o.troopScore.toString(),this.stopMyUpdate()}},startMyUpdate:function(t){this.timerComp.startmyUpdate(),this.setInputControl(),this.schedule(this.myUpdate,0)},stopTimeUpdate:function(){this.timerComp.stopmyUpdate()},myUpdate:function(t){0==this.timerComp.getTime()&&(this.grandFather.currentCombo=0,this.grandFather.comboSprite.node.active=!1,this.callOnce=!0,this.blockAction(),this.stopMyUpdate())},stopMyUpdate:function(){this.unschedule(this.myUpdate)},blockAction:function(){this.node.parent.parent.getComponent("QuEWar").clickN(8),this.parentComp.totalSoldier--,this.timer.node.active=!1;var t=cc.moveBy(.05,cc.p(-5,0)),e=cc.moveBy(.1,cc.p(5,0)),i=cc.moveBy(.05,cc.p(0,5)),o=cc.moveBy(.05,cc.p(0,-5)),n=cc.callFunc(function(){this.node.opacity=125,this.node.stopAction(s)},this),s=cc.sequence(t,e,i,o,n);this.node.runAction(s),this.node.targetOff(this)}}),cc._RF.pop()},{Common:"Common"}],QFormationScroll:[function(t,e,i){"use strict";cc._RF.push(e,"b91a1F7QBVCkpSXYjwKmfqs","QFormationScroll");var o=t("Common");cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},formationArex:{default:[],type:cc.Prefab,tooltip:"1-3级兵"},fourArex:{default:null,type:cc.Prefab,tooltip:"4级兵"},fourLevelArex:[],firstStage:!0,secondStage:!0,subSecondStage:!0,thirdStage:!0,secondCall:!0,thirdCall:!0,callOnce:!0},onLoad:function(){this.speed=150,this.firstStage=!0,this.secondStage=!0,this.thirdStage=!0,this.hardFlag=!1,this.hardCall=!0,this.subThirdStage=!0,this.subFirstStage=!0,this.rt=[0,1,2],this.rtTime=[1,2,0],this.totalArex=[],this.oneStageTime=130,this.twoStageTime=100,this.threeStageTime=80,this.fourStageTime=80,this.oneTimes=[30,60,80],this.twoTimes=[20,50,70],this.threeTimes=[20,30,40],this.fourTimes=[20,30,40],this.oneGroup=[],this.twoGroup=[],this.threeGroup=[],this.fourGroup=[],this.totalSoldier=26,this.initNodePool(),this.spawnSetArex(this.oneTimes,this.oneStageTime)},initNodePool:function(){this.oneForPool=new cc.NodePool,this.twoForPool=new cc.NodePool,this.threeForPool=new cc.NodePool;for(var t=0;t<18;++t){var e=cc.instantiate(this.formationArex[0]);this.oneForPool.put(e);var i=cc.instantiate(this.formationArex[1]);this.twoForPool.put(i);var o=cc.instantiate(this.formationArex[2]);this.threeForPool.put(o)}this.totalArex.push(this.oneForPool),this.totalArex.push(this.twoForPool),this.totalArex.push(this.threeForPool),this.fourForPool=new cc.NodePool;for(var n=0;n<24;++n){var s=cc.instantiate(this.fourArex);this.fourForPool.put(s)}},getRandomVal:function(t){t.sort(function(){return.5-Math.random()})},spawnSetArex:function(t,e){this.getRandomVal(this.rt),this.getRandomVal(this.rtTime);for(i=0;i<6;++i)this.oneGroup.push(this.totalArex[this.rt[0]].get()),this.oneGroup[i].getChildByName("Timer").getComponent("QTimer").setTime(t[this.rtTime[0]]),this.oneGroup[i].getComponent("QArexFormation").closeControl(),this.oneGroup[i].opacity=255,this.node.addChild(this.oneGroup[i]);for(i=0;i<6;++i)this.twoGroup.push(this.totalArex[this.rt[1]].get()),this.twoGroup[i].getChildByName("Timer").getComponent("QTimer").setTime(t[this.rtTime[1]]),this.twoGroup[i].getComponent("QArexFormation").closeControl(),this.twoGroup[i].opacity=255,this.node.addChild(this.twoGroup[i]);for(i=0;i<6;++i)this.threeGroup.push(this.totalArex[this.rt[2]].get()),this.threeGroup[i].getChildByName("Timer").getComponent("QTimer").setTime(t[this.rtTime[2]]),this.threeGroup[i].getComponent("QArexFormation").closeControl(),this.threeGroup[i].opacity=255,this.node.addChild(this.threeGroup[i]);for(var i=0;i<8;++i)this.fourGroup.push(this.fourForPool.get()),this.fourGroup[i].getChildByName("Timer").getComponent("QTimer").setTime(e),this.fourGroup[i].getComponent("QArexFormationFour").closeControl(),this.fourGroup[i].opacity=255,this.node.addChild(this.fourGroup[i]);this.setArexPosition()},setArexPosition:function(){this.setOnePos(),this.setTwoPos(),this.setThreePos(),this.setFourPos()},setOnePos:function(){this.oneGroup[0].setPosition(cc.p(-240,-391)),this.oneGroup[1].setPosition(cc.p(-47.2,-391)),this.oneGroup[2].setPosition(cc.p(48.2,-391)),this.oneGroup[3].setPosition(cc.p(242,-391)),this.oneGroup[4].setPosition(cc.p(-47.2,-287.5)),this.oneGroup[5].setPosition(cc.p(48.2,-287.5))},setTwoPos:function(){this.twoGroup[0].setPosition(cc.p(-240,-287.5)),this.twoGroup[1].setPosition(cc.p(242,-287.5)),this.twoGroup[2].setPosition(cc.p(-143.6,-182)),this.twoGroup[3].setPosition(cc.p(145.6,-182)),this.twoGroup[4].setPosition(cc.p(-47.2,-75.6)),this.twoGroup[5].setPosition(cc.p(48.2,-75.6))},setThreePos:function(){this.threeGroup[0].setPosition(cc.p(-143.6,240)),this.threeGroup[1].setPosition(cc.p(145.6,240)),this.threeGroup[2].setPosition(cc.p(-240,346)),this.threeGroup[3].setPosition(cc.p(-47.2,346)),this.threeGroup[4].setPosition(cc.p(49.2,346)),this.threeGroup[5].setPosition(cc.p(242,346))},setFourPos:function(){this.fourGroup[0].setPosition(cc.p(-143.6,28.5)),this.fourGroup[1].setPosition(cc.p(-47.2,28.5)),this.fourGroup[2].setPosition(cc.p(48.2,28.5)),this.fourGroup[3].setPosition(cc.p(145.6,28.5)),this.fourGroup[4].setPosition(cc.p(-143.6,134.5)),this.fourGroup[5].setPosition(cc.p(-47.2,134.5)),this.fourGroup[6].setPosition(cc.p(48.2,134.5)),this.fourGroup[7].setPosition(cc.p(145.6,134.5))},startCountdown:function(){for(var t=0;t<this.oneGroup.length;++t)this.oneGroup[t].getComponent("QArexFormation").startMyUpdate(),this.twoGroup[t].getComponent("QArexFormation").startMyUpdate(),this.threeGroup[t].getComponent("QArexFormation").startMyUpdate();for(var e=0;e<this.fourGroup.length;++e)this.fourGroup[e].getComponent("QArexFormationFour").startMyUpdate()},stopBlockTime:function(){for(var t=0;t<6;++t)this.oneGroup[t].getComponent("QArexFormation").stopTimeUpdate(),this.twoGroup[t].getComponent("QArexFormation").stopTimeUpdate(),this.threeGroup[t].getComponent("QArexFormation").stopTimeUpdate();for(var e=0;e<8;++e)this.fourGroup[e].getComponent("QArexFormationFour").stopTimeUpdate()},pauseBlockTime:function(){for(var t=0;t<6;++t)this.oneGroup.length>0&&this.oneGroup[t]&&cc.director.getScheduler().pauseTarget(this.oneGroup[t].getChildByName("Timer").getComponent("QTimer")),this.twoGroup.length>0&&this.twoGroup[t]&&cc.director.getScheduler().pauseTarget(this.twoGroup[t].getChildByName("Timer").getComponent("QTimer")),this.threeGroup.length>0&&this.threeGroup[t]&&cc.director.getScheduler().pauseTarget(this.threeGroup[t].getChildByName("Timer").getComponent("QTimer"));for(var e=0;e<8;++e)this.fourGroup.length>0&&this.fourGroup[e]&&cc.director.getScheduler().pauseTarget(this.fourGroup[e].getChildByName("Timer").getComponent("QTimer"))},resumeBlockTime:function(){for(var t=0;t<6;++t)this.oneGroup.length>0&&this.oneGroup[t]&&cc.director.getScheduler().resumeTarget(this.oneGroup[t].getChildByName("Timer").getComponent("QTimer")),this.twoGroup.length>0&&this.twoGroup[t]&&cc.director.getScheduler().resumeTarget(this.twoGroup[t].getChildByName("Timer").getComponent("QTimer")),this.threeGroup.length>0&&this.threeGroup[t]&&cc.director.getScheduler().resumeTarget(this.threeGroup[t].getChildByName("Timer").getComponent("QTimer"));for(var e=0;e<8;++e)this.fourGroup.length>0&&this.fourGroup[e]&&cc.director.getScheduler().resumeTarget(this.fourGroup[e].getChildByName("Timer").getComponent("QTimer"))},resumeFormation:function(t,e){this.spawnSetArex(t,e)},removeForArex:function(){for(var t=0;t<this.oneGroup.length;++t)this.oneForPool.put(this.oneGroup[t]),this.twoForPool.put(this.twoGroup[t]),this.threeForPool.put(this.threeGroup[t]);for(var e=0;e<this.fourGroup.length;++e)this.fourForPool.put(this.fourGroup[e]);this.oneGroup=[],this.twoGroup=[],this.threeGroup=[],this.fourGroup=[]},myUpdate:function(t){if(this.node.y<=0&&this.firstStage?this.callOnce&&(cc.director.getScheduler().setTimeScale(1),this.callOnce=!1,this.game.seeFormation.node.active=!1,this.stopUpdate(),this.startCountdown()):this.node.y<=0&&!this.secondStage&&this.subSecondStage?this.secondCall&&(cc.director.getScheduler().setTimeScale(1),this.secondCall=!1,this.game.seeFormation.node.active=!1,this.stopUpdate(),this.startCountdown()):this.node.y<=0&&!this.thirdStage?this.thirdCall&&(cc.director.getScheduler().setTimeScale(1),this.thirdCall=!1,this.game.seeFormation.node.active=!1,this.stopUpdate(),this.startCountdown()):this.node.y<=0&&o.HardModel&&this.hardFlag?this.hardCall&&(cc.director.getScheduler().setTimeScale(1),this.hardCall=!1,this.game.seeFormation.node.active=!1,this.stopUpdate(),this.startCountdown()):(this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y),this.node.y<=-1e3){if(this.node.x=0,this.node.y=1136,!this.firstStage&&this.secondStage&&this.subFirstStage)this.game.currentStage=2,this.subFirstStage=!1,this.removeForArex(),this.node.targetOff(this),this.game.callNodeOnce=!0,this.game.seeFormation.string="发现雁形阵，10秒内将其击破！",this.secondStage=!1,this.resumeFormation(this.twoTimes,this.twoStageTime);else if(!this.secondStage&&this.thirdStage&&this.subThirdStage)this.game.currentStage=3,this.removeForArex(),this.node.targetOff(this),this.thirdStage=!1,this.subThirdStage=!1,this.game.callNodeOnce=!0,this.game.seeFormation.string="发现雁形阵，8秒内将其击破！",this.secondStage=!0,this.resumeFormation(this.threeTimes,this.threeStageTime);else if(o.HardModel){this.game.currentStage++,this.hardFlag=!0,this.removeForArex(),this.node.targetOff(this),this.game.callNodeOnce=!0;for(var e=0;e<this.fourTimes.length;++e)this.fourTimes[e]-=2;this.fourStageTime-=2,this.resumeFormation(this.fourTimes,this.fourStageTime)}this.unschedule(this.myUpdate)}},checkUpdate:function(t){0==this.totalSoldier&&(this.totalSoldier=26,this.firstStage?(this.game.totalLine=this.game.clickSecondStage,this.firstStage=!1,this.stopBlockTime(),this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()):this.secondStage?this.thirdStage?(this.hardFlag=!1,this.hardCall=!0,this.game.totalLine=this.game.clickThirdStage,this.stopBlockTime(),this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()):o.HardModel?(this.thirdStage=!0,this.game.totalLine=this.game.clickThirdStage,this.stopBlockTime(),this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()):this.game.clickN(9):(this.game.totalLine=this.game.clickThirdStage,this.secondStage=!1,this.subSecondStage=!1,this.stopBlockTime(),this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()),this.game.checkState=!1)},onDestroy:function(){this.oneForPool.clear(),this.twoForPool.clear(),this.threeForPool.clear(),this.fourForPool.clear()},init:function(t){this.game=t},stopTargetOff:function(){this.node.targetOff(this)},getNodeY:function(){return this.node.y},setSpeed:function(t){this.speed+=t},slowDown:function(t){this.speed=t},stopUpdate:function(){this.unschedule(this.myUpdate)},startUpdate:function(){this.schedule(this.myUpdate,0)}}),cc._RF.pop()},{Common:"Common"}],QTimer:[function(t,e,i){"use strict";cc._RF.push(e,"72cfetTegxNJpibbc9d6F0z","QTimer");var o=t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},time:0},onLoad:function(){},setTime:function(t){this.time=t,this.node.active=!0;var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);this.timerDisplay.string=e+"."+i},getTime:function(t){var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);return e<=0&&i<=0?0:1},startmyUpdate:function(){this.schedule(this.myUpdate,.1)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},myUpdate:function(t){cc.director.getScheduler().setTimeScale(1),o.TimeState&&(this.node.active=!0,o.TimeState=!1),this.time--;var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);this.timerDisplay.string=e+"."+i,e<=0&&i<=0&&(this.unschedule(this.myUpdate),this.node.active=!1)}}),cc._RF.pop()},{Common:"Common"}],QarexOne:[function(t,e,i){"use strict";cc._RF.push(e,"565a8iQp1RCRp13rbQHE7tp","QarexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl(),this.parentComp=this.node.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),this.parentComp.comboSucc(),o.troopScore+=10,this.parentComp.battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],QarexThree:[function(t,e,i){"use strict";cc._RF.push(e,"67a04nhnK9GHqP+tW0WV5U6","QarexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl(),this.parentComp=this.node.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.parentComp.comboSucc(),this.parentComp.battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],QarexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"97797UuuppEMqYyYU9xbCpH","QarexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl(),this.parentComp=this.node.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=20,this.parentComp.comboSucc(),this.parentComp.battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],Qbomb:[function(t,e,i){"use strict";cc._RF.push(e,"5451aGQhW9NYapXAD9OIyKY","Qbomb"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.setInputControl(),this.parentComp=this.node.parent.getComponent("QuEWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,this.parentComp.currentCombo=0,this.parentComp.comboSprite.node.active=!1,this.parentComp.clickN(7))}}),cc._RF.pop()},{}],QianjunScroll:[function(t,e,i){"use strict";cc._RF.push(e,"8b61fFmKUZGspIxpragWGPQ","QianjunScroll");var o=t("Common");cc.Class({extends:cc.Component,properties:{speed:0,y:0},onLoad:function(){this.speed=o.scrollSpeed;var t=cc.delayTime(1),e=cc.callFunc(function(){this.node.removeFromParent()},this);this.node.runAction(cc.sequence(t,e))},getNodeY:function(){return this.node.y},setSpeed:function(t){this.speed+=t},slowDown:function(t){this.speed=t},update:function(t){this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y}}),cc._RF.pop()},{Common:"Common"}],Qskill:[function(t,e,i){"use strict";cc._RF.push(e,"6afe3vUyVBMb5RCKga7Wznj","Qskill");var o=t("Common");cc.Class({extends:cc.Component,properties:{ceMa:{default:null,type:cc.Button,tooltip:"策马长驱"},miaoShou:{default:null,type:cc.Button,tooltip:"妙手回春"}},onLoad:function(){this.randomSkill()},randomSkill:function(){if(o.SkillBool){var t=Math.floor(10*Math.random());t<6&&o.MonthCardVIP?this.miaoShou.node.active=!0:this.ceMa.node.active=!0}},cemachangqu:function(){o.CeMaChangQu=!0,this.node.runAction(cc.fadeOut(1)),this.ceMa.enabled=!1},miaoshouhuichun:function(){o.MiaoShouHuiChun=!0,this.node.runAction(cc.fadeOut(1)),this.node.parent.getComponent("QuEWar").skillMiaoshou(),this.miaoShou.enabled=!1}}),cc._RF.pop()},{Common:"Common"}],QuEWar:[function(t,e,i){"use strict";cc._RF.push(e,"8fc2byeLshAw7XkUpY2tN2r","QuEWar");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{arexPF:{default:[],type:cc.Prefab},bgLayer:cc.Sprite,tempColor:[],rWidth:0,rHeight:0,rainbowSpac:20,callNodeOnce:!0,totalArr:[],temp:[],battleUpBg:cc.Layout,battleScoreDis:cc.Label,haveBlood:{default:[],type:cc.Sprite},lossBlood:{default:[],type:cc.Sprite},lossBloodEffect:{default:[],type:cc.Sprite},cemaMusic:{default:null,url:cc.AudioClip},miaoshouMusic:{default:null,url:cc.AudioClip},overBattle:cc.Layout,overSucc:cc.Layout,nullNode:cc.Node,startAnim:cc.Node,formationLayer:cc.Layout,seeFormation:cc.Label,comboSprite:cc.Sprite,comboLabel:cc.Label,maxCombo:0,currentCombo:0,ceMaTX:cc.Node,ceMaJN:cc.Node,skillTime:20,ceMaBool:!0,miaoshouTX:cc.Sprite,battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},oneTime:{default:0,tooltip:"第一阶段出现的行数",type:cc.Integer},rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时速度叠加",type:cc.Integer},timeScale:{default:0,tooltip:"第一阶段初始速度",type:cc.Float},addTimeScale:{default:0,tooltip:"第一阶段加速度",type:cc.Float},secondScale:{default:0,tooltip:"第二阶段初始速度",type:cc.Float},addTimeSecScale:{default:0,tooltip:"第二阶段加速度",type:cc.Float},thirdScale:{default:0,tooltip:"第三阶段初始速度",type:cc.Float},addTimeThirdScale:{default:0,tooltip:"第三阶段加速度",type:cc.Float},clickSecondStage:{default:0,tooltip:"第二阶段阵型出现需要点击的行数",type:cc.Integer},clickThirdStage:{default:0,tooltip:"第三阶段阵型出现需要点击的行数",type:cc.Integer},totalLine:{default:0,tooltip:"第一阶段生成多少行,阵型出现,递减",type:cc.Integer}},onLoad:function(){o.troopScore=0,this.battleScoreDis.string=o.troopScore.toString(),this.initData(),this.battleUpBg.node.active=!0,this.spawnLine(),this.spawnY+=25,this.formationLayer.node.active=!0,this.formationComp=this.formationLayer.getComponent("QFormationScroll")},onDestroy:function(){this.arexOnePool.clear(),this.arexTwoPool.clear(),this.arexThreePool.clear(),this.bombPool.clear(),this.skillPool.clear()},startGame:function(){var t=cc.delayTime(3);this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var e=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard8","start"):s.UMLevelCheck("level8","start"),this.schedule(this.myUpdate,0),this.returnMenu()},this),i=cc.sequence(t,e);this.node.runAction(i)},initData:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.LightSpotSwitch=!1,o.returnOnce=!0,this.callonce=!0,o.MiaoShouHuiChun=!1,o.CeMaChangQu=!1,o.SkillBool=!1,this.Column=6,this.oneTime=0,this.timeScaleStore=1,this.overBattle.getComponent("GameOver").init(this),this.formationLayer.getComponent("QFormationScroll").init(this),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.currentStage=1,this.resetLine=this.rainbowLine,this.totalArr=[],this.clickNumber=o.clickNumber,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.compareHeight=.5*-this.screenHeight-20,this.spacing=parseInt((this.screenWidth-this.rWidth*this.Column)/(this.Column+1)),this.spacingX=.5*-this.screenWidth+this.spacing+40,this.spacingAndWidth=this.rainbowSpac+this.rWidth,this.checkState=!1,this.blockNodePool()},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++)this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.totalLine>0?(this.spawnLine(),this.rainbowLine<=0&&!o.CeMaChangQu&&(this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine,this.timeScaleStore=this.timeScale,this.setTimeScales(this.timeScale))):this.totalLine<=0&&this.callNodeOnce&&(o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(this.currentStage):this.seeFormation.node.active=!0,this.callNodeOnce=!1,this.formationLayer.node.active=!0,this.stopSkill(),this.formationComp.startUpdate(),this.checkState=!0)),this.temp[0].getComponent("Scroll").myUpdate(t),this.temp[0].y<this.compareHeight&&this.temp[0].tag<1004&&255==this.temp[0].opacity&&(this.temp[0].opacity,this.currentCombo=0,this.comboSprite.node.active=!1,this.clickN(0)),o.CeMaChangQu&&(this.ceMaBool&&this.skillChangqu(),this.skillCema(0)),this.temp[0].y<this.compareHeight&&this.deleteLine(this.temp);this.checkState&&this.formationComp.checkUpdate(t)},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},setPreScale:function(){this.setTimeScales(this.timeScaleStore)},comboSucc:function(){++this.currentCombo>=10&&(this.comboSprite.node.active=!0,this.comboLabel.string=this.currentCombo.toString()),this.maxCombo<this.currentCombo&&(this.maxCombo=this.currentCombo)},stopSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=0},resumeSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=20},clickN:function(t){if(this.clickNumber>0&&9!=t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),9!=t&&7!=t&&8!=t&&(this.temp[t].opacity=125)}if(0==this.clickNumber&&this.callonce||9==t){this.stopSkill(),8==t&&this.formationLayer.getComponent("QFormationScroll").stopBlockTime(),this.nullNode.active=!0,o.LightSpotSwitch=!0,this.callonce=!1,9!=t&&7!=t&&8!=t&&(this.temp[t].opacity=125);var n=parseInt(this.battleScoreDis.string);Math.floor(parseInt(this.battleScoreDis.string)*(1+.01*this.maxCombo)/10);this.setTimeScales(1),this.node.targetOff(this.node);var a=cc.hide(),c=cc.scaleTo(0,.1),r=cc.show(),h=cc.scaleBy(.5,10),l=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),u=cc.delayTime(2.5),d=cc.delayTime(1);if(this.stopUpdate(),9==t){g=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||s.UMLevelCheck("level8","finish"),o.HardModel||t.judgeOnce(-1),t.battleScore(n,this.maxCombo);var e=this,i=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(e.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(a,c,r,h,i))},this);this.node.runAction(cc.sequence(d,l,u,g))}else{var p=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),m=cc.delayTime(1),g=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),o.HardModel||s.UMLevelCheck("level8","fail"),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(n,this.maxCombo);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(a,c,r,h,e))},this);this.node.runAction(cc.sequence(d,p,m,l,u,g))}}},stopUpdate:function(){this.unschedule(this.myUpdate)},randomColor:function(){var t=Math.floor(11*Math.random()+1);if(t<5)this.tempColor.push(this.arexOnePool.get());else if(t<8)this.tempColor.push(this.arexTwoPool.get());else if(t<10)this.tempColor.push(this.arexThreePool.get());else if(10!=t||this.bombBool)if(11!=t||o.SkillBool)this.tempColor.push(this.arexOnePool.get());else{o.SkillBool=!0;var e=cc.instantiate(this.arexPF[5]);e.tag=1005,this.tempColor.push(e)}else this.bombBool=!0,this.tempColor.push(this.bombPool.get())},spawnLine:function(){this.bombBool=!1,this.randomColor(),this.rainbowLine--,this.totalLine--,this.tempColor[0].opacity=255,this.tempColor[0].parent=this.bgLayer.node;var t=Math.floor(6*Math.random());this.tempColor[0].setPosition(t*this.spacingAndWidth+this.spacingX,this.spawnY),this.totalArr.push(this.tempColor),this.tempColor=[]},deleteLine:function(t){this.totalArr.shift();for(var e=0;e<t.length;e++)switch(t[e].tag){case 1001:this.arexOnePool.put(t[e]);break;case 1002:this.arexTwoPool.put(t[e]);break;case 1003:this.arexThreePool.put(t[e]);break;case 1004:this.bombPool.put(t[e]);break;case 1005:this.skillPool.put(t[e])}},blockNodePool:function(){this.arexOnePool=new cc.NodePool,this.arexTwoPool=new cc.NodePool,this.arexThreePool=new cc.NodePool,this.bombPool=new cc.NodePool,this.skillPool=new cc.NodePool;for(var t=0;t<40;++t){var e=cc.instantiate(this.arexPF[0]);e.tag=1001,this.arexOnePool.put(e);var i=cc.instantiate(this.arexPF[1]);i.tag=1002,this.arexTwoPool.put(i);var o=cc.instantiate(this.arexPF[2]);o.tag=1003,this.arexThreePool.put(o);var n=cc.instantiate(this.arexPF[4]);n.tag=1004,this.bombPool.put(n)}},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},skillChangqu:function(){o.EffectOffset&&cc.audioEngine.play(this.cemaMusic),this.ceMaBool=!1,this.ceMaTX.active=!0,this.ceMaTX.runAction(cc.show()),this.ceMaTX.getComponent(cc.Animation).play("jndh"),this.ceMaJN.active=!0},skillCema:function(t){this.temp[t].tag<1004&&255==this.temp[t].opacity&&(this.skillTime-=1,this.setTimeScales(5),this.addScore(this.temp[t])),0==this.skillTime&&(o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaBool=!0,this.ceMaTX.x=-470,this.ceMaTX.y=-30,this.skillTime=20,this.ceMaJN.active=!1,this.ceMaTX.runAction(cc.hide()),this.setTimeScales(this.timeScale))},addScore:function(t){t.opacity=125,"QarexOne"==t.name?o.troopScore+=10:"QarexTwo"==t.name?o.troopScore+=20:"QarexThree"==t.name&&(o.troopScore+=30),this.battleScoreDis.string=o.troopScore.toString()},skillMiaoshou:function(){if(o.MiaoShouHuiChun=!1,4==this.clickNumber);else{o.EffectOffset&&cc.audioEngine.play(this.miaoshouMusic,!1,1);for(var t=0;t<4;t++)1==this.lossBlood[t].node.active&&(this.clickNumber++,this.lossBlood[t].node.active=!1,this.haveBlood[t].node.active=!0,this.lossBloodEffect[t].node.opacity=255,this.lossBloodEffect[t].node.setScale(1,1),this.lossBloodEffect[t].node.active=!1,t=4);this.miaoshouTX.node.active=!0;var e=cc.delayTime(2),i=cc.callFunc(function(){this.miaoshouTX.node.active=!1},this),n=cc.sequence(e,i);this.miaoshouTX.node.runAction(n)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],QuitKuang:[function(t,e,i){"use strict";cc._RF.push(e,"73104Xs+1tL+LftFQa80mHG","QuitKuang");var o=t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this),this.node.setLocalZOrder(21)},yesBtn:function(){cc.game.isPaused()&&cc.game.resume(),o.MusicOffset&&cc.audioEngine.stopAll(),o.battlePower=!1,cc.director.getScheduler().setTimeScale(1),cc.director.loadScene("MenuScene")},noBtn:function(){cc.game.isPaused()&&cc.game.resume(),o.returnOnce=!0,this.node.active=!1}}),cc._RF.pop()},{Common:"Common"}],RFormationScroll:[function(t,e,i){"use strict";cc._RF.push(e,"b73511Al3RNTqfAVF3HHODD","RFormationScroll");var o=t("Common");cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1},formationBoat:{default:null,type:cc.Prefab,tooltip:"阵型船倒计时格子"},boatArex:{default:null,type:cc.Prefab,tooltip:"中间块船只"},bombArex:{default:null,type:cc.Prefab,tooltip:"中间块炸弹"},fourColor:[],tempPos:[],onePos:!1,twoPos:!1,threePos:!1,fourPos:!1,firstStage:!0,secondStage:!0,subSecondStage:!0,thirdStage:!0,secondCall:!0,thirdCall:!0,callOnce:!0,callTwice:!0,callThird:!0,callFour:!0,callFive:!0,oneLine:8,twoLine:4,threeLine:8,fourLine:4},onLoad:function(){this.speed=150,this.firstStage=!0,this.secondStage=!0,this.thirdStage=!0,this.fourStage=0,this.hardFlag=!1,this.hardCall=!0,this.subThirdStage=!0,this.subFirstStage=!0,this.scrolFlag=!0,this.theThirdStage=!0,this.infiniteModel=!1,this.resumeFlag=!0,this.callInfinite=!1,this.subSecondFlag=!0,this.subThirdFlag=!0,this.oneTimes=[40,30,40,30],this.twoTimes=[35,27,35,27],this.threeTimes=[30,24,30,24],this.fourTimes=[30,24,30,24],this.initNodePool(),this.spawnOneGroup(),this.spawnTwoGroup(),this.spawnThreeGroup(),this.spawnFourGroup(),this.temp=[],this.temp.push([-47.2,134.5]),this.temp.push([49.2,134.5]),this.temp.push([-47.2,28.5]),this.temp.push([49.2,28.5]),this.setFourPos()},initNodePool:function(){this.blockPool=new cc.NodePool;for(var t=0;t<24;++t){var e=cc.instantiate(this.formationBoat);this.blockPool.put(e)}},spawnOneGroup:function(){this.oneGroup=[];for(var t=0;t<8;++t)this.oneGroup.push(this.blockPool.get()),this.oneGroup[t].getChildByName("Timer").getComponent("RTimer").setTime(this.oneTimes[0]),this.node.addChild(this.oneGroup[t]);this.oneGroup[0].setPosition(cc.p(-240,-391)),this.oneGroup[1].setPosition(cc.p(-143.6,-391)),this.oneGroup[2].setPosition(cc.p(145.6,-391)),this.oneGroup[3].setPosition(cc.p(242,-391)),this.oneGroup[4].setPosition(cc.p(-240,-287.5)),this.oneGroup[5].setPosition(cc.p(-143.6,-287.5)),this.oneGroup[6].setPosition(cc.p(145.6,-287.5)),this.oneGroup[7].setPosition(cc.p(242,-287.5))},spawnTwoGroup:function(){this.twoGroup=[];for(var t=0;t<4;++t)this.twoGroup.push(this.blockPool.get()),this.twoGroup[t].getChildByName("Timer").getComponent("RTimer").setTime(this.oneTimes[1]),this.node.addChild(this.twoGroup[t]),this.twoGroup[t].opacity=100,this.twoGroup[t].getComponent("RboatFormation").setInputControl();this.twoGroup[0].setPosition(cc.p(-240,-182)),this.twoGroup[1].setPosition(cc.p(242,-182)),this.twoGroup[2].setPosition(cc.p(-240,346)),this.twoGroup[3].setPosition(cc.p(242,346))},spawnThreeGroup:function(){this.threeGroup=[];for(var t=0;t<8;++t)this.threeGroup.push(this.blockPool.get()),this.threeGroup[t].getChildByName("Timer").getComponent("RTimer").setTime(this.oneTimes[2]),this.node.addChild(this.threeGroup[t]),this.threeGroup[t].opacity=100,this.threeGroup[t].getComponent("RboatFormation").setInputControl();this.threeGroup[0].setPosition(cc.p(-47.2,-182)),this.threeGroup[1].setPosition(cc.p(48.2,-182)),this.threeGroup[2].setPosition(cc.p(-240,28.5)),this.threeGroup[3].setPosition(cc.p(242,28.5)),this.threeGroup[4].setPosition(cc.p(-240,134.5)),this.threeGroup[5].setPosition(cc.p(242,134.5)),this.threeGroup[6].setPosition(cc.p(-47.2,346)),this.threeGroup[7].setPosition(cc.p(49.2,346))},spawnFourGroup:function(){this.fourGroup=[];for(var t=0;t<4;++t)this.fourGroup.push(this.blockPool.get()),this.fourGroup[t].getChildByName("Timer").getComponent("RTimer").setTime(this.oneTimes[3]),this.node.addChild(this.fourGroup[t]),this.fourGroup[t].opacity=100,this.fourGroup[t].getComponent("RboatFormation").setInputControl();this.fourGroup[0].setPosition(cc.p(-143.6,-76.5)),this.fourGroup[1].setPosition(cc.p(145.6,-76.5)),this.fourGroup[2].setPosition(cc.p(-143.6,240)),this.fourGroup[3].setPosition(cc.p(145.6,240))},startCountdownOne:function(){for(var t=0;t<this.fourColor.length;++t)"RboatMiddle"===this.fourColor[t].name?this.fourColor[t].getComponent("RboatMiddle").setInputControl():"RbombMiddle"===this.fourColor[t].name&&this.fourColor[t].getComponent("RbombMiddle").setInputControl();for(var e=0;e<this.oneGroup.length;++e)this.oneGroup[e].getComponent("RboatFormation").startMyUpdate()},startCountdownTwo:function(){for(var t=0;t<this.twoGroup.length;++t)this.twoGroup[t].getComponent("RboatFormation").startMyUpdate()},startCountdownThree:function(){for(var t=0;t<this.threeGroup.length;++t)this.threeGroup[t].getComponent("RboatFormation").startMyUpdate()},startCountdownFour:function(){for(var t=0;t<this.fourGroup.length;++t)this.fourGroup[t].getComponent("RboatFormation").startMyUpdate()},stopBlockTime:function(){for(var t=0;t<8;++t)this.oneGroup[t].getComponent("RboatFormation").stopTimeUpdate(),this.threeGroup[t].getComponent("RboatFormation").stopTimeUpdate();for(var e=0;e<4;++e)this.twoGroup[e].getComponent("RboatFormation").stopTimeUpdate(),this.fourGroup[e].getComponent("RboatFormation").stopTimeUpdate()},pauseBlockTime:function(){for(var t=0;t<8;++t)this.oneGroup.length>0&&cc.director.getScheduler().pauseTarget(this.oneGroup[t].getChildByName("Timer").getComponent("RTimer")),this.threeGroup.length>0&&cc.director.getScheduler().pauseTarget(this.threeGroup[t].getChildByName("Timer").getComponent("RTimer"));for(var e=0;e<4;++e)this.twoGroup.length>0&&cc.director.getScheduler().pauseTarget(this.twoGroup[e].getChildByName("Timer").getComponent("RTimer")),this.fourGroup.length>0&&cc.director.getScheduler().pauseTarget(this.fourGroup[e].getChildByName("Timer").getComponent("RTimer"))},resumeBlockTime:function(){for(var t=0;t<8;++t)this.oneGroup.length>0&&cc.director.getScheduler().resumeTarget(this.oneGroup[t].getChildByName("Timer").getComponent("RTimer")),this.threeGroup.length>0&&cc.director.getScheduler().resumeTarget(this.threeGroup[t].getChildByName("Timer").getComponent("RTimer"));for(var e=0;e<4;++e)this.twoGroup.length>0&&cc.director.getScheduler().resumeTarget(this.twoGroup[e].getChildByName("Timer").getComponent("RTimer")),this.fourGroup.length>0&&cc.director.getScheduler().resumeTarget(this.fourGroup[e].getChildByName("Timer").getComponent("RTimer"))},resumeFormation:function(){this.oneLine=8,this.twoLine=4,this.threeLine=8,this.fourLine=4,this.fourStage>0&&(this.infiniteModel=!0,this.resumeFlag=!0),this.setFourPos();var t=[];if(!this.firstStage&&this.secondStage&&this.subSecondFlag)this.subSecondFlag=!1,t=this.twoTimes;else if(!this.secondStage&&this.thirdStage&&this.subThirdFlag)this.subThirdFlag=!1,t=this.threeTimes;else if(o.HardModel){for(e=0;e<this.fourTimes.length;++e)this.fourTimes[e]-=2;t=this.fourTimes}for(i=0;i<this.fourColor.length;++i)"RboatMiddle"===this.fourColor[i].name?this.fourColor[i].getComponent("RboatMiddle").closeInputControl():"RbombMiddle"===this.fourColor[i].name&&this.fourColor[i].getComponent("RbombMiddle").closeInputControl();for(var e=0;e<this.oneGroup.length;++e)this.oneGroup[e].opacity=255,this.oneGroup[e].getComponent("RboatFormation").closeControl(),this.oneGroup[e].getChildByName("Timer").getComponent("RTimer").setTime(t[0]);for(var i=0;i<this.twoGroup.length;++i)this.twoGroup[i].opacity=100,this.twoGroup[i].getChildByName("Timer").getComponent("RTimer").setTime(t[1]);for(var n=0;n<this.threeGroup.length;++n)this.threeGroup[n].opacity=100,this.threeGroup[n].getChildByName("Timer").getComponent("RTimer").setTime(t[2]);for(var s=0;s<this.fourGroup.length;++s)this.fourGroup[s].opacity=100,this.fourGroup[s].getChildByName("Timer").getComponent("RTimer").setTime(t[3])},myUpdate:function(t){this.node.y<=0&&this.firstStage?this.callOnce&&(cc.director.getScheduler().setTimeScale(1),this.callOnce=!1,this.game.seeFormation.node.active=!1,this.unschedule(this.myUpdate),this.startCountdownOne()):this.node.y<=0&&!this.secondStage&&this.subSecondStage?this.secondCall&&(cc.director.getScheduler().setTimeScale(1),this.secondCall=!1,this.game.seeFormation.node.active=!1,this.unschedule(this.myUpdate),this.startCountdownOne()):this.node.y<=0&&!this.thirdStage&&this.theThirdStage?this.thirdCall&&(cc.director.getScheduler().setTimeScale(1),this.thirdCall=!1,this.game.seeFormation.node.active=!1,this.unschedule(this.myUpdate),this.startCountdownOne()):this.node.y<=0&&o.HardModel&&this.hardFlag?this.hardCall&&(cc.director.getScheduler().setTimeScale(1),this.hardCall=!1,this.game.seeFormation.node.active=!1,this.unschedule(this.myUpdate),this.startCountdownOne()):(this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y),this.node.y<=-1e3&&(this.node.x=0,this.node.y=1136,this.resumeFormation(),!this.firstStage&&this.secondStage&&this.subFirstStage?(this.node.targetOff(this),this.game.seeFormation.string="发现铁索船阵！12秒内将其击破！",this.game.currentStage=2,this.subFirstStage=!1,this.secondStage=!1,this.callOnce=!0,this.callTwice=!0,this.callThird=!0,this.callFour=!0,this.callFive=!0):!this.secondStage&&this.thirdStage&&this.subThirdStage?(this.node.targetOff(this),this.thirdStage=!1,this.game.currentStage=3,this.subThirdStage=!1,this.game.seeFormation.string="发现铁索船阵！10秒内将其击破！",this.secondStage=!0,this.callOnce=!0,this.callTwice=!0,this.callThird=!0,this.callFour=!0,this.callFive=!0):o.HardModel&&(this.game.currentStage++,this.callOnce=!0,this.callTwice=!0,this.callThird=!0,this.callFour=!0,this.hardFlag=!0,this.node.targetOff(this),this.game.callNodeOnce=!0),this.unschedule(this.myUpdate))},checkUpdate:function(t){if(o.LightSpotSwitch&&this.unschedule(this.myUpdate),!this.callOnce||!this.secondCall||!this.thirdCall){if(0==this.oneLine&&this.callTwice&&(this.startCountdownTwo(),this.callTwice=!1),0==this.twoLine&&this.callThird&&(this.startCountdownThree(),this.callThird=!1),0==this.threeLine&&this.callFour&&(this.startCountdownFour(),this.callFour=!1),!this.thirdCall&&0==this.fourLine)if(o.HardModel){if(this.scrolFlag){this.scrolFlag=!1,this.infiniteModel=!0,this.theThirdStage=!1,this.thirdCall=!0,this.callInfinite=!0,this.fourStage++,this.fourLine=4,this.game.callNodeOnce=!0,this.game.totalLine=this.game.clickThirdStage,this.stopBlockTime();for(e=0;e<this.tempPos.length;++e)this.tempPos[e]||(this.game.clickN(7),this.game.currentCombo=0,this.game.comboSprite.node.active=!1);this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()}}else this.game.clickN(9),this.thirdCall=!0;if(this.fourStage>0&&0===this.fourLine&&this.resumeFlag&&(this.infiniteModel=!0,this.resumeFlag=!1),this.thirdStage||this.infiniteModel){if(0==this.fourLine&&this.callFive||this.infiniteModel&&0===this.fourLine){this.game.callNodeOnce=!0,this.callFive=!1,this.firstStage&&!this.infiniteModel?(this.game.totalLine=this.game.clickSecondStage,this.firstStage=!1,this.stopBlockTime()):this.secondStage||this.infiniteModel||(this.secondStage=!1,this.game.totalLine=this.game.clickThirdStage,this.subSecondStage=!1,this.stopBlockTime()),this.infiniteModel&&(this.hardFlag=!1,this.hardCall=!0,this.infiniteModel=!1,this.game.totalLine=this.game.clickSecondStage,this.stopBlockTime());for(var e=0;e<this.tempPos.length;++e)this.tempPos[e]||(this.game.clickN(7),this.game.currentCombo=0,this.game.comboSprite.node.active=!1);this.game.checkState=!1,this.startUpdate(),this.game.spawnLine(this.game.rWidth,this.game.spawnY,this.game.Column),this.game.resumeSkill()}}else;}},onDestroy:function(){this.boatPool.clear(),this.bombPool.clear()},init:function(t){this.game=t},stopTargetOff:function(){this.node.targetOff(this)},getNodeY:function(){return this.node.y},setSpeed:function(t){this.speed+=t},slowDown:function(t){this.speed=t},stopUpdate:function(){this.unschedule(this.myUpdate)},startUpdate:function(){this.schedule(this.myUpdate,0)},fourColorPool:function(){this.boatPool=new cc.NodePool,this.bombPool=new cc.NodePool;for(var t=0;t<4;++t){var e=cc.instantiate(this.boatArex);this.boatPool.put(e);var i=cc.instantiate(this.bombArex);this.bombPool.put(i)}},putColorPool:function(t){"RboatMiddle"==t.name?this.boatPool.put(t):"RbombMiddle"==t.name&&this.bombPool.put(t)},fourBlockRandom:function(t){var e=[];if(0===t)return e;var i=t;this.fourColorPool(),Math.floor(10*Math.random())<5&&(this.boatPool.size()>0?e.push(this.boatPool.get()):e.push(cc.instantiate(this.boatArex)),i-=1);for(var o=0;o<i;++o)this.bombPool.size()>0?e.push(this.bombPool.get()):e.push(cc.instantiate(this.bombArex));return e=e.sort(function(){return.5-Math.random()})},setFourPos:function(){if(this.fourColor.length>0)for(var t=0;t<this.fourColor.length;++t)this.putColorPool(this.fourColor[t]);this.onePos=!1,this.twoPos=!1,this.threePos=!1,this.fourPos=!1,this.tempPos=[],this.tempPos.push(this.onePos),this.tempPos.push(this.twoPos),this.tempPos.push(this.threePos),this.tempPos.push(this.fourPos),this.fourColor.splice(0,this.fourColor.length-1),this.fourColor=this.fourBlockRandom(4);for(var e=0;e<this.fourColor.length;++e)this.fourColor[e].parent=this.node,this.fourColor[e].anchorX=.5,this.fourColor[e].anchorY=.5,this.fourColor[e].x=this.temp[e][0],this.fourColor[e].y=this.temp[e][1]},changeFourPos:function(){if(0!==this.fourColor.length){for(var t=[],e=0;e<this.fourColor.length;++e)if(255===this.fourColor[e].opacity){var i=[];i.push(this.fourColor[e].x),i.push(this.fourColor[e].y),t.push(i)}if(this.fourColor.length>0)for(var o=0;o<this.fourColor.length;++o)this.putColorPool(this.fourColor[o]);this.fourColor.splice(0,this.fourColor.length-1),this.fourColor=this.fourBlockRandom(t.length);for(e=0;e<this.fourColor.length;++e)this.fourColor[e].parent=this.node,this.fourColor[e].anchorX=.5,this.fourColor[e].anchorY=.5,this.fourColor[e].x=t[e][0],this.fourColor[e].y=t[e][1],"RboatMiddle"===this.fourColor[e].name?this.fourColor[e].getComponent("RboatMiddle").setInputControl():"RbombMiddle"===this.fourColor[e].name&&this.fourColor[e].getComponent("RbombMiddle").setInputControl()}}}),cc._RF.pop()},{Common:"Common"}],RTimer:[function(t,e,i){"use strict";cc._RF.push(e,"6e66ejeJ75Bla34xd+J+miH","RTimer");var o=t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},time:0},onLoad:function(){},setTime:function(t){this.time=t,this.node.active=!0;var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);this.timerDisplay.string=e+"."+i},getTime:function(t){var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);return e<=0&&i<=0?0:1},startmyUpdate:function(){this.schedule(this.myUpdate,.1)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},myUpdate:function(t){cc.director.getScheduler().setTimeScale(1),o.TimeState&&(this.node.active=!0,o.TimeState=!1),this.time--;var e=Math.floor(this.time/10),i=this.time-10*Math.floor(this.time/10);this.timerDisplay.string=e+"."+i,e<=0&&i<=0&&(this.unschedule(this.myUpdate),this.node.active=!1),0===this.node.parent.parent.parent.getComponent("RedWar").clickNumber&&this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],RboatFormation:[function(t,e,i){"use strict";cc._RF.push(e,"bbcdfwEVdtIxrmPsIzyaPDh","RboatFormation");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"},timer:{default:null,type:cc.Label,tooltip:"倒计时"},formationStage:{default:0,type:cc.Integer,tooltip:"阵型阶段"}},onLoad:function(){this.timerComp=this.timer.node.getComponent("RTimer"),this.callOnce=!1,this.parentComp=this.node.parent.getComponent("RFormationScroll"),this.grandFather=this.node.parent.parent.getComponent("RedWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeControl:function(){this.node.targetOff(this)},clickFunc:function(){if(100==this.node.opacity)this.grandFather.clickN(8),this.grandFather.currentCombo=0,this.grandFather.comboSprite.node.active=!1;else if(255==this.node.opacity){o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(6*Math.random())]),this.node.opacity=125,this.timer.node.active=!1,this.timerComp.stopmyUpdate();var t=cc.callFunc(function(){this.node.active=!1},this);this.parentComp.callTwice&&0!=this.parentComp.oneLine?this.parentComp.oneLine--:this.parentComp.callThird&&0!=this.parentComp.twoLine?this.parentComp.twoLine--:this.parentComp.callFour&&0!=this.parentComp.threeLine?this.parentComp.threeLine--:(this.parentComp.callFive||this.parentComp.callInfinite)&&0!=this.parentComp.fourLine&&this.parentComp.fourLine--,this.node.runAction(cc.fadeOut(1),t),o.troopScore+=10,this.parentComp.changeFourPos(),this.grandFather.comboSucc(),this.grandFather.battleScoreDis.string=o.troopScore.toString(),this.stopMyUpdate()}},startMyUpdate:function(t){this.node.opacity=255,this.timerComp.startmyUpdate(),this.setInputControl(),this.schedule(this.myUpdate,0)},stopTimeUpdate:function(){this.timerComp.stopmyUpdate()},myUpdate:function(t){0==this.timerComp.getTime()&&(this.callOnce=!0,this.blockAction(),this.stopMyUpdate())},stopMyUpdate:function(){this.unschedule(this.myUpdate)},blockAction:function(){this.node.parent.parent.getComponent("RedWar").clickN(8),this.parentComp.callTwice&&0!=this.parentComp.oneLine?this.parentComp.oneLine--:this.parentComp.callThird&&0!=this.parentComp.twoLine?this.parentComp.twoLine--:this.parentComp.callFour&&0!=this.parentComp.threeLine?this.parentComp.threeLine--:(this.parentComp.callFive||this.parentComp.callInfinite)&&0!=this.parentComp.fourLine&&this.parentComp.fourLine--,this.timer.node.active=!1;var t=cc.moveBy(.05,cc.p(-5,0)),e=cc.moveBy(.1,cc.p(5,0)),i=cc.moveBy(.05,cc.p(0,5)),o=cc.moveBy(.05,cc.p(0,-5)),n=cc.callFunc(function(){this.node.opacity=125,this.node.stopAction(s)},this),s=cc.sequence(t,e,i,o,n);this.node.runAction(s),this.node.targetOff(this)},getLength:function(){return!(1!=this.timerComp.getTime()||!this.callOnce)&&(this.callOnce=!1,!0)}}),cc._RF.pop()},{Common:"Common"}],RboatMiddle:[function(t,e,i){"use strict";cc._RF.push(e,"2f78emDko9BXr9NIUOo324A","RboatMiddle");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.parentComp=this.node.parent.getComponent("RFormationScroll")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeInputControl:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(6*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),-47.2==this.node.x&&134.5==this.node.y?this.parentComp.tempPos[0]=!0:49.2==this.node.x&&134.5==this.node.y?this.parentComp.tempPos[1]=!0:-47.2==this.node.x&&28.5==this.node.y?this.parentComp.tempPos[2]=!0:49.2==this.node.x&&28.5==this.node.y&&(this.parentComp.tempPos[3]=!0),o.troopScore+=10,this.node.parent.parent.getComponent("RedWar").comboSucc(),this.node.parent.parent.getComponent("RedWar").battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],RboatNormal:[function(t,e,i){"use strict";cc._RF.push(e,"df64109vU9O25G+PXJm3Tu4","RboatNormal");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl(),this.parentComp=this.node.parent.getComponent("RedWar")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(6*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=10,this.parentComp.comboSucc(),this.parentComp.battleScoreDis.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],RbombMiddle:[function(t,e,i){"use strict";cc._RF.push(e,"8dac1W575dDtLBWXWKSeuyN","RbombMiddle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.parentComp=this.node.parent.getComponent("RFormationScroll")},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeInputControl:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,-47.2==this.node.x&&134.5==this.node.y?this.parentComp.tempPos[0]=!0:49.2==this.node.x&&134.5==this.node.y?this.parentComp.tempPos[1]=!0:-47.2==this.node.x&&28.5==this.node.y?this.parentComp.tempPos[2]=!0:49.2==this.node.x&&28.5==this.node.y&&(this.parentComp.tempPos[3]=!0),this.node.parent.parent.getComponent("RedWar").currentCombo=0,this.node.parent.parent.getComponent("RedWar").comboSprite.node.active=!1,this.node.parent.parent.getComponent("RedWar").clickN(7))}}),cc._RF.pop()},{}],Rbomb:[function(t,e,i){"use strict";cc._RF.push(e,"8d6f29MgfBOlqYjRbZZbzmD","Rbomb"),cc.Class({extends:cc.Component,properties:{clickSound:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("RedWar").currentCombo=0,this.node.parent.getComponent("RedWar").comboSprite.node.active=!1,this.node.parent.getComponent("RedWar").clickN(7))}}),cc._RF.pop()},{}],RedWar:[function(t,e,i){"use strict";cc._RF.push(e,"b22bc5eiKtJYr6aYkakycKW","RedWar");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{arexPF:{default:[],type:cc.Prefab},bgLayer:cc.Sprite,tempColor:[],rWidth:0,rHeight:0,rainbowSpac:20,callNodeOnce:!0,totalArr:[],temp:[],battleUpBg:cc.Layout,battleScoreDis:cc.Label,haveBlood:{default:[],type:cc.Sprite},lossBlood:{default:[],type:cc.Sprite},lossBloodEffect:{default:[],type:cc.Sprite},cemaMusic:{default:null,url:cc.AudioClip},miaoshouMusic:{default:null,url:cc.AudioClip},overBattle:cc.Layout,overSucc:cc.Layout,nullNode:cc.Node,formationLayer:cc.Layout,seeFormation:cc.Label,startAnim:cc.Node,comboSprite:cc.Sprite,comboLabel:cc.Label,maxCombo:0,currentCombo:0,ceMaTX:cc.Node,ceMaJN:cc.Node,skillTime:20,ceMaBool:!0,miaoshouTX:cc.Sprite,battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},oneTime:{default:0,tooltip:"第一阶段出现的行数",type:cc.Integer},rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时速度叠加",type:cc.Integer},timeScale:{default:0,tooltip:"第一阶段初始速度",type:cc.Float},addTimeScale:{default:0,tooltip:"第一阶段加速度",type:cc.Float},secondScale:{default:0,tooltip:"第二阶段初始速度",type:cc.Float},addTimeSecScale:{default:0,tooltip:"第二阶段加速度",type:cc.Float},thirdScale:{default:0,tooltip:"第三阶段初始速度",type:cc.Float},addTimeThirdScale:{default:0,tooltip:"第三阶段加速度",type:cc.Float},clickSecondStage:{default:0,tooltip:"第二阶段阵型出现需要点击的行数",type:cc.Integer},clickThirdStage:{default:0,tooltip:"第三阶段阵型出现需要点击的行数",type:cc.Integer},totalLine:{default:0,tooltip:"第一阶段生成多少行,阵型出现,递减",type:cc.Integer},skillArea:cc.Node},onLoad:function(){this.initData(),this.battleUpBg.node.active=!0,this.battleUpBg.node.opacity=0,this.spawnLine(),this.spawnY+=25,o.returnOnce=!0,this.formationLayer.node.active=!0,this.formationComp=this.formationLayer.getComponent("RFormationScroll")},onDestroy:function(){this.boatPool.clear(),this.bombPool.clear(),this.skillPool.clear()},startGame:function(){var t=cc.delayTime(2),e=cc.delayTime(1);this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.node.setLocalZOrder(11),this.skillArea.setLocalZOrder(11);var i=cc.callFunc(function(){this.node.setLocalZOrder(0),this.battleUpBg.node.runAction(cc.fadeIn(1))},this),n=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard2","start"):s.UMLevelCheck("level2","start"),this.schedule(this.myUpdate,0),this.returnMenu()},this),a=cc.sequence(t,i,e,n);this.node.runAction(a)},initData:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.LightSpotSwitch=!1,this.callonce=!0,o.troopScore=0,this.battleScoreDis.string=o.troopScore.toString(),o.MiaoShouHuiChun=!1,o.CeMaChangQu=!1,o.SkillBool=!1,this.oneTime=0,this.timeScaleStore=1,this.currentStage=1,this.overBattle.getComponent("GameOver").init(this),this.formationLayer.getComponent("RFormationScroll").init(this),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.resetLine=this.rainbowLine,this.totalArr=[],this.clickNumber=o.clickNumber,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.compareHeight=.5*-this.screenHeight-20,this.spacingX=.5*-this.screenWidth+this.rainbowSpac+40,this.spacingAndWidth=this.rainbowSpac+this.rWidth,this.checkState=!1,this.blockNodePool()},myUpdate:function(t){for(var e=0;e<this.totalArr.length;e++)this.temp=this.totalArr[e],e==this.totalArr.length-1&&this.temp[0].y<=this.spawnHeight&&(this.totalLine>0?(this.spawnLine(),this.rainbowLine<=0&&!o.CeMaChangQu&&(this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine,this.setTimeScales(this.timeScale),this.timeScaleStore=this.timeScale)):this.totalLine<=0&&this.callNodeOnce&&(o.HardModel?cc.find("Canvas/HardBoci").getComponent("AnimationHardBoci").bociAnimation(this.currentStage):this.seeFormation.node.active=!0,this.callNodeOnce=!1,this.formationLayer.node.active=!0,this.stopSkill(),this.formationComp.startUpdate(),this.checkState=!0)),this.temp[0].getComponent("Scroll").myUpdate(t),this.temp[0].y<this.compareHeight&&1003==this.temp[0].tag&&255==this.temp[0].opacity&&(this.temp[0].opacity,this.currentCombo=0,this.comboSprite.node.active=!1,this.clickN(0)),o.CeMaChangQu&&(this.ceMaBool&&this.skillChangqu(),this.skillCema(0)),this.temp[0].y<this.compareHeight&&this.deleteLine(this.temp);this.checkState&&this.formationComp.checkUpdate(t)},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},setPreScale:function(){this.setTimeScales(this.timeScaleStore)},comboSucc:function(){++this.currentCombo>=10&&(this.comboSprite.node.active=!0,this.comboLabel.string=this.currentCombo.toString()),this.maxCombo<this.currentCombo&&(this.maxCombo=this.currentCombo)},stopSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=0},resumeSkill:function(){o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaTX.active=!1,this.ceMaJN.active=!1,this.ceMaBool=!0,this.skillTime=20},clickN:function(t){if(this.clickNumber>0&&9!=t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),9!=t&&7!=t&&8!=t&&(this.temp[t].opacity=125)}if(0==this.clickNumber&&this.callonce||9==t){this.stopSkill(),8==t&&this.formationLayer.getComponent("RFormationScroll").stopBlockTime(),this.node.getChildByName("redWarFormation").getComponent("RFormationScroll").pauseBlockTime(),o.LightSpotSwitch=!0,this.callonce=!1,9!=t&&7!=t&&8!=t&&(this.temp[t].opacity=125);var n=parseInt(this.battleScoreDis.string);Math.floor(parseInt(this.battleScoreDis.string)*(1+.01*this.maxCombo)/10);this.setTimeScales(1),this.node.targetOff(this.node);var a=cc.hide(),c=cc.scaleTo(0,.1),r=cc.show(),h=cc.scaleBy(.5,10),l=cc.delayTime(1),u=cc.callFunc(function(){this.node.setLocalZOrder(10);var t=this.node.getChildByName("startAnimRedReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),d=cc.delayTime(2.5);if(this.stopUpdate(),9==t){this.nullNode.active=!0,this.nullNode.setLocalZOrder(10);g=cc.callFunc(function(){o.HardModel||s.UMLevelCheck("level2","finish"),this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||t.judgeOnce(-1),t.battleScore(n,this.maxCombo);var e=this,i=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(e.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(a,c,r,h,i))},this);this.node.runAction(cc.sequence(l,u,d,g))}else{this.nullNode.active=!0,this.nullNode.setLocalZOrder(10),o.HardModel||s.UMLevelCheck("level2","fail");var p=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),m=cc.delayTime(1),g=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(n,this.maxCombo);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(a,c,r,h,e))},this);this.node.runAction(cc.sequence(l,p,m,u,d,g))}}},stopUpdate:function(){this.unschedule(this.myUpdate)},randomColor:function(){var t=Math.floor(11*Math.random());if(t<7)this.tempColor.push(this.boatPool.get());else if(t<10&&!this.bombBool)this.bombBool=!0,this.tempColor.push(this.bombPool.get());else if(o.SkillBool)this.tempColor.push(this.boatPool.get());else{o.SkillBool=!0;var e=cc.instantiate(this.arexPF[3]);e.tag=1005,this.tempColor.push(e)}},spawnLine:function(){this.bombBool=!1,this.randomColor(),this.rainbowLine--,this.totalLine--,this.tempColor[0].opacity=255,this.tempColor[0].parent=this.bgLayer.node;var t=Math.floor(6*Math.random());this.tempColor[0].setPosition(t*this.spacingAndWidth+this.spacingX,this.spawnY),this.totalArr.push(this.tempColor),this.tempColor=[]},deleteLine:function(t){switch(this.totalArr.shift(),t[0].tag){case 1003:this.boatPool.put(t[0]);break;case 1004:this.bombPool.put(t[0]);break;case 1005:this.skillPool.put(t[0])}},blockNodePool:function(){this.boatPool=new cc.NodePool,this.bombPool=new cc.NodePool,this.skillPool=new cc.NodePool;for(var t=0;t<40;++t){var e=cc.instantiate(this.arexPF[0]);e.tag=1003,this.boatPool.put(e);var i=cc.instantiate(this.arexPF[1]);i.tag=1004,this.bombPool.put(i)}},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},skillChangqu:function(){o.EffectOffset&&cc.audioEngine.play(this.cemaMusic),this.ceMaBool=!1,this.ceMaTX.active=!0,this.ceMaTX.runAction(cc.show()),this.ceMaTX.getComponent(cc.Animation).play("jndh"),this.ceMaJN.active=!0},skillCema:function(t){1003==this.temp[t].tag&&255==this.temp[t].opacity&&(this.skillTime-=1,this.setTimeScales(5),this.addScore(this.temp[t])),0==this.skillTime&&(o.CeMaChangQu=!1,o.SkillBool=!1,this.ceMaBool=!0,this.ceMaTX.x=-470,this.ceMaTX.y=-30,this.skillTime=20,this.ceMaJN.active=!1,this.ceMaTX.runAction(cc.hide()),this.setTimeScales(this.timeScale))},addScore:function(t){t.opacity=125,o.troopScore+=10,this.battleScoreDis.string=o.troopScore.toString()},skillMiaoshou:function(){if(o.MiaoShouHuiChun=!1,4==this.clickNumber);else{o.EffectOffset&&cc.audioEngine.play(this.miaoshouMusic,!1,1);for(var t=0;t<4;t++)1==this.lossBlood[t].node.active&&(this.clickNumber++,this.lossBlood[t].node.active=!1,this.haveBlood[t].node.active=!0,this.lossBloodEffect[t].node.opacity=255,this.lossBloodEffect[t].node.setScale(1,1),this.lossBloodEffect[t].node.active=!1,t=4);this.miaoshouTX.node.active=!0;var e=cc.delayTime(2),i=cc.callFunc(function(){this.miaoshouTX.node.active=!1},this),n=cc.sequence(e,i);this.miaoshouTX.node.runAction(n)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],Rskill:[function(t,e,i){"use strict";cc._RF.push(e,"0d786KGnFxCf7BEcQytggBt","Rskill");var o=t("Common");cc.Class({extends:cc.Component,properties:{ceMa:{default:null,type:cc.Button,tooltip:"策马长驱"},miaoShou:{default:null,type:cc.Button,tooltip:"妙手回春"}},onLoad:function(){this.randomSkill()},randomSkill:function(){if(o.SkillBool){var t=Math.floor(10*Math.random());t<6&&o.MonthCardVIP?this.miaoShou.node.active=!0:this.ceMa.node.active=!0}},cemachangqu:function(){o.CeMaChangQu=!0,this.node.runAction(cc.fadeOut(1)),this.ceMa.enabled=!1},miaoshouhuichun:function(){o.MiaoShouHuiChun=!0,this.node.runAction(cc.fadeOut(1)),this.node.parent.getComponent("RedWar").skillMiaoshou(),this.miaoShou.enabled=!1}}),cc._RF.pop()},{Common:"Common"}],Scroll:[function(t,e,i){"use strict";cc._RF.push(e,"59951m2bANM15JyiMAHVmsX","Scroll");t("Common");cc.Class({extends:cc.Component,properties:{speed:0},onLoad:function(){},getNodeY:function(){return this.node.y},setSpeed:function(t){this.speed+=t},slowDown:function(t){this.speed=t},stopUpdate:function(){this.unschedule(this.myUpdate)},startUpdate:function(){this.schedule(this.myUpdate,0)},myUpdate:function(t){this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y}}),cc._RF.pop()},{Common:"Common"}],SelectColor:[function(t,e,i){"use strict";cc._RF.push(e,"bebc6PVkzZHnLyvhVNgtAfc","SelectColor");var o=t("Common"),n=t("StorageData"),s=t("JsToJava"),a=t("UpgradeConfig"),c=cc.Enum({RED:1001,ORANGE:1002,YELLOW:1003,GREEN:1004,CYAN:1005,BLUE:1006,PURPLE:1007});cc.Class({extends:cc.Component,properties:{powerDisplay:cc.Layout,bgMusic:{default:null,url:cc.AudioClip,tooltip:"背景音乐"},fullnull:cc.Node,waitProgress:cc.Node},onLoad:function(){this.waitProgress.active=!1,this.fullnull.active=!0,cc.audioEngine.stop(o.bgMusicId),o.MusicOffset=!0,o.EffectOffset=!0,o.bgMusicId=cc.audioEngine.play(this.bgMusic,!0,1),cc.sys.localStorage.setItem("MUSICOFFSET",o.MusicOffset),cc.sys.localStorage.setItem("EFFECTOFFSET",o.EffectOffset),o.FirstGame=!0,n.setLocalData("NewState",o.FirstGame),n.setLocalData("NewStep",1),o.HardModel=!1,n.setLocalData("HardModel",o.HardModel),o.HardOpened=!1,n.setLocalData("HardOpened",o.HardModel),o.SimpleCount=0,n.setLocalData("SimpleCount",o.SimpleCount),this.thirteenWar=[0,0,0,0,0,0,0,0,0,0,0,0,0],n.setLocalData("ThirteenWar",JSON.stringify(this.thirteenWar)),n.setLocalData("XinShouFuLi","true"),this.redwarPower(),this.zhuoPower(),this.xuPower(),this.duiPower(),this.tongPower(),this.guanPower(),this.yiPower(),this.quPower(),this.hePower(),this.puPower(),this.pingPower(),this.xingPower(),this.baiPower()},start:function(){n.setLocalData("ClassicHS",0),n.setLocalData("PVPHS",0),cc.director.preloadScene("NewMenuScene"),cc.director.preloadScene("NewBattleScene"),this.fullnull.active=!1},randomRange:function(t,e){return Math.floor(Math.random()*(e-t)+t)},zhuoPower:function(){o.ZhuoPower.WeiTroop=this.randomRange(3e5,35e4),o.ZhuoPower.ShuTroop=this.randomRange(3e5,35e4),o.ZhuoPower.WuTroop=this.randomRange(3e5,35e4),n.setLocalData("ZhuoPower",JSON.stringify(o.ZhuoPower))},redwarPower:function(){o.WeiTroop=this.randomRange(11e4,13e4),o.ShuTroop=this.randomRange(11e4,13e4),o.WuTroop=this.randomRange(11e4,13e4),n.setLocalData("WEITROOP",o.WeiTroop),n.setLocalData("SHUTROOP",o.ShuTroop),n.setLocalData("WUTROOP",o.WuTroop)},xuPower:function(){o.XuPower.WeiTroop=this.randomRange(22e3,25e3),o.XuPower.ShuTroop=this.randomRange(22e3,25e3),o.XuPower.WuTroop=this.randomRange(22e3,25e3),n.setLocalData("XuPower",JSON.stringify(o.XuPower))},duiPower:function(){o.DuiPower.WeiTroop=this.randomRange(13e3,16e3),o.DuiPower.ShuTroop=this.randomRange(13e3,16e3),o.DuiPower.WuTroop=this.randomRange(13e3,16e3),n.setLocalData("DuiPower",JSON.stringify(o.DuiPower))},tongPower:function(){o.TongPower.WeiTroop=0,o.TongPower.AiTroop=27e6,n.setLocalData("TongPower",JSON.stringify(o.TongPower))},guanPower:function(){o.GuanPower.WeiTroop=0,o.GuanPower.AiTroop=72e5,n.setLocalData("GuanPower",JSON.stringify(o.GuanPower))},yiPower:function(){o.YiPower.ShuTroop=0,o.YiPower.AiTroop=324e5,n.setLocalData("YiPower",JSON.stringify(o.YiPower))},quPower:function(){o.QuPower.WuTroop=0,o.QuPower.AiTroop=576e5,n.setLocalData("QuPower",JSON.stringify(o.QuPower))},hePower:function(){o.HePower.WuTroop=0,o.HePower.AiTroop=72e5,n.setLocalData("HePower",JSON.stringify(o.HePower))},puPower:function(){o.PuPower.WeiTroop=this.randomRange(65e4,75e4),o.PuPower.ShuTroop=this.randomRange(65e4,75e4),o.PuPower.WuTroop=this.randomRange(65e4,75e4),n.setLocalData("PuPower",JSON.stringify(o.PuPower))},pingPower:function(){o.PingPower.WeiTroop=this.randomRange(4e5,5e5),o.PingPower.ShuTroop=this.randomRange(4e5,5e5),o.PingPower.WuTroop=this.randomRange(4e5,5e5),n.setLocalData("PingPower",JSON.stringify(o.PingPower))},xingPower:function(){o.XingPower.ShuTroop=0,o.XingPower.AiTroop=72e5,n.setLocalData("XingPower",JSON.stringify(o.XingPower))},baiPower:function(){o.BaiPower.WeiTroop=this.randomRange(45e4,5e5),o.BaiPower.ShuTroop=this.randomRange(45e4,5e5),o.BaiPower.WuTroop=this.randomRange(45e4,5e5),n.setLocalData("BaiPower",JSON.stringify(o.BaiPower))},initData:function(){o.Gold=0,n.setLocalData("Gold",o.Gold),o.CurrentHP=o.CurrentHP,n.setLocalData("HP",o.CurrentHP),o.Score=0,n.setLocalData("Score",o.Score),o.CurrentLevel=1,s.UMsetPlayerLevel(1),n.setLocalData("LEVEL",o.CurrentLevel),o.totalScore=parseInt(a[1].Ceiling),n.setLocalData("TROOPLIMIT",o.totalScore),o.Official="校尉",n.setLocalData("OFFICIAL",o.Official),o.WarAddition=0,n.setLocalData("WARADDITION",o.WarAddition),o.Title="揭竿而起",n.setLocalData("TITLE",o.Title),n.setLocalData("PVPFLAG",1),o.MonthCardVIP=!1,n.setLocalData("MONTHCARD",o.MonthCardVIP),n.setLocalData("MonthEffectiveHaveTime",0),n.setLocalData("MonthEffectiveTime",0);n.setLocalData("HISTORYSCORE",0),n.setLocalData("TaoFaDongZhuoHS",0),n.setLocalData("RedWarHS",0),n.setLocalData("DuiJiuDangGeHS",0),n.setLocalData("TongGuanZhiZhanHS",0),n.setLocalData("XuZhouZhiZhanHS",0),n.setLocalData("GuanDuZhiZhanHS",0),n.setLocalData("YiZhouZhiZhanHS",0),n.setLocalData("QuEZhiZhanHS",0),n.setLocalData("HeFeiZhiZhanHS",0),n.setLocalData("PuYangZhiZhanHS",0),n.setLocalData("PingYangZhiZhanHS",0),n.setLocalData("XingTianGuanCeHS",0),n.setLocalData("BaiLangShanHS",0),n.setLocalData("TaoFaDongZhuoHShard",0),n.setLocalData("RedWarHShard",0),n.setLocalData("DuiJiuDangGeHShard",0),n.setLocalData("TongGuanZhiZhanHShard",0),n.setLocalData("XuZhouZhiZhanHShard",0),n.setLocalData("GuanDuZhiZhanHShard",0),n.setLocalData("YiZhouZhiZhanHShard",0),n.setLocalData("QuEZhiZhanHShard",0),n.setLocalData("HeFeiZhiZhanHShard",0),n.setLocalData("PuYangZhiZhanHShard",0),n.setLocalData("PingYangZhiZhanHShard",0),n.setLocalData("XingTianGuanCeHShard",0),n.setLocalData("BaiLangShanHShard",0)},selectPower:function(t,e){"blue"==e?(o.tribeColor=c.BLUE,n.setLocalData("Tribe",o.tribeColor),s.UMPowerCount("weiPowerCount"),o.Wei++,cc.sys.localStorage.setItem("Wei",o.Wei)):"green"==e?(o.tribeColor=c.GREEN,n.setLocalData("Tribe",o.tribeColor),s.UMPowerCount("shuPowerCount"),o.Shu++,cc.sys.localStorage.setItem("Shu",o.Shu)):"red"==e&&(o.tribeColor=c.RED,n.setLocalData("Tribe",o.tribeColor),s.UMPowerCount("wuPowerCount"),o.Wu++,cc.sys.localStorage.setItem("Wu",o.Wu));var i=cc.callFunc(function(){this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgress").rotate()},this),a=cc.callFunc(function(){this.initData(),this.inScene()},this);this.node.runAction(cc.sequence(i,cc.delayTime(1.5),a)),this.fullnull.active=!0},inScene:function(){o.FirstGame=!0,o.newbieZero=!0,cc.director.loadScene("NewMenuScene")},randomPower:function(){s.UMPowerCount("randomPowerCount");var t=cc.sys.localStorage.getItem("Wei"),e=cc.sys.localStorage.getItem("Shu"),i=cc.sys.localStorage.getItem("Wu"),a=cc.callFunc(function(){this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgress").rotate()},this),r=cc.callFunc(function(){switch(this.minNum(t,e,i)){case t:o.tribeColor=c.BLUE,o.Wei++,cc.sys.localStorage.setItem("Wei",o.Wei),s.UMPowerCount("weiPowerCount"),this.inScene();break;case e:o.tribeColor=c.RED,o.Shu++,cc.sys.localStorage.setItem("Shu",o.Shu),n.setLocalData("Tribe",o.tribeColor),this.inScene();break;case i:o.tribeColor=c.GREEN,o.Wu++,cc.sys.localStorage.setItem("Wu",o.Wu),s.UMPowerCount("wuPowerCount"),this.inScene()}n.setLocalData("Tribe",o.tribeColor),this.initData(),o.Gold=30,n.setLocalData("Gold",o.Gold),o.Gold=parseInt(n.getLocalData("Gold")),this.fullnull.active=!0},this);this.node.runAction(cc.sequence(a,cc.delayTime(1.5),r))},minNum:function(t,e,i){var o=0;return o=t<e?t:e,o=o<i?o:i}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData",UpgradeConfig:"UpgradeConfig"}],StorageData:[function(t,e,i){"use strict";cc._RF.push(e,"5f432Yf0gFPdre2cmhBkYRu","StorageData"),i.setLocalData=function(t,e){var i=cc.sys.localStorage.getItem("account");cc.sys.localStorage.setItem(i+t,e)},i.getLocalData=function(t){var e=cc.sys.localStorage.getItem("account");return cc.sys.localStorage.getItem(e+t)},cc._RF.pop()},{}],StoreCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"c726e1xEChG3KURSaRMPP7y","StoreCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,a=t("./Common"),c=t("./UpgradeConfig"),r=t("./Upgrade"),h=t("./UTitleStr"),l=t("./StorageData"),u=t("./JsToJava"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyTips=null,e._buyTipsChild=null,e._buyCount=1,e._unitPrice=0,e._isPressedAdd=!1,e._isPressedMinus=!1,e._counter=0,e._upgradeFlag=!1,e._Upgrade=new r,e._monthTime=0,e.thirteenWar=[],e.bagContent=[],e.propContent=[],e.rechargeContent=[],e.closeButton=null,e.notEnoughGold=null,e.gongXiHuoDe=null,e.huoDeAudio=null,e.upgradeLayer=null,e.waitProgress=null,e.xinshoufuli=null,e.chaozhitaocan=null,e}return __extends(e,t),e.prototype.onLoad=function(){if(!a.FirstName){for(var t=0;t<this.bagContent.length;++t)this.openTouchCtrl(this.bagContent[t]);for(var e=0;e<this.propContent.length;++e)this.openTouchCtrl(this.propContent[e]);for(var i=0;i<this.rechargeContent.length;++i)this.openTouchCtrl(this.rechargeContent[i])}if(this._buyTipsChild=this.buyTips.node.getChildByName("storesTanchuang"),this._buyTipsChild.getChildByName("btAddCount").on("touchstart",this.addButton,this),this._buyTipsChild.getChildByName("btMinusCount").on("touchstart",this.minusButton,this),this._buyTipsChild.getChildByName("btAddCount").on("touchend",function(){this._isPressedAdd=!1,this._counter=0},this),this._buyTipsChild.getChildByName("btMinusCount").on("touchend",function(){this._isPressedMinus=!1,this._counter=0},this),this._buyTipsChild.getChildByName("btAddCount").on("touchcancel",function(){this._isPressedAdd=!1,this._counter=0},this),this._buyTipsChild.getChildByName("btMinusCount").on("touchcancel",function(){this._isPressedMinus=!1,this._counter=0},this),this.closeButton.node.on("touchend",function(){this.buyTips.node.active=!1},this),this._buyTipsChild.getChildByName("btBuynow").on("touchend",this.buyNow,this),this._buyCount=1,this._monthTime=2592e6,GlobalEvent.on("IAP",function(t){var e=this;switch(t.detail){case"org.ww.dmsg.c6":e.coinSuccess(62),u.UMPayCheck(6,1,62,"wu",0,1);break;case"org.ww.dmsg.c18":e.coinSuccess(190),u.UMPayCheck(18,1,190,"wu",0,1);break;case"org.ww.dmsg.c30":e.coinSuccess(340),u.UMPayCheck(30,1,340,"wu",0,1);break;case"org.ww.dmsg.c98":e.coinSuccess(1180),u.UMPayCheck(98,1,1180,"wu",0,1);break;case"org.ww.dmsg.m12":e.monthCardBuy(),u.UMPayCheck(12,1,0,"product10",1,1)}e.waitProgress.active=!1},this),GlobalEvent.on("WaitStop",function(t){this.waitProgress.active=!1},this),"false"===l.getLocalData("XinShouFuLi")){var o=this.xinshoufuli.x,n=this.xinshoufuli.y;this.xinshoufuli.active=!1,this.chaozhitaocan.x=o,this.chaozhitaocan.y=n}},e.prototype.openTouchCtrl=function(t){var e=this;t.node.on("touchend",e.registerClickEvent,t)},e.prototype.closeTouchCtrl=function(t){var e=this;t.node.off("touchend",e.registerClickEvent,t)},e.prototype.addButton=function(){this._isPressedAdd=!0,this._isPressedMinus=!1,this._buyTipsChild.getChildByName("btMinusDisabled").active&&(this._buyTipsChild.getChildByName("btMinusCount").active=!0,this._buyTipsChild.getChildByName("btMinusDisabled").active=!1),"新手福利"!==this._buyTipsChild.getChildByName("chProductName").getComponent(cc.Label).string?this._buyCount++:this._buyCount=1,this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string=this._buyCount+"",0===this._unitPrice&&(this._unitPrice=parseInt(this._buyTipsChild.getChildByName("chPriceCount").getComponent(cc.Label).string));var t=this._unitPrice;this._buyCount>1&&(t=this._unitPrice*this._buyCount,this._buyTipsChild.getChildByName("chPriceCount").getComponent(cc.Label).string=t+"")},e.prototype.minusButton=function(){if(this._buyCount>1){this._isPressedMinus=!0,this._isPressedAdd=!1,this._buyCount--,this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string=this._buyCount+"";var t=this._unitPrice;this._buyCount>=1&&(t=this._unitPrice*this._buyCount,this._buyTipsChild.getChildByName("chPriceCount").getComponent(cc.Label).string=t+"")}this._buyCount<=1&&(this._isPressedMinus=!1,this._counter=0,this._buyTipsChild.getChildByName("btMinusCount").active=!1,this._buyTipsChild.getChildByName("btMinusDisabled").active=!0)},e.prototype.productID=function(t,e){switch(t){case"超值套餐":u.UMBuyCheck("product1",e,70);break;case"一枚令牌":u.UMBuyCheck("product2",e,20);break;case"一把令牌":u.UMBuyCheck("product3",e,48);break;case"一箱令牌":u.UMBuyCheck("product4",e,158);break;case"兵强马壮":u.UMBuyCheck("product5",e,20);break;case"精锐之师":u.UMBuyCheck("product6",e,28);break;case"行兵列阵":u.UMBuyCheck("product7",e,55);break;case"旌旗蔽空":u.UMBuyCheck("product8",e,538);break;case"新手福利":u.UMBuyCheck("product9",e,10)}},e.prototype.buyNow=function(){if(255===this._buyTipsChild.getChildByName("posGoldIcon").opacity){var t=l.getLocalData("Gold"),e=parseInt(this._buyTipsChild.getChildByName("chPriceCount").getComponent(cc.Label).string);if(t>=e){t-=e,a.Gold=t,l.setLocalData("Gold",t);var i=255===this._buyTipsChild.getChildByName("chLingCount").opacity,o=255===this._buyTipsChild.getChildByName("chTroopCount").opacity,n=!1;i&&o&&(n=!0);var s=0,c=0;this.productID(this._buyTipsChild.getChildByName("chProductName").getComponent(cc.Label).string,parseInt(this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string));var r=this._buyTipsChild.getChildByName("description").getComponent(cc.Label).string,h=r.indexOf("得")+1,u=r.substring(h,r.length);if("\n一把令牌\n兵强马壮"===u){u="3枚令牌\n3000兵力",l.setLocalData("XinShouFuLi","false");var d=this.xinshoufuli.x,p=this.xinshoufuli.y;this.xinshoufuli.active=!1,this.chaozhitaocan.x=d,this.chaozhitaocan.y=p}if(i){s=parseInt(this._buyTipsChild.getChildByName("chLingCount").getComponent(cc.Label).string)*parseInt(this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string),a.CurrentHP=parseInt(l.getLocalData("HP"))+s,l.setLocalData("HP",a.CurrentHP);var m=u.indexOf("枚"),g=u.substring(0,m);u=u.replace(g,s.toString())}if(o){var f=parseInt(l.getLocalData("TROOPLIMIT"));c=parseInt(this._buyTipsChild.getChildByName("chTroopCount").getComponent(cc.Label).string)*parseInt(this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string),a.Score=parseInt(l.getLocalData("Score"))+c,l.setLocalData("Score",a.Score),a.Score>=1e6&&this.judgeOnce(1e6);m=u.indexOf("兵");if(i){var C=u.indexOf("牌")+1,g=u.substring(C,m);u=u.replace(g,"\n"+c.toString())}else{g=u.substring(0,m);u=u.replace(g,c.toString())}this.increaseNumLimit(a.Score,f)}a.EffectOffset&&cc.audioEngine.play(this.huoDeAudio.toString(),!1,1),this.gongXiHuoDe.node.active=!0,this.gongXiHuoDe.node.getComponent("NullNode").closeTouch(),this.gongXiHuoDe.node.getComponent(cc.Animation).play(),this.getAnimProductInfo(n,s,c,0,u),this.buyTips.node.active=!1,cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").updateMilitaryStrength(a.CurrentHP,a.Gold,a.Score,a.TotalHP,a.totalScore)}else this.notEnoughGold.node.active=!0}},e.prototype.increaseNumLimit=function(t,e){t>e&&(a.CurrentLevel=parseInt(l.getLocalData("LEVEL")),this.queryLimit(a.CurrentLevel,t))},e.prototype.queryLimit=function(t,e){a.PreviousLevel=t;for(var i=t;i<c.length;++i)e>c[c.length-1].Ceiling&&(e=c[c.length-1].Ceiling),parseInt(c[i].Ceiling)>=e&&t<parseInt(c[c.length-1].Level)&&(a.CurrentLevel=i,l.setLocalData("LEVEL",a.CurrentLevel),a.totalScore=c[i].Ceiling,l.setLocalData("TROOPLIMIT",a.totalScore),a.Official=c[i].Official,l.setLocalData("OFFICIAL",a.Official),a.WarAddition=c[i].Waraddition,l.setLocalData("WARADDITION",a.WarAddition),a.Title=h[i],l.setLocalData("TITLE",a.Title),i=c.length,this._upgradeFlag=!0)},e.prototype.upgradeAnimation=function(){this._upgradeFlag&&(this.upgradeLayer.node.active=!0,this.upgradeLayer.node.setLocalZOrder(11),this.upgradeLayer.node.getComponent("Upgrade").readLevelConfig(),this._upgradeFlag=!1)},e.prototype.judgeOnce=function(t){this.thirteenWar=JSON.parse(l.getLocalData("ThirteenWar")),this.openHardCondition(t)},e.prototype.openHardCondition=function(t){for(var e=0,i=0;i<this.thirteenWar.length;++i)2===this.thirteenWar[i]&&++e;e<9&&1e6===t&&1===this.thirteenWar[12]&&this.updateCountData(12)},e.prototype.updateCountData=function(t){1===this.thirteenWar[t]&&(this.thirteenWar[t]=2),l.setLocalData("ThirteenWar",JSON.stringify(this.thirteenWar))},e.prototype.getAnimProductInfo=function(t,e,i,o,n){for(var s=this.gongXiHuoDe.node.getChildByName("tanchuang"),a=0;a<s.children.length-1;++a)s.children[a].opacity=0;this.gongXiHuoDe.node.getChildByName("jb").opacity=0,0!==o?(this.gongXiHuoDe.node.getChildByName("jb").opacity=255,s.getChildByName("goldX").opacity=255,s.getChildByName("goldCount").opacity=255,s.getChildByName("goldCount").getComponent(cc.Label).string=o+""):t?("一把令牌\n兵强马壮"===n?(s.getChildByName("tokens").opacity=255,s.getChildByName("tokens").setPosition(s.getChildByName("token").getPosition())):-1===e?s.getChildByName("daqiao").opacity=255:s.getChildByName("token").opacity=255,-1!==e&&(s.getChildByName("tokenX").opacity=255,s.getChildByName("lingCount").opacity=255,s.getChildByName("token").setPosition(cc.v2(-70,50)),s.getChildByName("tokenX").setPosition(cc.v2(-80,-8)),s.getChildByName("lingCount").setPosition(cc.v2(-70,-8))),s.getChildByName("arex").opacity=255,s.getChildByName("arexX").opacity=255,s.getChildByName("troopCount").opacity=255,s.getChildByName("arex").setPosition(cc.v2(70,50)),s.getChildByName("arexX").setPosition(cc.v2(50,-8)),s.getChildByName("troopCount").setPosition(cc.v2(60,-8)),s.getChildByName("lingCount").getComponent(cc.Label).string=e+"",s.getChildByName("troopCount").getComponent(cc.Label).string=i+""):0!==e?(s.getChildByName("token").opacity=255,s.getChildByName("tokenX").opacity=255,s.getChildByName("lingCount").opacity=255,s.getChildByName("lingCount").getComponent(cc.Label).string=e+"",s.getChildByName("token").setPosition(cc.v2(0,50)),s.getChildByName("tokenX").setPosition(cc.v2(-10,-8)),s.getChildByName("lingCount").setPosition(cc.v2(0,-8))):0!==i&&(s.getChildByName("arex").opacity=255,s.getChildByName("arexX").opacity=255,s.getChildByName("troopCount").opacity=255,s.getChildByName("troopCount").getComponent(cc.Label).string=i+"",s.getChildByName("arex").setPosition(cc.v2(0,50)),s.getChildByName("arexX").setPosition(cc.v2(-25,5)),s.getChildByName("troopCount").setPosition(cc.v2(-15,5))),s.getChildByName("description").getComponent(cc.Label).string=n},e.prototype.productInfoShow=function(t,e,i,o,n,s){this.buyTips.node.active=!0,this._buyTipsChild.getChildByName("chProductName").getComponent(cc.Label).string=t,""===e?(this._buyTipsChild.getChildByName("posToken").y=40,this._buyTipsChild.getChildByName("posToken").opacity=255,this._buyTipsChild.getChildByName("chLingCount").setPosition(cc.v2(-150,-20)),this._buyTipsChild.getChildByName("chLingCount").opacity=255,this._buyTipsChild.getChildByName("posHead").opacity=0,this._buyTipsChild.getChildByName("chTroopCount").opacity=0):"y"===e&&(this._buyTipsChild.getChildByName("posToken").y=63,this._buyTipsChild.getChildByName("chLingCount").setPosition(cc.v2(-60,60)),this._buyTipsChild.getChildByName("posToken").opacity=255,this._buyTipsChild.getChildByName("chLingCount").opacity=255,this._buyTipsChild.getChildByName("posHead").opacity=255,this._buyTipsChild.getChildByName("chTroopCount").opacity=255),""===i?(this._buyTipsChild.getChildByName("posHead").y=30,this._buyTipsChild.getChildByName("posHead").opacity=255,this._buyTipsChild.getChildByName("chTroopCount").setPosition(cc.v2(-160,-20)),this._buyTipsChild.getChildByName("chTroopCount").opacity=255,this._buyTipsChild.getChildByName("posToken").opacity=0,this._buyTipsChild.getChildByName("chLingCount").opacity=0):"y"===i&&(this._buyTipsChild.getChildByName("posHead").y=-31.4,this._buyTipsChild.getChildByName("chTroopCount").setPosition(cc.v2(-60,-30)),this._buyTipsChild.getChildByName("posHead").opacity=255,this._buyTipsChild.getChildByName("chTroopCount").opacity=255,this._buyTipsChild.getChildByName("posToken").opacity=255,this._buyTipsChild.getChildByName("chLingCount").opacity=255),""!==o?(this._buyTipsChild.getChildByName("chOriginalPrice").opacity=255,this._buyTipsChild.getChildByName("chOriginalPrice").getComponent(cc.Label).string=o):this._buyTipsChild.getChildByName("chOriginalPrice").opacity=0,"rmb"===n?(this._buyTipsChild.getChildByName("yuan").opacity=255,this._buyTipsChild.getChildByName("posGoldIcon").opacity=0):(this._buyTipsChild.getChildByName("posGoldIcon").opacity=255,this._buyTipsChild.getChildByName("yuan").opacity=0),""!==s?(this._buyTipsChild.getChildByName("posX1").setPosition(cc.v2(-175,-20)),this._buyTipsChild.getChildByName("posX1").opacity=255,this._buyTipsChild.getChildByName("x2").opacity=0):(this._buyTipsChild.getChildByName("posX1").setPosition(cc.v2(-75,60)),this._buyTipsChild.getChildByName("posX1").opacity=255,this._buyTipsChild.getChildByName("x2").opacity=255)},e.prototype.productPriceShow=function(t,e,i,o){this._isPressedMinus=!1,this._isPressedAdd=!1,this._unitPrice=0,this._buyCount=1,this._buyTipsChild.getChildByName("chBuyCount").getComponent(cc.Label).string=this._buyCount+"",this._buyTipsChild.getChildByName("description").getComponent(cc.Label).string=o,""!==e&&(this._buyTipsChild.getChildByName("chLingCount").getComponent(cc.Label).string=e),""!==i&&(this._buyTipsChild.getChildByName("chTroopCount").getComponent(cc.Label).string=i),""!==t&&(this._buyTipsChild.getChildByName("chPriceCount").getComponent(cc.Label).string=t)},e.prototype.getOffsetTime=function(t,e){var i=Math.abs(e-t);Math.floor(i/864e5);return i},e.prototype.rotateRepeat=function(){cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||(this.waitProgress.active=!0,this.waitProgress.getComponent("WaitProgressStore").rotate())},e.prototype.registerClickEvent=function(){var t=this,e=cc.find("Canvas/StoreBut/storeTouchCtrl").getComponent("StoreCtrl");switch(t.node.name){case"storesYiyuanlibao":"true"===l.getLocalData("XinShouFuLi")&&(e.productInfoShow("新手福利","y","y","","gold",""),e.productPriceShow("10","3","3000","购买后立即获得\n一把令牌\n兵强马壮"));break;case"storesChaozhitaocan":e.productInfoShow("超值套餐","y","y","","gold",""),e.productPriceShow("70","5","5000","购买后立即获得\n5枚令牌\n5000兵力");break;case"storesLing1":e.productInfoShow("一枚令牌","","n","","gold","single"),e.productPriceShow("20","1","","购买后立即获得\n1枚令牌");break;case"storesLing3":e.productInfoShow("一把令牌","","n","50","gold","single"),e.productPriceShow("48","3","","购买后立即获得\n3枚令牌");break;case"storesLing10":e.productInfoShow("一箱令牌","","n","170","gold","single"),e.productPriceShow("158","10","","购买后立即获得\n10枚令牌");break;case"storesTroop3000":e.productInfoShow("兵强马壮","n","","","gold","single"),e.productPriceShow("20","","3000","购买后立即获得\n3000兵力");break;case"storesTroop5000":e.productInfoShow("精锐之师","n","","30","gold","single"),e.productPriceShow("28","","5000","购买后立即获得\n5000兵力");break;case"storesTroop10000":e.productInfoShow("行兵列阵","n","","60","gold","single"),e.productPriceShow("55","","10000","购买后立即获得\n10000兵力");break;case"storesTroop100000":e.productInfoShow("旌旗蔽空","n","","600","gold","single"),e.productPriceShow("538","","100000","购买后立即获得\n100000兵力");break;case"rechargeMonthCard":a.Gold=parseInt(l.getLocalData("Gold")),a.Gold>=600?e.monthCardBuy():e.notEnoughGold.node.active=!0;break;case"storesRecharge60":GlobalEvent.emit("IAP","org.ww.dmsg.c6");break;case"storesRecharge180":GlobalEvent.emit("IAP","org.ww.dmsg.c18");break;case"storesRecharge300":GlobalEvent.emit("IAP","org.ww.dmsg.c30");break;case"storesRecharge980":GlobalEvent.emit("IAP","org.ww.dmsg.c98")}},e.prototype.monthCardBuy=function(){if("true"===l.getLocalData("MONTHCARD")){var t=parseInt(l.getLocalData("MonthEffectiveTime")),e=Date.now()-t,i=(s=l.getLocalData("MonthEffectiveHaveTime"))-e,o=this._monthTime+i;l.setLocalData("MonthEffectiveHaveTime",o);n=Date.now();l.setLocalData("MonthEffectiveTime",n),this.monthBuySuccess(this,5e3),a.Gold=parseInt(l.getLocalData("Gold")),a.Gold-=600,l.setLocalData("Gold",a.Gold),cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").updateGold(a.Gold)}else{a.MonthCardVIP=!0,l.setLocalData("MONTHCARD",a.MonthCardVIP);var n=Date.now();l.setLocalData("MonthEffectiveTime",n);var s=this._monthTime;l.setLocalData("MonthEffectiveHaveTime",s),this.monthBuySuccess(this,5e3),a.Gold=parseInt(l.getLocalData("Gold")),a.Gold-=600,l.setLocalData("Gold",a.Gold),cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").updateGold(a.Gold)}},e.prototype.monthBuySuccess=function(t,e){a.Gold=parseInt(l.getLocalData("Gold")),a.CurrentHP=parseInt(l.getLocalData("HP"));var i=parseInt(l.getLocalData("TROOPLIMIT"));a.Score=parseInt(l.getLocalData("Score"))+e,l.setLocalData("Score",a.Score),a.Score>=1e6&&t.judgeOnce(1e6),t.increaseNumLimit(a.Score,i),a.EffectOffset&&cc.audioEngine.play(t.huoDeAudio.toString(),!1,1),t.gongXiHuoDe.node.active=!0,t.gongXiHuoDe.node.getComponent("NullNode").closeTouch(),t.gongXiHuoDe.node.getComponent(cc.Animation).play(),t.getAnimProductInfo(!0,-1,e,0,"5000兵力、30天内：\n体力回复缩短、专属武将大乔、\n征兵与战役分数加成"),cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").updateMilitaryStrength(a.CurrentHP,a.Gold,a.Score,a.TotalHP,a.totalScore)},e.prototype.coinSuccess=function(t){a.Gold=parseInt(l.getLocalData("Gold")),a.Gold+=t,l.setLocalData("Gold",a.Gold),cc.find("Canvas/StoreBut/StoreLayer").getComponent("StoreLayer").updateGold(a.Gold);var e=t+"金币";a.EffectOffset&&cc.audioEngine.play(this.huoDeAudio.toString(),!1,1),this.gongXiHuoDe.node.active=!0,this.gongXiHuoDe.node.getComponent("NullNode").closeTouch(),this.gongXiHuoDe.node.getComponent(cc.Animation).play(),this.getAnimProductInfo(!1,0,0,t,e)},e.prototype.update=function(t){this._isPressedAdd?++this._counter>=60&&this.addButton():this._isPressedMinus&&++this._counter>=60&&this.minusButton()},__decorate([s(cc.Sprite)],e.prototype,"buyTips",void 0),__decorate([s(cc.Node)],e.prototype,"_buyTipsChild",void 0),__decorate([s],e.prototype,"_buyCount",void 0),__decorate([s([Number])],e.prototype,"thirteenWar",void 0),__decorate([s([cc.Sprite])],e.prototype,"bagContent",void 0),__decorate([s([cc.Sprite])],e.prototype,"propContent",void 0),__decorate([s([cc.Sprite])],e.prototype,"rechargeContent",void 0),__decorate([s(cc.Sprite)],e.prototype,"closeButton",void 0),__decorate([s(cc.Sprite)],e.prototype,"notEnoughGold",void 0),__decorate([s(cc.Sprite)],e.prototype,"gongXiHuoDe",void 0),__decorate([s(cc.AudioClip)],e.prototype,"huoDeAudio",void 0),__decorate([s(cc.Sprite)],e.prototype,"upgradeLayer",void 0),__decorate([s(cc.Node)],e.prototype,"waitProgress",void 0),__decorate([s(cc.Node)],e.prototype,"xinshoufuli",void 0),__decorate([s(cc.Node)],e.prototype,"chaozhitaocan",void 0),e=__decorate([n],e)}(cc.Component);i.default=d,cc._RF.pop()},{"./Common":"Common","./JsToJava":"JsToJava","./StorageData":"StorageData","./UTitleStr":"UTitleStr","./Upgrade":"Upgrade","./UpgradeConfig":"UpgradeConfig"}],StoreLayer:[function(t,e,i){"use strict";cc._RF.push(e,"7de31tIjtxAGaqqa4ozDQJd","StoreLayer");t("Common");var o=t("UpgradeConfig"),n=t("StorageData");cc.Class({extends:cc.Component,properties:{bagLayer:cc.Node,propLayer:cc.Node,rechargeLayer:cc.Node,redBag:cc.Sprite,redProp:cc.Sprite,redRecharge:cc.Sprite,bagBut:cc.Button,propBut:cc.Button,rechargeBut:cc.Button},onLoad:function(){this.inBag(),this.node.on("touchstart",function(t){t.stopPropagation()},this),this.lingPaiNode=null,this.goldNode=null,this.troopNode=null,this.copyMenuNode()},copyMenuNode:function(){this.lingPaiNode=cc.instantiate(cc.find("Canvas/MenuLayer/ling")),this.node.addChild(this.lingPaiNode),this.lingPaiNode.setPosition(-5,500),this.lingPaiNode.runAction(cc.show()),this.goldNode=cc.instantiate(cc.find("Canvas/MenuLayer/coin")),this.node.addChild(this.goldNode),this.goldNode.setPosition(20,450),this.goldNode.runAction(cc.show()),this.troopNode=cc.instantiate(cc.find("Canvas/MenuLayer/troopBar")),this.node.addChild(this.troopNode),this.troopNode.setPosition(-116,400),this.troopNode.runAction(cc.show())},updateMilitaryStrength:function(t,e,i,s,a){this.lingPaiNode.getChildByName("HP").getComponent(cc.Label).string=t+"/"+s,this.goldNode.getChildByName("Gold").getComponent(cc.Label).string=e+"",this.troopNode.getChildByName("troop").getComponent(cc.Label).string=i+"/"+a;for(var c=0;c<this.troopNode.children.length-1;++c)if(this.troopNode.children[c].active){var r=parseInt(n.getLocalData("Score")),a=parseInt(n.getLocalData("TROOPLIMIT")),h=290*parseFloat(r/a);r>=o[o.length-1].Ceiling&&(h=290),this.troopNode.children[c].width=h}},updateGold:function(t){this.goldNode.getChildByName("Gold").getComponent(cc.Label).string=t+""},destroyMenuNode:function(){null!=this.lingPaiNode&&(this.lingPaiNode.destroy(),this.goldNode.destroy(),this.troopNode.destroy())},inWhere:function(t){this.destroyMenuNode(),this.copyMenuNode(),"201"===t?this.inProp():"202"===t&&this.inRecharge()},inBag:function(){this.redBag.node.active=!0,this.redProp.node.active=!1,this.redRecharge.node.active=!1,this.bagBut.node.opacity=0,this.propBut.node.opacity=255,this.rechargeBut.node.opacity=255,this.bagLayer.active=!0,this.rechargeLayer.active=!1,this.propLayer.active=!1},inProp:function(){this.redBag.node.active=!1,this.redProp.node.active=!0,this.redRecharge.node.active=!1,this.bagBut.node.opacity=255,this.propBut.node.opacity=0,this.rechargeBut.node.opacity=255,this.bagLayer.active=!1,this.rechargeLayer.active=!1,this.propLayer.active=!0},inRecharge:function(){this.redBag.node.active=!1,this.redProp.node.active=!1,this.redRecharge.node.active=!0,this.bagBut.node.opacity=255,this.propBut.node.opacity=255,this.rechargeBut.node.opacity=0,this.bagLayer.active=!1,this.rechargeLayer.active=!0,this.propLayer.active=!1}}),cc._RF.pop()},{Common:"Common",StorageData:"StorageData",UpgradeConfig:"UpgradeConfig"}],TBoss:[function(t,e,i){"use strict";cc._RF.push(e,"322308lpiJD6qbmUgghnSLR","TBoss");var o=t("Common");cc.Class({extends:cc.Component,properties:{bloodValues:{default:0,tooltip:"点击一次boss掉血量, 0-1之间的浮点数",type:cc.Float},bloodBar:{default:null,type:cc.ProgressBar,tooltip:"血条"},game:{default:null,serializable:!1},clickMusic:{default:null,url:cc.AudioClip},clickGirlMusic:{default:null,url:cc.AudioClip},callOnce:!0},onLoad:function(){this.parentComp=this.node.parent.getComponent("TGame"),"TmaChao"==this.node.name&&(this.chaobossWidth=this.node.getChildByName("chaoAction").width,this.chaobossHeight=this.node.getChildByName("chaoAction").height),"TmaYunLu"==this.node.name&&(this.yunlubossWidth=this.node.getChildByName("yunluAction").width,this.yunlubossHeight=this.node.getChildByName("yunluAction").height),"TmaTeng"==this.node.name&&(this.tengbossWidth=this.node.getChildByName("tengAction").width,this.tengbossHeight=this.node.getChildByName("tengAction").height)},init:function(t){this.game=t},setInputControl:function(){var t=this,e=cc.delayTime(.8),i=cc.callFunc(function(){t.node.on("touchstart",t.bossControl,t)},t);t.node.runAction(cc.sequence(e,i))},closeTouch:function(){var t=this;t.node.off("touchstart",t.bossControl,t)},bossControl:function(t){this.bloodBar.progress>.057?("TmaChao"==this.node.name?(this.clickBoss(this.node.getChildByName("chaoAction"),this.chaobossWidth,this.chaobossHeight),o.EffectOffset&&cc.audioEngine.play(this.clickMusic)):"TmaYunLu"==this.node.name?(this.clickBoss(this.node.getChildByName("yunluAction"),this.yunlubossWidth,this.yunlubossHeight),o.EffectOffset&&cc.audioEngine.play(this.clickGirlMusic)):"TmaTeng"==this.node.name&&(this.clickBoss(this.node.getChildByName("tengAction"),this.tengbossWidth,this.tengbossHeight),o.EffectOffset&&cc.audioEngine.play(this.clickMusic)),this.parentComp.comboSucc(),this.bloodBar.progress-=this.bloodValues):this.bloodBar.progress<=.057&&this.callOnce&&(this.parentComp.comboSucc(),o.troopScore+=50,this.parentComp.scoreDisplay.string=o.troopScore.toString(),this.node.runAction(cc.fadeOut(1)),this.node.opacity=125,this.closeTouch(),this.callOnce=!1,this.parentComp.deleteBoss(this.node),o.HardModel||(--this.parentComp.countSum,this.parentComp.killCount.string=""+this.parentComp.countSum,0===this.parentComp.countSum&&this.parentComp.clickNumber>0&&(this.parentComp.countSum=-1,this.parentComp.clickN(666))))},clickBoss:function(t,e,i){var o=cc.callFunc(function(){t.setContentSize(cc.size(e-20,i-20))},this),n=cc.delayTime(2e-7),s=cc.callFunc(function(){t.setContentSize(cc.size(e,i))},this);this.node.runAction(cc.sequence(o,n,s))},getLength:function(){return this.bloodBar.progress}}),cc._RF.pop()},{Common:"Common"}],TGame:[function(t,e,i){"use strict";cc._RF.push(e,"66c7arKaeVIka1RL12emP68","TGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Sprite,temp:[],tempColor:[],rWidth:0,rHeight:0,clickError:!1,nullNode:cc.Node,bombBool:!1,scoreDisplay:{default:null,type:cc.Label,tooltip:"得分显示"},arexPF:{default:[],type:cc.Prefab,tooltip:"块预制体"},bossPF:{default:[],type:cc.Prefab,tooltip:"boss预制体"},startAnim:cc.Node,battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},failMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},rainbowLine:{default:0,tooltip:"每生成一行格子此值减1,为0时增加块速度",type:cc.Integer},timeScale:{default:0,tooltip:"时间缩放比例基数",type:cc.Float},addTimeScale:{default:0,tooltip:"加速时,增加的时间",type:cc.Float},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},comboSprite:{default:null,type:cc.Sprite,tooltip:"连击效果"},comboLabel:cc.Label,maxCombo:0,currentCombo:0,overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},overBattle:cc.Layout,lossBloodMusic:{default:null,url:cc.AudioClip,tooltip:"掉血音效"},miaoshouTX:cc.Sprite,miaoshouMusic:{default:null,url:cc.AudioClip},killSprite:cc.Sprite,killCount:cc.Label,exitBox:cc.Prefab,killsNode:cc.Node,addScoreAction:cc.Prefab},onLoad:function(){this.initData(),this.spawnBossOrArex(),this.spawnY+=10,o.returnOnce=!0},startGame:function(){if(!o.FirstGame){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(11);var t=cc.delayTime(3),e=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard5","start"):s.UMLevelCheck("level5","start"),this.schedule(this.myUpdate,0),this.returnMenu()},this),i=cc.sequence(t,e);this.node.runAction(i)}},startMyUpdate:function(){this.schedule(this.myUpdate,0)},beginUpdate:function(){this.schedule(this.myUpdate,0)},onDestroy:function(){this.arexOnePool.clear(),this.arexTwoPool.clear(),this.arexThreePool.clear(),this.bombPool.clear(),this.skillPool.clear(),this.yellowPool.clear(),this.mcPool.clear(),this.mylPool.clear(),this.mtPool.clear()},initData:function(){o.troopScore=0,this.scoreDisplay.string=o.troopScore.toString(),o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),this.node.getChildByName("up").setLocalZOrder(1),this.node.getChildByName("HaixuJiSha").setLocalZOrder(1),this.node.getChildByName("killCount").setLocalZOrder(1),o.HardModel?(this.killCount.node.active=!1,this.killSprite.node.active=!1):(this.countSum=17,this.killCount.string=this.countSum+""),o.MiaoShouHuiChun=!1,o.SkillBool=!1,this.overBattle.getComponent("GameOver").init(this),this.Column=5,this.showOrange=!1,this.bomb=!1,this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.resetLine=this.rainbowLine,this.skillThreeReset=this.skillThreeCount,this.totalArr=[],this.flag=-1,this.totalBoss=[],this.totalBossArex=[],this.bossSpawnHeight=.5*this.screenHeight-450,this.spawnBossY=.5*this.screenHeight+40,this.spawnNextBossY=.5*this.screenHeight-400,this.bossLossBlood=.5*-this.screenHeight-420,this.bossDelete=.5*-this.screenHeight-430,this.spacing=20,this.blockNodePool(),this.clickNumber=o.clickNumber,this.rainbowSpac=20,this.spawnHeight=.5*this.screenHeight-5,this.spawnY=.5*this.screenHeight+this.rHeight,this.stampX=.5*this.rWidth,this.stampY=.5*this.rHeight,this.stampWidth=this.rWidth-30,this.stampHeight=this.rHeight-30,this.overHeight=.5*-this.screenHeight-20,this.storeTimeScale=this.timeScale,this.scoreNodePool()},myUpdate:function(t){if(1==this.flag){this.bossZero.getComponent("Scroll").myUpdate(t),this.bossZero.getComponent("Scroll").getNodeY()<this.spawnNextBossY&&1==this.bossZero.tag&&(this.bossZero.getComponent("TBoss").setInputControl(),this.bossZero.tag=2,this.totalBoss.push(this.bossZero),this.bossZero=null,this.spawnBossOrArex(),this.rainbowLine<=0&&(this.setTimeScales(this.timeScale),this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine));for(n=0;n<this.totalBoss.length;++n)this.totalBoss[n].getComponent("Scroll").myUpdate(t),this.totalBoss[n].getComponent("Scroll").getNodeY()<this.bossLossBlood&&this.totalBoss[n].getComponent("TBoss").getLength()>0&&255==this.totalBoss[n].opacity&&(this.totalBoss[n].opacity=125,this.clickN(333)),this.totalBoss[n].getComponent("Scroll").getNodeY()<this.bossDelete&&this.deleteBoss(this.totalBoss[n]);for(e=0;e<this.totalArr.length;e++){this.temp=this.totalArr[e];for(i=0;i<this.temp.length;i++)this.temp[i].getComponent("Scroll").myUpdate(t),this.deleteHeight=this.temp[i].getComponent("Scroll").getNodeY()<this.overHeight,1003!=this.temp[i].tag&&1002!=this.temp[i].tag&&1001!=this.temp[i].tag||!this.deleteHeight||255!=this.temp[i].opacity||(this.currentCombo=0,this.comboSprite.node.active=!1,this.clickN(i));this.deleteLine(this.temp,this.deleteHeight)}}else{this.totalBossArex=this.totalBoss;for(var e=0;e<this.totalArr.length;e++){this.temp=this.totalArr[e],e==this.totalArr.length-1&&(this.nextY=this.temp[0].getComponent("Scroll").getNodeY(),this.nextY<=this.spawnHeight&&(this.spawnBossOrArex(),0==this.rainbowLine&&(this.setTimeScales(this.timeScale),this.timeScale+=this.addTimeScale,this.rainbowLine=this.resetLine)));for(var i=0;i<this.temp.length;i++)this.temp[i].getComponent("Scroll").myUpdate(t),this.deleteHeight=this.temp[i].getComponent("Scroll").getNodeY()<this.overHeight,1003!=this.temp[i].tag&&1002!=this.temp[i].tag&&1001!=this.temp[i].tag||!this.deleteHeight||255!=this.temp[i].opacity||(this.currentCombo=0,this.comboSprite.node.active=!1,this.clickN(i));this.deleteLine(this.temp,this.deleteHeight)}for(var n=0;n<this.totalBossArex.length;++n)this.totalBossArex[n].getComponent("Scroll").myUpdate(t),this.totalBossArex[n].getComponent("Scroll").getNodeY()<this.bossLossBlood&&this.totalBossArex[n].getComponent("TBoss").getLength()>0&&255==this.totalBossArex[n].opacity&&(this.totalBossArex[n].opacity=125,this.clickN(333)),this.totalBossArex[n].getComponent("Scroll").getNodeY()<this.bossDelete&&this.deleteBoss(this.totalBossArex[n])}o.MiaoShouHuiChun&&this.skillMiaoshou()},setTimeScales:function(t){cc.director.getScheduler().setTimeScale(t)},comboSucc:function(){++this.currentCombo>=10&&(this.comboSprite.node.active=!0,this.comboLabel.string=this.currentCombo.toString()),this.maxCombo<this.currentCombo&&(this.maxCombo=this.currentCombo)},bloodCheck:function(){for(;this.clickNumber>0;){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40)),this.lossBlood[this.clickNumber].node.active=!0;var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}},clickN:function(t){if(this.clickNumber>0){if(333==t)for(h=0;h<3;++h){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5);if(this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),this.clickNumber<=0)break}else if(666!==t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}7!=t&&333!=t&&666!=t&&(this.temp[t].opacity=125)}if(this.clickNumber<=0){o.HardModel||s.UMLevelCheck("level5","fail"),this.nullNode.active=!0,7!=t&&333!=t&&(this.temp[t].opacity=125);p=parseInt(this.scoreDisplay.string),Math.floor(parseInt(this.scoreDisplay.string)*(1+.01*this.maxCombo)/10);this.setTimeScales(1);for(var n=cc.hide(),a=cc.scaleTo(0,.1),c=cc.show(),r=cc.scaleBy(.5,10),h=0;h<4;++h)this.lossBlood[h].node.runAction(cc.blink(1,3));var l=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),u=cc.delayTime(2.5),d=cc.delayTime(1);this.stopUpdate();m=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11),cc.find("Canvas/OverBattle").getComponent("GameOver").battleScore(p,this.maxCombo);var t=this,e=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(t.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(t.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(n,a,c,r,e))},this);this.node.runAction(cc.sequence(d,l,u,m))}else if(666===t){o.HardModel||s.UMLevelCheck("level5","finish"),this.nullNode.active=!0;var p=parseInt(this.scoreDisplay.string);Math.floor(parseInt(this.scoreDisplay.string)*(1+.01*this.maxCombo)/10);this.setTimeScales(1);var n=cc.hide(),a=cc.scaleTo(0,.1),c=cc.show(),r=cc.scaleBy(.5,10),l=cc.callFunc(function(){var t=cc.find("Canvas/GeneralAnim/startAnimTongYongReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),u=cc.delayTime(2.5),d=cc.delayTime(1);this.stopUpdate();var m=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||t.judgeOnce(-1),t.battleScore(p,this.maxCombo);var e=this,i=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(e.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(n,a,c,r,i))},this);this.node.runAction(cc.sequence(d,l,u,m))}},stopUpdate:function(){this.unschedule(this.myUpdate)},spawnBossOrArex:function(){var t=Math.floor(10*Math.random());o.HardModel?t>5?(this.spawnOneBoss(),this.flag=1):(this.spawnLine(),this.flag=2):t>7?(this.spawnOneBoss(),this.flag=1):(this.spawnLine(),this.flag=2)},randomColor:function(){var t=Math.floor(11*Math.random()+1);if(10==Math.floor(40*Math.random()))if(o.MonthCardVIP){var e=cc.instantiate(this.arexPF[4]);e.tag=1005,this.tempColor.push(e)}else this.tempColor.push(this.arexOnePool.get());else t>=10&&!this.bombBool?(this.bombBool=!0,this.tempColor.push(this.bombPool.get())):t<5?this.tempColor.push(this.arexOnePool.get()):t<8?this.tempColor.push(this.arexTwoPool.get()):t<10?this.tempColor.push(this.arexThreePool.get()):this.tempColor.push(this.arexOnePool.get());for(var i=0;i<4;++i)this.tempColor.push(this.yellowPool.get());this.tempColor.sort(function(){return.5-Math.random()})},spawnLine:function(){this.rainbowLine--,this.randomColor(),this.bombBool=!1;var t=this.tempColor;this.tempColor=[];for(var e=0;e<t.length;e++)t[e].opacity=255,t[e].parent=this.bgLayer.node;this.setBlockPos(t),this.totalArr.push(t)},randomBoss:function(){var t=Math.floor(3*Math.random());return 0==t?this.mcPool.size()<=0?cc.instantiate(this.bossPF[0]):this.mcPool.get():1==t?this.mylPool.size()<=0?cc.instantiate(this.bossPF[1]):this.mylPool.get():this.mtPool.size()<=0?cc.instantiate(this.bossPF[2]):this.mtPool.get()},spawnOneBoss:function(){this.rainbowLine--,this.currentBoss=this.randomBoss(),this.currentBoss.parent=this.bgLayer.node,this.currentBoss.setPosition(0,this.spawnBossY),this.bossZero=this.currentBoss,this.bossZero.tag=1},setBlockPos:function(t){for(var e=0;e<t.length;e++)t[e].setPosition(.5*-this.screenWidth+this.rainbowSpac+e*this.rainbowSpac+e*this.rWidth+60,this.spawnY)},deleteLine:function(t,e){e&&(this.totalArr.shift(),this.putNodePool(t))},deleteBoss:function(t){this.totalBoss.splice(this.totalBoss.indexOf(t),1),this.putBossPool(t)},blockNodePool:function(){this.arexOnePool=new cc.NodePool,this.arexTwoPool=new cc.NodePool,this.arexThreePool=new cc.NodePool,this.yellowPool=new cc.NodePool,this.bombPool=new cc.NodePool,this.skillPool=new cc.NodePool,this.mcPool=new cc.NodePool,this.mylPool=new cc.NodePool,this.mtPool=new cc.NodePool;for(var t=0;t<3;++t){var e=cc.instantiate(this.bossPF[0]);this.mcPool.put(e);var i=cc.instantiate(this.bossPF[1]);this.mylPool.put(i);var o=cc.instantiate(this.bossPF[2]);this.mtPool.put(o)}for(var n=0;n<15;++n){var s=cc.instantiate(this.arexPF[0]);s.tag=1001,this.arexOnePool.put(s);var a=cc.instantiate(this.arexPF[1]);a.tag=1002,this.arexTwoPool.put(a);var c=cc.instantiate(this.arexPF[2]);c.tag=1003,this.arexThreePool.put(c);var r=cc.instantiate(this.arexPF[3]);r.tag=1004,this.bombPool.put(r)}for(var h=0;h<50;++h){var l=cc.instantiate(this.arexPF[5]);l.tag=1006,this.yellowPool.put(l)}},putNodePool:function(t){for(var e=0;e<t.length;e++)switch(t[e].tag){case 1001:this.arexOnePool.put(t[e]);break;case 1002:this.arexTwoPool.put(t[e]);break;case 1003:this.arexThreePool.put(t[e]);break;case 1004:this.bombPool.put(t[e]);break;case 1005:this.skillPool.put(t[e]);break;case 1006:this.yellowPool.put(t[e])}},putBossPool:function(t){var e=cc.delayTime(1),i=cc.callFunc(function(){t.destroy()},this);this.node.runAction(cc.sequence(e,i))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},scoreNodePool:function(){this.scorePool=new cc.NodePool;for(var t=0;t<40;++t){var e=cc.instantiate(this.addScoreAction);this.scorePool.put(e)}},addAction:function(t){},addScore:function(t){t.opacity=125,o.troopScore+=30,this.battleScoreDis.string=o.troopScore.toString()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}},skillMiaoshou:function(){if(o.MiaoShouHuiChun=!1,4==this.clickNumber);else{o.EffectOffset&&cc.audioEngine.play(this.miaoshouMusic,!1,1);for(var t=0;t<4;t++)1==this.lossBlood[t].node.active&&(this.clickNumber++,this.lossBlood[t].node.active=!1,this.haveBlood[t].node.active=!0,this.lossBloodEffect[t].node.opacity=255,this.lossBloodEffect[t].node.setScale(1,1),this.lossBloodEffect[t].node.active=!1,t=4);this.miaoshouTX.node.active=!0;var e=cc.delayTime(2),i=cc.callFunc(function(){this.miaoshouTX.node.active=!1},this),n=cc.sequence(e,i);this.miaoshouTX.node.runAction(n)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],TarexOne:[function(t,e,i){"use strict";cc._RF.push(e,"e0d71q97ERHXqMbdb73iKZS","TarexOne");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=10,this.node.parent.getComponent("TGame").comboSucc(),this.node.parent.getComponent("TGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],TarexThree:[function(t,e,i){"use strict";cc._RF.push(e,"192feldSOdBAabvWYcVCj5X","TarexThree");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=30,this.node.parent.getComponent("TGame").comboSucc(),this.node.parent.getComponent("TGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],TarexTwo:[function(t,e,i){"use strict";cc._RF.push(e,"6e4c2gJWvtB+KEAP8fh86gE","TarexTwo");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},closeTouch:function(){var t=this;t.node.off("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.runAction(cc.fadeOut(1)),o.troopScore+=20,this.node.parent.getComponent("TGame").comboSucc(),this.node.parent.getComponent("TGame").scoreDisplay.string=o.troopScore.toString())}}),cc._RF.pop()},{Common:"Common"}],Tbomb:[function(t,e,i){"use strict";cc._RF.push(e,"5297e0fsNpCdpIDJKqYsBAb","Tbomb");t("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("TGame").currentCombo=0,this.node.parent.getComponent("TGame").comboSprite.node.active=!1,this.node.parent.getComponent("TGame").clickN(7))}}),cc._RF.pop()},{Common:"Common"}],Timer:[function(t,e,i){"use strict";cc._RF.push(e,"e51bbKxzx9M6JEXICanaw8v","Timer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},time:0},onLoad:function(){this.timerDisplay.string=this.time.toString()},setTime:function(t){this.time=t,this.timerDisplay.string=this.time.toString()},getTime:function(t){return this.time},startmyUpdate:function(){this.schedule(this.myUpdate,1)},stopmyUpdate:function(){this.unschedule(this.myUpdate)},showTimer:function(){this.node.active=!0},myUpdate:function(t){cc.director.getScheduler().setTimeScale(1),this.time>1?(this.time-=1,this.timerDisplay.string=this.time.toString()):(this.stopmyUpdate(),this.node.active=!1)}}),cc._RF.pop()},{Common:"Common"}],Tskill:[function(t,e,i){"use strict";cc._RF.push(e,"79eab4qPDFNJbE1eAaWXfm6","Tskill");var o=t("Common");cc.Class({extends:cc.Component,properties:{miaoShou:{default:null,type:cc.Button,tooltip:"妙手回春"}},onLoad:function(){},randomSkill:function(){this.miaoShou.node.active=!0},miaoshouhuichun:function(){o.MiaoShouHuiChun=!0,this.node.runAction(cc.fadeOut(1)),this.miaoShou.enabled=!1}}),cc._RF.pop()},{Common:"Common"}],Tyellow:[function(t,e,i){"use strict";cc._RF.push(e,"cb128Uf0KNNHY3/eE8XSSpC","Tyellow");t("Common");cc.Class({extends:cc.Component,properties:{clickError:{default:null,url:cc.AudioClip,tooltip:"点击音效"}},onLoad:function(){},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){cc.log("点击yellow")}}),cc._RF.pop()},{Common:"Common"}],ULevelStr:[function(t,e,i){"use strict";cc._RF.push(e,"cc35bOlOvdOK71SR/I82nU2","ULevelStr");var o=["零","一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","二十一","二十二","二十三","二十四","二十五","二十六","二十七","二十八","二十九","三十","三十一","三十二","三十三","三十四","三十五","三十六","三十七","三十八","三十九","四十","四十一","四十二","四十三","四十四","四十五","四十六","四十七","四十八","四十九","五十","五十一","五十二","五十三","五十四","五十五","五十六","五十七","五十八","五十九","六十","六十一","六十二","六十三","六十四","六十五","六十六","六十七","六十八","六十九","七十","七十一","七十二","七十三","七十四","七十五","七十六","七十七","七十八","七十九","八十","八十一","八十二","八十三","八十四","八十五","八十六","八十七","八十八","八十九","九十","九十一","九十二","九十三","九十四","九十五","九十六","九十七","九十八","九十九","一百","一百零一"];e.exports=o,cc._RF.pop()},{}],UTitleStr:[function(t,e,i){"use strict";cc._RF.push(e,"d3f6e0mreZCP4OQ/IG5E1aQ","UTitleStr");var o=["揭竿而起","揭竿而起","揭竿而起","揭竿而起","揭竿而起","揭竿而起","封公加爵","封公加爵","封公加爵","封公加爵","封公加爵","封公加爵","运筹帷幄","运筹帷幄","运筹帷幄","运筹帷幄","运筹帷幄","运筹帷幄","运筹帷幄","星火燎原","星火燎原","星火燎原","星火燎原","星火燎原","星火燎原","星火燎原","雄霸一方","雄霸一方","雄霸一方","雄霸一方","雄霸一方","雄霸一方","雄霸一方","雄霸一方","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","大势所趋","天命所归","天命所归","天命所归","天命所归","天命所归","天命所归","五十级","五十一级","五十二级","五十三级","五十四级","五十五级","五十六级","五十七级","五十八级","五十九级","六十级","六十一级","六十二级","六十三级","六十四级","六十五级","六十六级","六十七级","六十八级","六十九级","七十级","七十一级","七十二级","七十三级","七十四级","七十五级","七十六级","七十七级","七十八级","七十九级","八十级","八十一级","八十二级","八十三级","八十四级","八十五级","八十六级","八十七级","八十八级","八十九级","九十级","九十一级","九十二级","九十三级","九十四级","九十五级","九十六级","九十七级","九十八级","九十九级","一百级","一百零一级"];e.exports=o,cc._RF.pop()},{}],UpBackground:[function(t,e,i){"use strict";cc._RF.push(e,"c38b9rNcRdGyYG8nkYgU5ET","UpBackground");var o=t("Common");cc.Class({extends:cc.Component,properties:{getSprite:cc.Sprite,killSprite:cc.Sprite},onLoad:function(){this.node.setLocalZOrder(10),o.classicMode?this.getSprite.node.active=!0:o.limitMode&&(this.killSprite.node.active=!0),this.node.on("touchstart",function(t){t.stopPropagation()},this)}}),cc._RF.pop()},{Common:"Common"}],UpgradeConfig:[function(t,e,i){"use strict";cc._RF.push(e,"4aa91t0lX9JtJqRA8mdjz57","UpgradeConfig");var o=[{Level:"0",Ceiling:"10",Official:"校尉",Waraddition:"0"},{Level:"1",Ceiling:"10",Official:"校尉",Waraddition:"0"},{Level:"2",Ceiling:"3000",Official:"校尉",Waraddition:"0"},{Level:"3",Ceiling:"5000",Official:"校尉",Waraddition:"0"},{Level:"4",Ceiling:"7600",Official:"校尉",Waraddition:"0"},{Level:"5",Ceiling:"10900",Official:"都尉",Waraddition:"0.01"},{Level:"6",Ceiling:"15000",Official:"都尉",Waraddition:"0.01"},{Level:"7",Ceiling:"20000",Official:"都尉",Waraddition:"0.01"},{Level:"8",Ceiling:"26000",Official:"都尉",Waraddition:"0.01"},{Level:"9",Ceiling:"33100",Official:"偏将军",Waraddition:"0.03"},{Level:"10",Ceiling:"41400",Official:"偏将军",Waraddition:"0.03"},{Level:"11",Ceiling:"51000",Official:"偏将军",Waraddition:"0.03"},{Level:"12",Ceiling:"62000",Official:"偏将军",Waraddition:"0.03"},{Level:"13",Ceiling:"74500",Official:"裨将军 ",Waraddition:"0.05"},{Level:"14",Ceiling:"88600",Official:"裨将军",Waraddition:"0.05"},{Level:"15",Ceiling:"104400",Official:"裨将军",Waraddition:"0.05"},{Level:"16",Ceiling:"122000",Official:"裨将军",Waraddition:"0.05"},{Level:"17",Ceiling:"141500",Official:"破虏将军",Waraddition:"0.07"},{Level:"18",Ceiling:"163000",Official:"破虏将军",Waraddition:"0.07"},{Level:"19",Ceiling:"186600",Official:"破虏将军",Waraddition:"0.07"},{Level:"20",Ceiling:"212400",Official:"破虏将军",Waraddition:"0.07"},{Level:"21",Ceiling:"240500",Official:"牙门将军",Waraddition:"0.1"},{Level:"22",Ceiling:"271000",Official:"牙门将军",Waraddition:"0.1"},{Level:"23",Ceiling:"304000",Official:"牙门将军",Waraddition:"0.1"},{Level:"24",Ceiling:"339600",Official:"牙门将军",Waraddition:"0.1"},{Level:"25",Ceiling:"377900",Official:"翊军将军",Waraddition:"0.14"},{Level:"26",Ceiling:"419000",Official:"翊军将军",Waraddition:"0.14"},{Level:"27",Ceiling:"463000",Official:"翊军将军",Waraddition:"0.14"},{Level:"28",Ceiling:"510000",Official:"翊军将军",Waraddition:"0.14"},{Level:"29",Ceiling:"560100",Official:"安汉将军",Waraddition:"0.18"},{Level:"30",Ceiling:"613400",Official:"安汉将军",Waraddition:"0.18"},{Level:"31",Ceiling:"670000",Official:"安汉将军",Waraddition:"0.18"},{Level:"32",Ceiling:"730000",Official:"安汉将军",Waraddition:"0.18"},{Level:"33",Ceiling:"793500",Official:"凌江将军",Waraddition:"0.22"},{Level:"34",Ceiling:"860600",Official:"凌江将军",Waraddition:"0.22"},{Level:"35",Ceiling:"931400",Official:"凌江将军",Waraddition:"0.22"},{Level:"36",Ceiling:"1006000",Official:"凌江将军",Waraddition:"0.22"},{Level:"37",Ceiling:"1084500",Official:"宁朔将军",Waraddition:"0.26"},{Level:"38",Ceiling:"1167000",Official:"宁朔将军",Waraddition:"0.26"},{Level:"39",Ceiling:"1253600",Official:"宁朔将军",Waraddition:"0.26"},{Level:"40",Ceiling:"1344400",Official:"宁朔将军",Waraddition:"0.26"},{Level:"41",Ceiling:"1439500",Official:"虎翼将军",Waraddition:"0.3"},{Level:"42",Ceiling:"1539000",Official:"虎翼将军",Waraddition:"0.3"},{Level:"43",Ceiling:"1643000",Official:"虎翼将军",Waraddition:"0.3"},{Level:"44",Ceiling:"1751600",Official:"虎翼将军",Waraddition:"0.3"},{Level:"45",Ceiling:"1864900",Official:"龙骧将军",Waraddition:"0.34"},{Level:"46",Ceiling:"1983000",Official:"龙骧将军",Waraddition:"0.34"},{Level:"47",Ceiling:"2106000",Official:"龙骧将军",Waraddition:"0.34"},{Level:"48",Ceiling:"2234000",Official:"龙骧将军",Waraddition:"0.34"},{Level:"49",Ceiling:"2367100",Official:"列将军",Waraddition:"0.38"},{Level:"50",Ceiling:"2505400",Official:"列将军",Waraddition:"0.38"},{Level:"51",Ceiling:"2649000",Official:"列将军",Waraddition:"0.38"},{Level:"52",Ceiling:"2798000",Official:"列将军",Waraddition:"0.38"},{Level:"53",Ceiling:"2952500",Official:"四平将军",Waraddition:"0.42"},{Level:"54",Ceiling:"3112600",Official:"四平将军",Waraddition:"0.42"},{Level:"55",Ceiling:"3278400",Official:"四平将军",Waraddition:"0.42"},{Level:"56",Ceiling:"3450000",Official:"四平将军",Waraddition:"0.42"},{Level:"57",Ceiling:"3627500",Official:"四安将军",Waraddition:"0.46"},{Level:"58",Ceiling:"3811000",Official:"四安将军",Waraddition:"0.46"},{Level:"59",Ceiling:"4000600",Official:"四安将军",Waraddition:"0.46"},{Level:"60",Ceiling:"4196400",Official:"四安将军",Waraddition:"0.46"},{Level:"61",Ceiling:"4398500",Official:"四镇将军",Waraddition:"0.5"},{Level:"62",Ceiling:"4607000",Official:"四镇将军",Waraddition:"0.5"},{Level:"63",Ceiling:"4822000",Official:"四镇将军",Waraddition:"0.5"},{Level:"64",Ceiling:"5043600",Official:"四镇将军",Waraddition:"0.5"},{Level:"65",Ceiling:"5271900",Official:"四征将军",Waraddition:"0.54"},{Level:"66",Ceiling:"5507000",Official:"四征将军",Waraddition:"0.54"},{Level:"67",Ceiling:"5749000",Official:"四征将军",Waraddition:"0.54"},{Level:"68",Ceiling:"5998000",Official:"四征将军",Waraddition:"0.54"},{Level:"69",Ceiling:"6254100",Official:"四军将军",Waraddition:"0.58"},{Level:"70",Ceiling:"6517400",Official:"四军将军",Waraddition:"0.58"},{Level:"71",Ceiling:"6788000",Official:"四军将军",Waraddition:"0.58"},{Level:"72",Ceiling:"7066000",Official:"四军将军",Waraddition:"0.58"},{Level:"73",Ceiling:"7351500",Official:"卫将军",Waraddition:"0.62"},{Level:"74",Ceiling:"7644600",Official:"卫将军",Waraddition:"0.62"},{Level:"75",Ceiling:"7945400",Official:"卫将军",Waraddition:"0.62"},{Level:"76",Ceiling:"8254000",Official:"卫将军",Waraddition:"0.62"},{Level:"77",Ceiling:"8570500",Official:"车骑将军",Waraddition:"0.66"},{Level:"78",Ceiling:"8895000",Official:"车骑将军",Waraddition:"0.66"},{Level:"79",Ceiling:"9227600",Official:"车骑将军",Waraddition:"0.66"},{Level:"80",Ceiling:"9568400",Official:"车骑将军",Waraddition:"0.66"},{Level:"81",Ceiling:"9917500",Official:"镖旗将军",Waraddition:"0.7"},{Level:"82",Ceiling:"10275000",Official:"镖旗将军",Waraddition:"0.7"},{Level:"83",Ceiling:"10641000",Official:"镖旗将军",Waraddition:"0.7"},{Level:"84",Ceiling:"11015600",Official:"镖旗将军",Waraddition:"0.7"},{Level:"85",Ceiling:"11398900",Official:"大将军",Waraddition:"0.74"},{Level:"86",Ceiling:"11791000",Official:"大将军",Waraddition:"0.74"},{Level:"87",Ceiling:"12192000",Official:"大将军",Waraddition:"0.74"},{Level:"88",Ceiling:"12602000",Official:"大将军",Waraddition:"0.74"},{Level:"89",Ceiling:"13021100",Official:"上大将军",Waraddition:"0.78"},{Level:"90",Ceiling:"13449400",Official:"上大将军",Waraddition:"0.78"},{Level:"91",Ceiling:"13887000",Official:"上大将军",Waraddition:"0.78"},{Level:"92",Ceiling:"14334000",Official:"上大将军",Waraddition:"0.78"},{Level:"93",Ceiling:"14790500",Official:"大司马",Waraddition:"0.82"},{Level:"94",Ceiling:"15256600",Official:"大司马",Waraddition:"0.82"},{Level:"95",Ceiling:"15732400",Official:"大司马",Waraddition:"0.82"},{Level:"96",Ceiling:"16218000",Official:"大司马",Waraddition:"0.82"},{Level:"97",Ceiling:"16713500",Official:"太傅",Waraddition:"0.86"},{Level:"98",Ceiling:"17219000",Official:"太傅",Waraddition:"0.86"},{Level:"99",Ceiling:"17734600",Official:"太傅",Waraddition:"0.86"},{Level:"100",Ceiling:"18260400",Official:"太傅",Waraddition:"0.86"},{Level:"101",Ceiling:"18796500",Official:"丞相",Waraddition:"0.9"}];e.exports=o,cc._RF.pop()},{}],Upgrade:[function(t,e,i){"use strict";cc._RF.push(e,"180ba4NZU5B37kId9YI8TDC","Upgrade");var o=t("ULevelStr"),n=t("UpgradeConfig"),s=t("Common"),a=t("StorageData"),c=t("JsToJava"),r=cc.Class({extends:cc.Component,properties:{levelUp:{default:null,type:cc.Label,tooltip:"等级一 → 等级二"},officialUp:{default:null,type:cc.Label,tooltip:"官职: 校尉 → 都尉"},warOpenScroll:{default:null,type:cc.Sprite,tooltip:"战役开放滚动"},warOpen:{default:null,type:cc.Label,tooltip:"新战役开放: xxx"},upMusic:{default:null,url:cc.AudioClip,tooltip:"升级音效"}},onLoad:function(){this.node.on("touchstart",function(t){t.stopPropagation()},this),this.flag=!1},readLevelConfig:function(){this.node.getChildByName("returnFinal").getComponent(cc.Button).interactable=!1;var t=cc.delayTime(.7),e=cc.callFunc(function(){this.node.getChildByName("returnFinal").getComponent(cc.Button).interactable=!0},this);this.node.runAction(cc.sequence(t,e)),s.EffectOffset&&cc.audioEngine.play(this.upMusic),s.Level=parseInt(a.getLocalData("LEVEL")),c.UMsetPlayerLevel(s.Level),this.levelUp.string="等级"+o[s.PreviousLevel]+"→等级"+o[s.Level],s.Official=a.getLocalData("OFFICIAL"),n[s.PreviousLevel].Official!==s.Official?this.officialUp.string="官职:"+n[s.PreviousLevel].Official+"→"+s.Official:this.officialUp.string="官职:"+s.Official,this.node.getChildByName("upgradeFrame").getComponent(cc.Animation).play(),this.flag&&this.node.getChildByName("finalAction").getComponent("FinalAction").spriteAction();var i=this.openNewBattle(s.PreviousLevel,s.Level);""!==i&&(""===s.OpenBattleName?s.OpenBattleName+=i:s.OpenBattleName=s.OpenBattleName+"、"+i,i="",this.node.getChildByName("finalAction").getComponent("FinalAction").openBattleAction())},openNewBattle:function(t,e){var i="";if(t<17)for(var o=t+1;o<=e;++o)switch(o){case 2:i+="濮阳之战";break;case 5:i+=""!==i?"、白狼山之战":"白狼山之战";break;case 7:i+=""!==i?"、平阳之战":"平阳之战";break;case 9:i+=""!==i?"、徐州之战":"徐州之战";break;case 11:i+=""!==i?"、潼关之战、曲阿之战、益州之战":"潼关之战、曲阿之战、益州之战";break;case 13:i+=""!==i?"、赤壁之战":"赤壁之战";break;case 15:i+=""!==i?"、对酒当歌":"对酒当歌";break;case 17:i+=""!==i?"、官渡之战、合肥之战、星天观测":"官渡之战、合肥之战、星天观测"}return i},returnFinalLayer:function(){this.node.getChildByName("finalAction").getComponent("FinalAction").setOriginalPos(),this.flag=!0,this.node.active=!1,this.node.getChildByName("finalAction").getComponent("FinalAction").setOpenPos(),this.checkLevel()},checkLevel:function(){var t=parseInt(a.getLocalData("LEVEL")),e=parseInt(a.getLocalData("PVPFLAG"));t>=10&&1==e&&(a.setLocalData("PVPFLAG",2),s.newbiePuyang=!1,s.newbieZero=!1,s.newbieOne=!1,s.newbieTwo=!1,s.newbieThree=!1,s.newbieFour=!1,s.newbieSeven=!1,s.newbieLast=!1,s.FirstGame=!0,s.newbieFive=!0,a.setLocalData("NewStep",6),a.setLocalData("NewState",s.FirstGame),s.limitMode||s.classicMode||cc.director.loadScene("NewMenuScene"))}});e.exports=r,cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData",ULevelStr:"ULevelStr",UpgradeConfig:"UpgradeConfig"}],WaitProgressStore:[function(t,e,i){"use strict";cc._RF.push(e,"916e3TuM4xAGJb8nKTJtPXJ","WaitProgressStore"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.speed=10,this.node.on("touchstart",function(t){t.stopPropagation()},this)},rotate:function(){this.node.children[1].rotation=0,this.node.children[1].runAction(cc.repeatForever(cc.rotateBy(3,360)))}}),cc._RF.pop()},{}],WaitProgress:[function(t,e,i){"use strict";cc._RF.push(e,"62684MGNM9F0LaTaoSufJ7U","WaitProgress"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.speed=10,this.node.on("touchstart",function(t){t.stopPropagation()},this)},rotate:function(){this.node.children[1].rotation=0,this.node.children[1].runAction(cc.rotateBy(1.5,70))}}),cc._RF.pop()},{}],XBoss:[function(t,e,i){"use strict";cc._RF.push(e,"c7acedyfztOroqzBh1mCjHY","XBoss");var o=t("Common");cc.Class({extends:cc.Component,properties:{zhangLiao:{default:null,type:cc.Sprite,tooltip:"张辽"},liDian:{default:null,type:cc.Sprite,tooltip:"李典"},game:{default:null,serializable:!1},lossBlood:cc.Sprite,bloodBar:cc.Node},onLoad:function(){o.HardModel&&(this.lossBlood.node.active=!1,this.bloodBar.active=!1)},init:function(t){this.game=t}}),cc._RF.pop()},{Common:"Common"}],XGame:[function(t,e,i){"use strict";cc._RF.push(e,"7da3emJfWhAt5fP8KDN3/av","XGame");var o=t("Common"),n=t("StorageData"),s=t("JsToJava");cc.Class({extends:cc.Component,properties:{yyArrs:{default:[],type:cc.Prefab,tooltip:"阴阳序列"},specialYang:{default:null,type:cc.Prefab,tooltip:"特殊阳"},specialYin:{default:null,type:cc.Prefab,tooltip:"特殊阴"},specialYY:{default:null,type:cc.Prefab,tooltip:"同时点击条"},startAnim:cc.Node,warTimeLabel:{default:null,type:cc.Label,tooltip:"战役总计时"},stageTimeLabel:{default:null,type:cc.Label,tooltip:"阶段倒计时"},battleMusic:{default:null,url:cc.AudioClip,tooltip:"战斗音乐"},victoryMusic:{default:null,url:cc.AudioClip,tooltip:"胜利音效"},failMusic:{default:null,url:cc.AudioClip,tooltip:"失败音效"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},lossBloodMusic:{default:null,url:cc.AudioClip,tooltip:"掉血音效"},overFail:{default:null,type:cc.Layout,tooltip:"失败"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利"},gossipBlack:{default:null,type:cc.Node,tooltip:"黑阴"},gossipWhite:{default:null,type:cc.Node,tooltip:"白阳"},monsterPf:{default:null,type:cc.Prefab,tooltip:"六小怪"},bossBlood:{default:null,type:cc.ProgressBar,tooltip:"boss血量"},bossNode:{default:null,type:cc.Node,tooltip:"颜良文丑"},bossDied:{default:null,url:cc.AudioClip,tooltip:"boss死亡音效"},bossHurt:{default:null,url:cc.AudioClip,tooltip:"boss受伤音效"},clickMusic:{default:null,url:cc.AudioClip},battleLayer:{default:null,type:cc.Layout,tooltip:"关闭此层"},leftStar:{default:null,type:cc.Sprite,tooltip:"左星"},rightStar:{default:null,type:cc.Sprite,tooltip:"右星"},leftEffect:{default:null,type:cc.Sprite,tooltip:"左星点击效果"},rightEffect:{default:null,type:cc.Sprite,tooltip:"右星点击效果"},rightLeftAnim:{default:null,type:cc.Node,tooltip:"左右星动画效果"},nullNode:cc.Node,exitBox:cc.Prefab},onLoad:function(){o.MusicOffset&&(cc.audioEngine.pause(o.bgMusicId),o.battleMusicId=cc.audioEngine.play(this.battleMusic,!0,.3)),o.returnOnce=!0,this.leftEffect.node.runAction(cc.hide()),this.rightEffect.node.runAction(cc.hide()),this.initData()},initData:function(){this.monsterPool=new cc.NodePool,this.monsterSpeed=150,this.battleLayer.node.active=!1,this.screenWidth=cc.director.getVisibleSize().width,this.screenHeight=cc.director.getVisibleSize().height,this.forDelete=[],this.opacityCount=0,this.stageTimer=this.stageTimeLabel.getComponent("XstageTimer"),this.stageTimer.init(this),this.warTimer=this.warTimeLabel.getComponent("XwarSeconds"),this.warTimer.init(this),this.clickTimesSix=0,this.clickNumber=4,this.sixMonster=[],this.boolSkill=!1,this.leftStar.tag=0,this.rightStar.tag=1,this.currentSeq=[],this.currentSeqCount=0,this.randSpecialYY=-1,this.bossNode.getComponent("XBoss").init(this),this.already=!1,this.eachLossBlood=.09,this.scaleMin=cc.scaleBy(.01,.9),this.scaleResume=this.scaleMin.reverse(),this.pressNumber=1,this.monsterFlag=!1,this.updateFlag=!0,this.correctPressed=!1,this.rightFlag=!1,this.leftFlag=!1,this.successFlag=!1,this.timeLimit=540,this.spawnFlag=!1},startGame:function(){if(!o.FirstGame){this.seqOne(),this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.startAnim.setLocalZOrder(12);var t=cc.delayTime(2),e=cc.callFunc(function(){this.rightStar.node.runAction(cc.fadeIn(.5)),this.leftStar.node.runAction(cc.fadeIn(.5)),this.yyRotate()},this);this.node.runAction(cc.sequence(t,e));var i=cc.delayTime(3),n=cc.callFunc(function(){o.HardModel?s.UMLevelCheck("levelHard12","start"):s.UMLevelCheck("level12","start"),this.warTimer.startmyUpdate(),this.nullNode.active=!1,this.returnMenu(),this.schedule(this.myUpdate,0)},this),a=cc.sequence(i,n);this.node.runAction(a)}},pauseWarTimer:function(){cc.director.getScheduler().pauseTarget(this.warTimer),cc.director.getScheduler().pauseTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().pauseTarget(this.sixMonster[t].getComponent("XmonsterScroll"))},resumeWarTimer:function(){cc.director.getScheduler().resumeTarget(this.warTimer),cc.director.getScheduler().resumeTarget(this.stageTimer);for(var t=0;t<this.sixMonster.length;++t)cc.director.getScheduler().resumeTarget(this.sixMonster[t].getComponent("XmonsterScroll"))},pauseAnimation:function(){this.rightLeftAnim.getComponent(cc.Animation).pause()},resumeAnimation:function(){this.rightLeftAnim.getComponent(cc.Animation).resume()},yyRotate:function(){this.already&&this.nextStage();var t=cc.delayTime(1),e=cc.callFunc(function(){this.stageTimer.startmyUpdate(),this.openAllTouch()},this);this.node.runAction(cc.sequence(t,e))},openAllTouch:function(){this.setTouchStartCtrl(),this.setTouchRightStartCtrl(),this.setTouchEndCtrl(),this.setTouchRightEndCtrl(),this.setOutTouchEndCtrl(),this.setOutTouchRightEndCtrl()},closeAllTouch:function(){this.closeTouchStartCtrl(),this.closeTouchRightStartCtrl(),this.closeTouchEndCtrl(),this.closeTouchRightEndCtrl(),this.closeOutTouchEndCtrl(),this.closeOutTouchRightEndCtrl()},setTouchStartCtrl:function(){var t=this;t.leftStar.node.on("touchstart",t.startControl,t)},closeTouchStartCtrl:function(){var t=this;t.leftStar.node.off("touchstart",t.startControl,t)},startControl:function(t){var e=this;e.already=!0;var i=t.touch.getLocation();if(e.currentSeq.length>0)if(2==e.currentSeq[0]&&e.leftStar.node.getBoundingBoxToWorld().contains(i))e.pressNumber=1,e.rightFlag=!0,e.successFlag=!1,e.rightStar.node.on("touchstart",e.rightTouchUpdateListen,e);else if(0==e.currentSeq[0]&&e.leftStar.node.getBoundingBoxToWorld().contains(i)){e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e),e.rightFlag=!1,e.successFlag=!1,e.pressNumber=1;var n=cc.scaleBy(.01,.8),s=n.reverse();e.leftStar.node.runAction(cc.sequence(n,s)),e.leftEffect.node.runAction(cc.sequence(cc.show(),cc.delayTime(.5),cc.hide())),o.EffectOffset&&cc.audioEngine.play(e.clickMusic),e.forDelete[e.opacityCount].runAction(cc.fadeTo(.5,125)),e.opacityCount++,e.currentSeq.splice(0,1),o.HardModel||11!=e.currentStage||0!=e.currentSeq.length?0==e.currentSeq.length&&(o.EffectOffset&&cc.audioEngine.play(this.bossHurt),e.closeAllTouch(),e.stageAction(),e.stageAnimation()):(e.bossBlood.progress+=.1,slef.closeAllTouch(),e.succShow(),e.unschedule(e.myUpdate))}else 1==e.currentSeq[0]&&e.leftStar.node.getBoundingBoxToWorld().contains(i)&&(e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e),e.pressNumber=1,e.rightFlag=!1,e.successFlag=!1,e.releaseMosnter())},rightTouchUpdateListen:function(t){var e=this,i=t.touch.getLocation();2==e.currentSeq[0]&&e.rightStar.node.getBoundingBoxToWorld().contains(i)&&(e.rightFlag=!1,e.successFlag=!0,e.clickCorrect(),e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e),e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e))},setTouchEndCtrl:function(){var t=this;t.leftStar.node.on("touchend",t.endControl,t)},closeTouchEndCtrl:function(){var t=this;t.leftStar.node.off("touchend",t.endControl,t)},setOutTouchEndCtrl:function(){var t=this;t.leftStar.node.on("touchcancel",t.endControl,t)},closeOutTouchEndCtrl:function(){var t=this;t.leftStar.node.off("touchcancel",t.endControl,t)},endControl:function(t){var e=this,i=t.touch.getLocation();e.currentSeq.length>0&&(e.leftStar.node.getBoundingBoxToWorld().contains(i)&&e.correctPressed&&1===e.pressNumber?(e.pressNumber--,e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e),e.correctPressed=!1):e.rightFlag&&!e.successFlag&&(e.rightFlag=!1,e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e),e.releaseMosnter()))},setTouchRightStartCtrl:function(){var t=this;t.rightStar.node.on("touchstart",t.startRightControl,t)},closeTouchRightStartCtrl:function(){var t=this;t.rightStar.node.off("touchstart",t.startRightControl,t)},startRightControl:function(t){var e=this;e.already=!0;var i=t.touch.getLocation();if(e.currentSeq.length>0)if(2==e.currentSeq[0]&&e.rightStar.node.getBoundingBoxToWorld().contains(i))e.leftFlag=!0,e.successFlag=!1,e.pressNumber=1,e.leftStar.node.on("touchstart",e.leftTouchUpdateListen,e);else if(1==e.currentSeq[0]&&e.rightStar.node.getBoundingBoxToWorld().contains(i)){e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e),e.leftFlag=!1,e.successFlag=!1,e.pressNumber=1;var n=cc.scaleBy(.01,.8),s=n.reverse();e.rightStar.node.runAction(cc.sequence(n,s)),e.rightEffect.node.runAction(cc.sequence(cc.show(),cc.delayTime(.5),cc.hide())),o.EffectOffset&&cc.audioEngine.play(e.clickMusic),e.forDelete[e.opacityCount].runAction(cc.fadeTo(.5,125)),e.opacityCount++,e.currentSeq.splice(0,1),o.HardModel||11!=e.currentStage||0!=e.currentSeq.length?0==e.currentSeq.length&&(o.EffectOffset&&cc.audioEngine.play(this.bossHurt),this.closeAllTouch(),e.stageAction(),e.stageAnimation()):(e.bossBlood.progress+=.1,this.closeAllTouch(),e.succShow(),e.unschedule(e.myUpdate))}else 0==e.currentSeq[0]&&e.rightStar.node.getBoundingBoxToWorld().contains(i)&&(e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e),e.leftFlag=!1,e.successFlag=!1,e.pressNumber=1,e.releaseMosnter())},leftTouchUpdateListen:function(t){var e=this,i=t.touch.getLocation();e.leftStar.node.getBoundingBoxToWorld().contains(i)&&(e.leftFlag=!1,e.successFlag=!0,e.clickCorrect(),e.rightStar.node.off("touchstart",e.rightTouchUpdateListen,e),e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e))},setTouchRightEndCtrl:function(){var t=this;t.rightStar.node.on("touchend",t.endRightControl,t)},closeTouchRightEndCtrl:function(){var t=this;t.rightStar.node.off("touchend",t.endRightControl,t)},setOutTouchRightEndCtrl:function(){var t=this;t.rightStar.node.on("touchcancel",t.endRightControl,t)},closeOutTouchRightEndCtrl:function(){var t=this;t.rightStar.node.off("touchcancel",t.endRightControl,t)},endRightControl:function(t){var e=this,i=t.touch.getLocation();e.currentSeq.length>0&&(e.rightStar.node.getBoundingBoxToWorld().contains(i)&&e.correctPressed?(e.pressNumber--,e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e),e.correctPressed=!1):e.leftFlag&&!e.successFlag&&(e.leftFlag=!1,e.leftStar.node.off("touchstart",e.leftTouchUpdateListen,e),e.releaseMosnter()))},clickCorrect:function(){var t=this;o.EffectOffset&&cc.audioEngine.play(t.clickMusic),t.correctPressed=!0,t.forDelete[t.opacityCount].runAction(cc.fadeTo(.5,125)),t.opacityCount++;var e=cc.scaleBy(.01,.8),i=e.reverse();t.rightStar.node.runAction(cc.sequence(e,i));i=(e=cc.scaleBy(.01,.8)).reverse();t.leftStar.node.runAction(cc.sequence(e,i)),t.rightEffect.node.runAction(cc.sequence(cc.show(),cc.delayTime(.5),cc.hide())),t.leftEffect.node.runAction(cc.sequence(cc.show(),cc.delayTime(.5),cc.hide())),t.currentSeq.splice(0,1),o.HardModel||11!=t.currentStage||0!=t.currentSeq.length?0==t.currentSeq.length&&(o.EffectOffset&&cc.audioEngine.play(this.bossHurt),this.closeAllTouch(),t.stageAction(),t.stageAnimation()):(t.bossBlood.progress+=.1,this.closeAllTouch(),t.succShow(),t.unschedule(t.myUpdate))},releaseMosnter:function(){var t=cc.delayTime(.5);this.closeAllTouch(),this.stageTimer.stopmyUpdate(),1==this.forDelete.length?this.opacityCount=0:this.opacityCount==this.forDelete.length&&(this.opacityCount-=1),this.forDelete[this.opacityCount].runAction(cc.blink(.5,3));var e=cc.callFunc(function(){this.spawnMonster()},this);this.node.runAction(cc.sequence(t,e))},stageAction:function(){var t=cc.callFunc(function(){this.stageTimer.stopmyUpdate(),!0===this.bossBlood.node.parent.active&&(this.bossBlood.progress+=this.eachLossBlood,this.bossBlood.progress=parseFloat(this.bossBlood.progress.toFixed(2)))},this),e=cc.delayTime(2.5),i=cc.callFunc(function(){this.yyRotate()},this);this.node.runAction(cc.sequence(t,e,i))},nextStage:function(){this.closeAllTouch();var t=this.currentStage;switch(t>=11&&(t=11),t){case 0:this.seqOne();break;case 1:this.seqTwo();break;case 2:this.seqThree();break;case 3:this.seqFour();break;case 4:this.seqFive();break;case 5:this.seqSix();break;case 6:this.seqSeven();break;case 7:this.seqEight();break;case 8:this.seqNine();break;case 9:this.seqTen();break;case 10:this.seqEleven();break;case 11:this.hardInfinite()}},sixMonsterPool:function(){if(this.monsterPool.size()>=6);else for(var t=0;t<6;++t)this.monsterPool.put(cc.instantiate(this.monsterPf))},putMosterPool:function(t){this.monsterPool.put(t);for(var e=0;e<this.sixMonster.length;++e)t===this.sixMonster[e]&&this.sixMonster.splice(e,1)},spawnMonster:function(){if(this.spawnFlag=!0,this.stageTimer.stopmyUpdate(),this.closeAllTouch(),this.forDelete.length>0){for(e=0;e<this.forDelete.length;++e)this.forDelete[e].destroy();this.forDelete=[]}this.sixMonsterPool(),this.boolSkill=!0,this.sixMonster.length=0;for(var t=0;t<6;++t)this.sixMonster.push(this.monsterPool.get());this.clickTimesSix+=6,this.monsterSpeed+=15;for(var e=0;e<this.sixMonster.length;++e){this.sixMonster[e].getComponent("XmonsterScroll").setSpeed(this.monsterSpeed),this.sixMonster[e].parent=this.node,this.sixMonster[e].opacity=255;var i=90*e-280+20*e,o=Math.floor(270*Math.random()-170);this.sixMonster[e].setPosition(i,o)}},finalScore:function(t){return t>9600?500:t>=9200?700:t>=8700?900:t>=8200?1e3:t>=7700?2e3:t>=7200?3500:t>=6700?5e3:t>=6200?7e3:t>=5700?8e3:t>=5200?9e3:t>=4800?11e3:t>=0?2e4:void 0},clickN:function(t){if(this.clickNumber>0&&9!=t){this.clickNumber--,o.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var e=cc.scaleBy(.3,3),i=cc.fadeOut(.5),n=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(e,i,n)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}if(this.clickNumber<=0||9==t){this.nullNode.active=!0,this.stageTimer.stopmyUpdate(),this.gameTime=this.warTimer.getTotalTime();var a=this.finalScore(this.gameTime);this.clearNodePool();var c=cc.hide(),r=cc.scaleTo(0,.1),h=cc.show(),l=cc.scaleBy(.5,10),u=cc.delayTime(1),d=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimXingTianReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),p=cc.delayTime(2.5);if(9==t){n=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var t=cc.find("Canvas/OverSucc").getComponent("GameOver");o.HardModel||s.UMLevelCheck("level12","finish");var e=parseInt(this.warTimeLabel.node.getChildByName("warSeconds").getComponent(cc.Label).string);e<=46&&!o.HardModel&&t.judgeOnce(e),o.HardModel||t.judgeOnce(-1),t.battleScore(a);var i=this,n=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.EffectOffset&&cc.audioEngine.play(i.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(c,r,h,l,n))},this);this.node.runAction(cc.sequence(u,d,p,n))}else{a=o.HardModel?10*this.currentSeqCount*this.currentStage:2*this.currentSeqCount,this.warTimer.stopmyUpdate();var m=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),g=cc.delayTime(1),n=cc.callFunc(function(){this.overFail.node.active=!0,this.overFail.node.setLocalZOrder(11);var t=cc.find("Canvas/OverBattle").getComponent("GameOver");o.HardModel||s.UMLevelCheck("level12","fail"),t.battleScore(a);var e=this,i=cc.callFunc(function(){o.MusicOffset&&cc.audioEngine.stop(o.battleMusicId),o.HardModel&&o.EffectOffset?cc.audioEngine.play(e.victoryMusic,!1,1):o.EffectOffset&&cc.audioEngine.play(e.failMusic,!1,1)},this.overFail.node);this.overFail.node.runAction(cc.sequence(c,r,h,l,i))},this);this.node.runAction(cc.sequence(u,m,g,d,p,n))}}},stageAnimation:function(){this.rightLeftAnim.active=!0,this.rightLeftAnim.getComponent(cc.Animation).play()},succShow:function(){this.stageAnimation(),this.stageTimer.stopmyUpdate(),this.warTimer.stopmyUpdate();for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].runAction(cc.fadeOut(4));o.EffectOffset&&cc.audioEngine.play(this.bossDied,!1,1);var e=cc.fadeOut(4),i=cc.callFunc(function(){this.clickN(9)},this);this.bossNode.runAction(cc.sequence(e,i))},clearNodePool:function(){if(this.monsterPool.size()>0&&this.monsterPool.clear(),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[]},seqOne:function(){if(this.currentStage=1,this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}this.currentSeq=[];var e=Math.floor(24*Math.random()),i=cc.instantiate(this.yyArrs[e]);e%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(i),i.setPosition(cc.v2(0,.2*-this.screenHeight)),this.forDelete.push(i),this.stageTimer.setTotalTime(200)},spawnSpecialBar:function(){this.randSpecialYY=2;return cc.instantiate(this.specialYY)},seqTwo:function(){if(this.currentStage=2,this.opacityCount=0,1!==this.currentSeqCount&&(this.currentSeqCount=1),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}var e=Math.floor(2*Math.random()),i=null;1==e&&(i=this.spawnSpecialBar()),this.currentSeq=[];for(var o=0;o<3;++o){var n=Math.floor(24*Math.random()),s=cc.instantiate(this.yyArrs[n]);n%2==0?this.currentSeq.push(0):1==e?(s=i,e=0,this.currentSeq.push(this.randSpecialYY)):this.currentSeq.push(1),this.node.addChild(s),s.opacity=0,s.runAction(cc.fadeIn(1)),this.forDelete.push(s),s.setPosition(cc.v2(.16*-this.screenWidth+o*s.width,.2*-this.screenHeight))}this.stageTimer.setTotalTime(450)},seqThree:function(){if(this.currentStage=3,this.opacityCount=0,4!==this.currentSeqCount&&(this.currentSeqCount=4),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+1),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4];n.sort(function(){return.5-Math.random()});for(var s=0;s<5;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>3&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),r.setPosition(cc.v2(.32*-this.screenWidth+s*r.width,.2*-this.screenHeight)),this.forDelete.push(r)}this.stageTimer.setTotalTime(650)},seqFour:function(){if(this.currentStage=4,this.opacityCount=0,9!==this.currentSeqCount&&(this.currentSeqCount=9),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+1),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6];n.sort(function(){return.5-Math.random()});for(var s=0;s<7;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>5&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.2*-this.screenHeight+.5*r.height)),6==s&&r.setPosition(cc.v2(0,.18*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(770)},seqFive:function(){if(this.currentStage=5,this.opacityCount=0,16!==this.currentSeqCount&&(this.currentSeqCount=16),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+2),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<9;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>6&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.2*-this.screenHeight+.5*r.height)):r.setPosition(cc.v2(.18*-this.screenWidth+(s-6)*r.width,.18*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(900)},seqSix:function(){if(this.currentStage=6,this.opacityCount=0,25!==this.currentSeqCount&&(this.currentSeqCount=25),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+2),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<10;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>8&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.2*-this.screenHeight+.5*r.height)):r.setPosition(cc.v2(.24*-this.screenWidth+(s-6)*r.width,.18*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(900)},seqSeven:function(){if(this.currentStage=7,this.opacityCount=0,35!==this.currentSeqCount&&(this.currentSeqCount=35),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+3),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9,10];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<11;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>7&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.2*-this.screenHeight+.5*r.height)):r.setPosition(cc.v2(.32*-this.screenWidth+(s-6)*r.width,.18*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(880)},seqEight:function(){if(this.currentStage=8,this.opacityCount=0,46!==this.currentSeqCount&&(this.currentSeqCount=46),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(2*Math.random()+3),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9,10,11];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<12;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>8&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.2*-this.screenHeight+.5*r.height)):r.setPosition(cc.v2(.42*-this.screenWidth+(s-6)*r.width,.18*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(840)},seqNine:function(){if(this.currentStage=9,this.opacityCount=0,58!==this.currentSeqCount&&(this.currentSeqCount=58),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()+3),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9,10,11,12];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<13;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>9&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.15*-this.screenHeight+.5*r.height)):s<12?r.setPosition(cc.v2(.42*-this.screenWidth+(s-6)*r.width,.11*-this.screenHeight-r.height)):r.setPosition(cc.v2(0,.28*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(780)},seqTen:function(){if(this.currentStage=10,this.opacityCount=0,71!==this.currentSeqCount&&(this.currentSeqCount=71),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()+3),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<14;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>10&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.15*-this.screenHeight+.5*r.height)):s<12?r.setPosition(cc.v2(.42*-this.screenWidth+(s-6)*r.width,.11*-this.screenHeight-r.height)):r.setPosition(cc.v2(.08*-this.screenWidth+(s-12)*r.width,.28*-this.screenHeight-r.height)),this.forDelete.push(r)}this.stageTimer.setTotalTime(700)},seqEleven:function(){if(10===this.currentStage&&(this.currentStage=11),this.opacityCount=0,71===this.currentSeqCount&&(this.currentSeqCount=85),this.forDelete.length>0){for(var t=0;t<this.forDelete.length;++t)this.forDelete[t].destroy();this.forDelete=[]}for(var e=Math.floor(3*Math.random()+3),i=[],o=0;o<e;++o)i.push(this.spawnSpecialBar());this.currentSeq=[];var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14];n.sort(function(){return.5-Math.random()}),this.currentSeq=[];for(var s=0;s<15;++s){var a=Math.floor(24*Math.random()),c=n[0];n.splice(0,1);var r=cc.instantiate(this.yyArrs[a]);e>0&&c==s||s>11&&e>0?(r=i[0],e--,this.currentSeq.push(2),i.splice(0,1)):a%2==0?this.currentSeq.push(0):this.currentSeq.push(1),this.node.addChild(r),r.opacity=0,r.runAction(cc.fadeIn(1)),s<6?r.setPosition(cc.v2(.42*-this.screenWidth+s*r.width,.15*-this.screenHeight+.5*r.height)):s<12?r.setPosition(cc.v2(.42*-this.screenWidth+(s-6)*r.width,.11*-this.screenHeight-r.height)):r.setPosition(cc.v2(.15*-this.screenWidth+(s-12)*r.width,.27*-this.screenHeight-r.height)),this.forDelete.push(r)}11===this.currentStage?this.stageTimer.setTotalTime(540):(this.spawnFlag?this.spawnFlag=!1:(this.currentSeqCount+=15,this.currentStage>11&&(this.currentStage+=1),this.timeLimit-=15),this.timeLimit<=0&&this.timeLimit>=-15&&(this.clickNumber=0,this.clickN(7)),this.stageTimer.setTotalTime(this.timeLimit))},hardInfinite:function(){11===this.currentStage&&(this.currentStage+=1),this.seqEleven()},myUpdate:function(){this.boolSkill&&0==this.clickTimesSix&&this.clickNumber>0&&(this.boolSkill=!1,this.monsterFlag=!1,this.currentStage--,this.yyRotate())},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!o.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:o.returnOnce&&(o.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var s=(new Date).getTime();n.setLocalData("EXITTIME",s)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],XmonsterScroll:[function(t,e,i){"use strict";cc._RF.push(e,"d2ff4UQC0VFQ6xEsW3Y6kTK","XmonsterScroll");t("Common");cc.Class({extends:cc.Component,properties:{speed:0,y:0},onLoad:function(){this.startUpdate(),this.currentHeight=.5*-cc.director.getVisibleSize().height},getNodeY:function(){return this.node.y},startUpdate:function(){this.schedule(this.myUpdate,0)},stopUpdate:function(){this.unschedule(this.myUpdate)},setSpeed:function(t){this.speed=t},myUpdate:function(t){this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.node.y<this.currentHeight&&this.node.parent.getComponent("XGame").clickNumber>0&&255==this.node.opacity&&(this.node.opacity=125,this.node.parent.getComponent("XGame").clickN(7),this.node.parent.getComponent("XGame").clickTimesSix--,this.node.parent.getComponent("XGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],Xmonster:[function(t,e,i){"use strict";cc._RF.push(e,"2c9eczJbR9AvIrtjhjJWgDO","Xmonster");var o=t("Common");cc.Class({extends:cc.Component,properties:{killMusic:{default:[],url:cc.AudioClip,tooltip:"十个击杀音效随机放"}},onLoad:function(){this.setInputControl()},setInputControl:function(){var t=this;t.node.on("touchstart",t.clickFunc,t)},clickFunc:function(){255==this.node.opacity&&(o.EffectOffset&&cc.audioEngine.play(this.killMusic[Math.floor(10*Math.random())]),this.node.opacity=125,this.node.parent.getComponent("XGame").clickTimesSix--,this.node.parent.getComponent("XGame").putMosterPool(this.node))}}),cc._RF.pop()},{Common:"Common"}],XspecialYY:[function(t,e,i){"use strict";cc._RF.push(e,"c59bcos5ndL6K+Z331ww3h0","XspecialYY"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],XstageTimer:[function(t,e,i){"use strict";cc._RF.push(e,"95e8ejEfSxKeZOv4M+TIow8","XstageTimer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:200,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t;var e=Math.floor(this.totalTime/100),i=this.totalTime-100*Math.floor(this.totalTime/100);i<10&&(i="0"+i),this.timerDisplay.string=e+"",this.minutesDisplay.string=i+""},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",t<=0&&e<=0){this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.closeAllTouch(),this.node.runAction(cc.blink(.5,3));var i=cc.delayTime(.5),o=cc.callFunc(function(){this.game.already=!0,this.game.monsterFlag||this.game.spawnMonster()},this);this.node.runAction(cc.sequence(i,o))}},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],XwarSeconds:[function(t,e,i){"use strict";cc._RF.push(e,"c39ccsCVthDQ6xaYUvMMu6B","XwarSeconds");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:0,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},getTotalTime:function(){return this.totalTime},myUpdate:function(){this.totalTime++;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+""},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],YGame:[function(t,e,o){"use strict";cc._RF.push(e,"4e19eJLzsVE9Z4TqLTl3jLT","YGame");var n=t("Common"),s=t("StorageData"),a=t("JsToJava");cc.Class({extends:cc.Component,properties:{kmdPf:{default:null,type:cc.Prefab,tooltip:"孔明灯"},kmdAnim:{default:null,type:cc.Prefab,tooltip:"孔明灯动画"},grayKmdPf:{default:null,type:cc.Prefab,tooltip:"没电了"},smallKmdPf:{default:null,type:cc.Prefab,tooltip:"小型孔明灯"},scoreDisplay:{default:null,type:cc.Label,tooltip:"得分"},haveBlood:{default:[],type:cc.Sprite,tooltip:"拥有血量"},lossBlood:{default:[],type:cc.Sprite,tooltip:"损耗血量"},lossBloodEffect:{default:[],type:cc.Sprite,tooltip:"掉血效果"},overBattle:{default:null,type:cc.Layout,tooltip:"失败结算"},overSucc:{default:null,type:cc.Layout,tooltip:"胜利结算"},lightEffect:{default:null,url:cc.AudioClip},lightAllRight:{default:null,url:cc.AudioClip},battleMusic:{default:null,url:cc.AudioClip},victoryMusic:{default:null,url:cc.AudioClip},failMusic:{default:null,url:cc.AudioClip},lossBloodMusic:{default:null,url:cc.AudioClip},startAnim:cc.Node,timerT:cc.Label,nullNode:cc.Node,grayArr:[],kmdArr:[],smallKmdArr:[],exitBox:cc.Prefab},onLoad:function(){n.MusicOffset&&(cc.audioEngine.pause(n.bgMusicId),n.duijiuBGM=cc.audioEngine.play(this.battleMusic,!0,.6)),this.screenWidth=640,this.screenHeight=cc.director.getVisibleSize().height,this.rWidth=71,this.rHeight=94,this.smallWidth=30,this.smallHeight=52,this.callOne=!0,this.containsArr=[],this.currentStage=0,this.hardTime=1200,this.clickNumber=n.clickNumber,this.timerComp=this.timerT.getComponent("YTimer"),this.timerComp.init(this),n.returnOnce=!0,this.kmdInit(),this.grayInit(),this.smallKmdInit(),this.node.opacity=0},startGame:function(){this.startAnim.active=!0,this.startAnim.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Normal,this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeIn(1.5)));var t=cc.delayTime(2),e=cc.callFunc(function(){n.HardModel?a.UMLevelCheck("levelHard7","start"):a.UMLevelCheck("level7","start"),this.stageOne(),this.returnMenu()},this);this.node.runAction(cc.sequence(t,e))},setInputControl:function(){var t=this;t.node.on("touchstart",t.touchFunc,t)},touchFunc:function(t){for(var e=t.touch.getLocation(),i=0;i<5;++i)for(var o=0;o<5;++o)this.grayArr[i][o].getBoundingBoxToWorld().contains(e)&&(this.lightKmd(this.grayArr[i][o].tag,i,o)||this.closeKmd(this.grayArr[i][o].tag,i,o))},closeInputControl:function(){var t=this;t.node.off("touchstart",t.touchFunc,t)},grayInit:function(){this.grayPool=new cc.NodePool;for(var t=0,e=0;e<5;++e){for(var i=0,o=[],n=0;n<5;++n){++t;var s=cc.instantiate(this.grayKmdPf);s.tag=t,this.setNormalTag(s,s.tag),i=.24*-this.screenHeight+e*this.rHeight+20*e-150,s.setPosition(.57*-this.screenWidth+50+50*n+n*this.rWidth+this.rWidth,i),o.push(s),this.grayPool.put(s),this.node.addChild(s)}this.grayArr.push(o)}},kmdInit:function(){this.kmdPool=new cc.NodePool;for(var t=0,e=0;e<5;++e){for(var i=0,o=[],n=0;n<5;++n){var s=cc.instantiate(this.kmdPf);++t,s.tag=t,this.setNormalTag(s,s.tag),i=.24*-this.screenHeight+e*this.rHeight+20*e-150,s.opacity=0,s.setPosition(.57*-this.screenWidth+50+50*n+n*this.rWidth+this.rWidth,i),o.push(s),this.kmdPool.put(s),this.node.addChild(s)}this.kmdArr.push(o)}},smallKmdInit:function(){this.smallKmdPool=new cc.NodePool;for(var t=0,e=0;e<5;++e){for(var i=0,o=[],n=0;n<5;++n){var s=cc.instantiate(this.smallKmdPf);++t,s.tag=t,this.setNormalTag(s,s.tag),i=.24*-this.screenHeight+e*this.smallHeight+12*e+440,s.opacity=0,s.setPosition(.57*-this.screenWidth+200+35*n+n*this.smallWidth+this.smallWidth,i),o.push(s),this.smallKmdPool.put(s),this.node.addChild(s)}this.smallKmdArr.push(o)}},containsElement:function(t){for(i in this.containsArr)if(this.containsArr[i][0]==t[0]&&this.containsArr[i][1]==t[1])return!0;return!1},judgeNumber:function(t,e,i,o){return 13!=this.kmdArr[t][e].tag&&(t==i&&e==o)},lightKmd:function(t,e,i){for(var o=0;o<5;++o)for(var s=0;s<5;++s)if(this.kmdArr[o][s].tag==t&&!this.judgeNumber(o,s,e,i)&&0==this.kmdArr[o][s].opacity)return n.EffectOffset&&cc.audioEngine.play(this.lightEffect),this.kmdArr[o][s].runAction(cc.fadeIn(0)),this.grayArr[o][s].runAction(cc.fadeOut(0)),!0;return!1},closeKmd:function(t,e,i){for(var o=0;o<5;++o)for(var n=0;n<5;++n)this.kmdArr[o][n].tag!=t||this.judgeNumber(o,n,e,i)||(this.kmdArr[o][n].runAction(cc.fadeOut(0)),this.grayArr[o][n].runAction(cc.fadeIn(0)))},randomSmallLight:function(t){var e=cc.callFunc(function(){for(var e=[],i=0;i<5;++i)for(var o=0;o<5;++o)(n=[]).push(i),n.push(o),e.push(n);for(e.sort(function(){return.5-Math.random()});this.containsArr.length!=t;){var n=[];n=e.splice(0,1)[0],this.containsArr.push(n),this.smallKmdArr[n[0]][n[1]].runAction(cc.fadeIn(1))}},this),i=cc.delayTime(1),o=cc.callFunc(function(){this.setInputControl(),this.timerComp.startmyUpdate()},this);this.node.runAction(cc.sequence(e,i,o))},stageOne:function(){this.currentStage=1,this.timerComp.setTotalTime(300),this.randNum=1,this.containsArr=[],this.randomSmallLight(1)},stageTwo:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=2,this.timerComp.setTotalTime(460),this.randNum=Math.floor(2*Math.random())+2,this.containsArr=[],this.randomSmallLight(this.randNum)},stageThree:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=3,this.timerComp.setTotalTime(880),this.randNum=Math.floor(3*Math.random())+3,this.containsArr=[],this.randomSmallLight(this.randNum)},stageFour:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=4,this.timerComp.setTotalTime(1260),this.randNum=Math.floor(3*Math.random())+5,this.containsArr=[],this.randomSmallLight(this.randNum)},stageFive:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=5,this.timerComp.setTotalTime(1440),this.randNum=Math.floor(3*Math.random())+7,this.containsArr=[],this.randomSmallLight(this.randNum)},stageSix:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=6,this.timerComp.setTotalTime(1500),this.randNum=Math.floor(3*Math.random())+9,this.containsArr=[],this.randomSmallLight(this.randNum)},stageSeven:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));this.currentStage=7,this.timerComp.setTotalTime(1320),this.randNum=Math.floor(3*Math.random())+10,this.containsArr=[],this.randomSmallLight(this.randNum)},stageEight:function(){for(i in this.containsArr)this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1));n.HardModel&&7!==this.currentStage?(this.currentStage++,this.hardTime-=50):this.currentStage=8,this.timerComp.setTotalTime(this.hardTime),this.randNum=12,this.containsArr=[],this.randomSmallLight(this.randNum)},stageScore:function(){var t=0;for(i in this.containsArr)0!=this.kmdArr[this.containsArr[i][0]][this.containsArr[i][1]].opacity?(this.randNum--,t+=100,this.kmdArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeOut(1)),this.grayArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.fadeIn(1))):0!=this.smallKmdArr[this.containsArr[i][0]][this.containsArr[i][1]].opacity&&(this.grayArr[this.containsArr[i][0]][this.containsArr[i][1]].runAction(cc.blink(1,2)),this.checkBlood());for(var e=0;e<this.kmdArr.length;++e)for(var o=0;o<this.kmdArr[e].length;++o)0!=this.kmdArr[e][o].opacity&&255!=this.smallKmdArr[e][o].opacity&&(this.randNum++,this.kmdArr[e][o].runAction(cc.sequence(cc.blink(1,2),cc.fadeOut(1))),this.grayArr[e][o].runAction(cc.fadeIn(1)),this.checkBlood());if(0==this.randNum){n.EffectOffset&&cc.audioEngine.play(this.lightAllRight),t+=200*this.currentStage,this.scoreDisplay.string=parseInt(this.scoreDisplay.string)+t+"";for(i in this.containsArr){var s=Math.round(Math.random()),a=new cc.Node,c=cc.instantiate(this.kmdAnim);a.x=this.kmdArr[this.containsArr[i][0]][this.containsArr[i][1]].x,a.y=this.kmdArr[this.containsArr[i][0]][this.containsArr[i][1]].y,a.addChild(c),this.node.addChild(a),0==s?c.getComponent(cc.Animation).play("kmdLeft"):c.getComponent(cc.Animation).play("kmdRight")}}else this.scoreDisplay.string=parseInt(this.scoreDisplay.string)+t+"";0==this.clickNumber&&this.clickN()},nextStage:function(){var t=this.currentStage;switch(t>=8&&(t=8),t){case 0:this.stageOne();break;case 1:this.stageTwo();break;case 2:this.stageThree();break;case 3:this.stageFour();break;case 4:this.stageFive();break;case 5:this.stageSix();break;case 6:this.stageSeven();break;case 7:this.stageEight();break;case 8:n.HardModel?this.stageEight():this.overSuccess()}},setNormalTag:function(t,e){switch(e){case 1:case 25:t.tag=1;break;case 2:case 24:t.tag=2;break;case 3:case 23:t.tag=3;break;case 4:case 22:t.tag=4;break;case 5:case 21:t.tag=5;break;case 6:case 20:t.tag=6;break;case 7:case 19:t.tag=7;break;case 8:case 18:t.tag=8;break;case 9:case 17:t.tag=9;break;case 10:case 16:t.tag=10;break;case 11:case 15:t.tag=11;break;case 12:case 14:t.tag=12;break;case 13:t.tag=13}},checkBlood:function(){if(this.clickNumber>0){this.clickNumber--,n.EffectOffset&&cc.audioEngine.play(this.lossBloodMusic,!1,1),this.haveBlood[this.clickNumber].node.active=!1,this.lossBlood[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.active=!0,this.lossBloodEffect[this.clickNumber].node.setContentSize(cc.size(40,40));var t=cc.scaleBy(.3,3),e=cc.fadeOut(.5),i=cc.callFunc(function(){this.lossBloodEffect[this.clickNumber].node.opacity=255,this.lossBloodEffect[this.clickNumber].node.setScale(1,1),this.lossBloodEffect[this.clickNumber].node.active=!1},this);this.lossBloodEffect[this.clickNumber].node.runAction(cc.sequence(t,e,i)),cc.find("Canvas/blsXue").runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))}},clickN:function(){if(this.callOne){this.callOne=!1,this.timerComp.stopmyUpdate(),this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=(Math.floor(parseInt(this.scoreDisplay.string)),cc.hide()),i=cc.scaleTo(0,.1),o=cc.show(),s=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){for(var t=0;t<4;++t)this.lossBlood[t].node.runAction(cc.blink(1,3))},this),h=cc.delayTime(1),l=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimYiZhouReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),u=cc.delayTime(2.5),d=cc.callFunc(function(){this.overBattle.node.active=!0,this.overBattle.node.setLocalZOrder(11);var c=cc.find("Canvas/OverBattle").getComponent("GameOver");n.HardModel||a.UMLevelCheck("level7","fail"),c.battleScore(t,this.maxCombo);var r=this,h=cc.callFunc(function(){n.MusicOffset&&cc.audioEngine.stop(n.duijiuBGM),n.HardModel&&n.EffectOffset?cc.audioEngine.play(r.victoryMusic,!1,1):n.EffectOffset&&cc.audioEngine.play(r.failMusic,!1,1)},this.overBattle.node);this.overBattle.node.runAction(cc.sequence(e,i,o,s,h))},this);this.node.runAction(cc.sequence(c,r,h,l,u,d))}},overSuccess:function(){this.scoreDisplay.string=parseInt(this.scoreDisplay.string)+2e3+"",this.callOne=!1,this.nullNode.active=!0;var t=parseInt(this.scoreDisplay.string),e=(parseInt(this.scoreDisplay.string),cc.hide()),i=cc.scaleTo(0,.1),o=cc.show(),s=cc.scaleBy(.5,10),c=cc.delayTime(1),r=cc.callFunc(function(){var t=cc.find("Canvas/SingleAnim/startAnimYiZhouReverse");t.active=!0,t.opacity=0,t.children[0].getComponent(cc.Animation).defaultClip.wrapMode=cc.WrapMode.Reverse,t.runAction(cc.fadeIn(.2)),t.setLocalZOrder(10)},this),h=cc.delayTime(2.5),l=cc.callFunc(function(){this.overSucc.node.active=!0,this.overSucc.node.setLocalZOrder(11);var c=cc.find("Canvas/OverSucc").getComponent("GameOver");n.HardModel||a.UMLevelCheck("level7","finish"),n.HardModel||c.judgeOnce(-1),c.battleScore(t,this.maxCombo);var r=this,h=cc.callFunc(function(){n.MusicOffset&&cc.audioEngine.stop(n.duijiuBGM),n.EffectOffset&&cc.audioEngine.play(r.victoryMusic,!1,1)},this.overSucc.node);this.overSucc.node.runAction(cc.sequence(e,i,o,s,h))},this);this.node.runAction(cc.sequence(c,r,h,l))},pauseGame:function(){cc.find("Canvas/QuitKuang").active=!0,cc.game.pause()},returnMenu:function(){if(!n.FirstGame){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.back:n.returnOnce&&(n.returnOnce=!1,t.pauseGame());break;case cc.KEY.home:var o=(new Date).getTime();s.setLocalData("EXITTIME",o)}}},t.node)}}}),cc._RF.pop()},{Common:"Common",JsToJava:"JsToJava",StorageData:"StorageData"}],YTimer:[function(t,e,i){"use strict";cc._RF.push(e,"fbd84X5+e1JrYytzUHZEV7y","YTimer");t("Common");cc.Class({extends:cc.Component,properties:{timerDisplay:{default:null,type:cc.Label},minutesDisplay:{default:null,type:cc.Label},totalTime:1500,game:{default:null,serializable:!1}},onLoad:function(){},init:function(t){this.game=t},setTotalTime:function(t){this.totalTime=t;var e=Math.floor(this.totalTime/100),i=this.totalTime-100*Math.floor(this.totalTime/100);i<10&&(i="0"+i),this.timerDisplay.string=e+"",this.minutesDisplay.string=i+""},myUpdate:function(){this.totalTime--;var t=Math.floor(this.totalTime/100),e=this.totalTime-100*Math.floor(this.totalTime/100);if(e<10&&(e="0"+e),this.timerDisplay.string=t+"",this.minutesDisplay.string=e+"",t<=0&&e<=0){this.unschedule(this.myUpdate),this.timerDisplay.string="00",this.minutesDisplay.string="00",this.game.closeInputControl();var i=cc.delayTime(2),o=cc.callFunc(function(){this.game.stageScore()},this),n=cc.callFunc(function(){this.game.clickNumber>0&&this.game.nextStage()},this);this.node.runAction(cc.sequence(o,i,n))}},startmyUpdate:function(){this.schedule(this.myUpdate,.01)},stopmyUpdate:function(){this.unschedule(this.myUpdate)}}),cc._RF.pop()},{Common:"Common"}],ZhuoScroll:[function(t,e,i){"use strict";cc._RF.push(e,"cb86cGwiYRO26SPGXzc4eJS","ZhuoScroll");var o=t("Common");cc.Class({extends:cc.Component,properties:{zhuobossPf:cc.Prefab,baobossPf:cc.Prefab,jiaobossPf:cc.Prefab,zhuoBoss:null,game:{default:null,serializable:!1},clickTimesFive:1,clickTimesFour:1,clickTimes6:1,clickTimesThree:1,boolSkill:!1,zhuoSkillMusic:{default:null,url:cc.AudioClip},zhuoDied:{default:null,url:cc.AudioClip},baoLiangDied:{default:null,url:cc.AudioClip},clickMusic:{default:null,url:cc.AudioClip},guideTwo:cc.Sprite,guideLabelTwo:cc.Label,guideThree:cc.Sprite,guideLabelThree:cc.Label,guideFour:cc.Sprite,redArrowCircle:cc.Prefab,zhuoPf:cc.Prefab,zhuoPfSix:cc.Prefab,zhuo:null,zhuoArr:[],deleteHeight:!1,fiveMonster:[],callFirst:!0,callSecond:!0,callThird:!0,callFour:!0,twoFirst:!0,twoSecond:!0,addTwoSecond:!0,twoThird:!0,twoFour:!0,threeFirst:!0,threeSecond:!0,threeThird:!0,threeFour:!0,callOnce:!0,callTwice:!0,zhuoWar:cc.Node,zhuoTimer:null,firstStageSkill:{default:0,tooltip:"第一阶段释放技能的时间",type:cc.Integer},secondStageSkill:{default:0,tooltip:"第二阶段释放技能的时间",type:cc.Integer},thirdStageSkill:{default:0,tooltip:"第三阶段释放技能的时间",type:cc.Integer},intervalTime:{default:0,tooltip:"释放技能的间隔时间",type:cc.Integer},bloodValues:{default:0,tooltip:"点击一次boss掉血量, 0-1之间的浮点数",type:cc.Float}},onLoad:function(){this.updateFlag=!0,this.speed=150,this.fortyScore=0,this.clickTimesFive=1,this.clickTimes6=1,this.clickTimesFour=1,this.clickTimesThree=1,this.timeIn=!1,this.zhuoWar.getComponent("Dongzhuo").init(this),this.moreSixMonster=[],this.moreFiveMonster=[],this.dropStopHeight=0,this.newBossInitPosition=Math.floor(this.node.height/2.2),this.clickDongCount=60,this.increaseCount=this.clickDongCount,o.HardModel&&(this.thirdStageSkill=12),o.FirstGame?(this.guideThreeBool=!0,this.guideFourBool=!0,this.zhuoBoss=cc.instantiate(this.zhuobossPf),this.zhuoBoss.parent=this.node,this.zhuoBoss.setPosition(0,this.newBossInitPosition),this.zhuoTimer=this.zhuoBoss.getChildByName("Timer").getComponent("Timer"),this.zhuoTimer.stopmyUpdate(),this.zhuoComp=this.zhuoBoss.getChildByName("bloodBar").getComponent("BloodBar"),this.baoBoss=cc.instantiate(this.baobossPf),this.baoBoss.parent=this.node,this.baoBoss.setPosition(0,this.newBossInitPosition),this.baoBoss.active=!1,this.baoTimer=this.baoBoss.getChildByName("Timer").getComponent("Timer"),this.baoTimer.stopmyUpdate(),this.baoComp=this.baoBoss.getChildByName("bloodBar").getComponent("BloodBar"),this.jiaoBoss=cc.instantiate(this.jiaobossPf),this.jiaoBoss.parent=this.node,this.jiaoBoss.setPosition(0,this.newBossInitPosition),this.jiaoBoss.active=!1,this.jiaoTimer=this.jiaoBoss.getChildByName("Timer").getComponent("Timer"),this.jiaoTimer.stopmyUpdate(),this.jiaoComp=this.jiaoBoss.getChildByName("bloodBar").getComponent("BloodBar"),this.liangbossWidth=this.zhuoBoss.getChildByName("zhuoAction").width,this.liangbossHeight=this.zhuoBoss.getChildByName("zhuoAction").height,this.baobossWidth=this.baoBoss.getChildByName("baoAction").width,this.baobossHeight=this.baoBoss.getChildByName("baoAction").height,this.jiaobossWidth=this.jiaoBoss.getChildByName("jiaoAction").width,this.jiaobossHeight=this.jiaoBoss.getChildByName("jiaoAction").height):(this.zhuoBoss=cc.instantiate(this.zhuobossPf),this.zhuoBoss.parent=this.node,this.zhuoBoss.setPosition(0,this.newBossInitPosition),this.zhuoTimer=this.zhuoBoss.getChildByName("Timer").getComponent("DTimer"),this.zhuoComp=this.zhuoBoss.getChildByName("bloodBar").getComponent("BloodBar"),this.zhuobossWidth=this.zhuoBoss.getChildByName("zhuoAction").width,this.zhuobossHeight=this.zhuoBoss.getChildByName("zhuoAction").height)},onDestroy:function(){this.putNodePool(),this.moreFiveMonster.length=0,this.moreSixMonster.length=0},init:function(t){this.game=t},stopTarget:function(){this.node.targetOff(this)},skillOne:function(){o.EffectOffset&&cc.audioEngine.play(this.zhuoSkillMusic,!1,.4),this.game.clickN(7)},skillTwo:function(t){o.EffectOffset&&cc.audioEngine.play(this.zhuoSkillMusic,!1,.4),this.zhuoNodePool(),this.boolSkill=!0;var e=[];for(this.zhuoArr.length>0&&(this.moreSixMonster=this.zhuoArr),this.zhuoArr=[],this.zhuoArr.length=0;this.zhuoArr.length<2;){for(var i=0;i<3;++i)e.push(this.zhuoPool.get());this.zhuoArr.push(e),e=[]}this.clickTimes6+=6;this.zhuoArr[0][0].height;for(var n=0;n<this.zhuoArr.length;++n)for(var s=0;s<this.zhuoArr[n].length;++s)this.zhuoArr[n][s].parent=this.node,this.zhuoArr[n][s].opacity=255,0==n&&this.zhuoArr[n][s].setPosition(.4*-this.node.width+20,.2*this.node.height+20+20*s+s*this.zhuoArr[n][s].height),1==n&&this.zhuoArr[n][s].setPosition(.4*this.node.width-20,.2*this.node.height+20+20*s+s*this.zhuoArr[n][s].height)},skillThree:function(){o.EffectOffset&&cc.audioEngine.play(this.zhuoSkillMusic,!1,.4),this.zhuoFivePool(),this.boolSkill=!0;for(e=0;e<this.fiveMonster.length;++e)this.moreFiveMonster.push(this.fiveMonster[e]);this.fiveMonster.length=0;for(var t=0;t<5;++t)this.fiveMonster.push(this.zhuoMonsterPool.get());this.clickTimesFive+=5;for(var e=0;e<this.fiveMonster.length;++e){this.fiveMonster[e].parent=this.node,this.fiveMonster[e].opacity=255;var i=104*e-240+20*e,n=Math.floor(270*Math.random()+170);this.fiveMonster[e].setPosition(i,n)}},skillThreethree:function(){o.EffectOffset&&cc.audioEngine.play(this.zhuoSkillMusic,!1,.4),this.zhuoFivePool(),this.boolSkill=!0,this.fiveMonster.length=0,this.clickTimesThree+=3;for(var t=0;t<3;++t)this.fiveMonster.push(this.zhuoMonsterPool.get());for(var e=0;e<this.fiveMonster.length;++e){this.fiveMonster[e].parent=this.node,this.fiveMonster[e].opacity=255;var i=104*e-120+20*e,n=Math.floor(270*Math.random()+170);this.fiveMonster[e].setPosition(i,n)}},skillTwotwo:function(t){o.EffectOffset&&cc.audioEngine.play(this.zhuoSkillMusic,!1,.4),this.zhuoNodePool(),this.boolSkill=!0,this.clickTimesFour+=4;var e=[];for(this.zhuoArr=[],this.zhuoArr.length=0;this.zhuoArr.length<2;){for(s=0;s<2;++s)e.push(this.zhuoPool.get());this.zhuoArr.push(e),e=[]}this.zhuoArr[0][0].height;for(var i=0;i<this.zhuoArr.length;++i)for(var n=0;n<this.zhuoArr[i].length;++n)this.zhuoArr[i][n].parent=this.node,this.zhuoArr[i][n].opacity=255,0==i&&this.zhuoArr[i][n].setPosition(.4*-this.node.width+20,.2*this.node.height+100+20*n+n*this.zhuoArr[i][n].height),1==i&&this.zhuoArr[i][n].setPosition(.4*this.node.width-20,.2*this.node.height+100+20*n+n*this.zhuoArr[i][n].height);if(o.FirstGame&&this.twoFirst)for(var s=0;s<this.zhuoArr.length;++s)for(var a=0;a<this.zhuoArr[s].length;++a)this.zhuoArr[s][a].getComponent("DmonsterScroll").stopUpdate(),this.zhuoArr[s][a].getComponent("DArexMonsterSix").closeTouch()},zhuoArrClick:function(){for(var t=0;t<this.zhuoArr.length;++t)for(var e=0;e<this.zhuoArr[t].length;++e){if(o.FirstGame){var i=cc.instantiate(this.redArrowCircle);i.parent=this.zhuoArr[t][e],i.x=94,i.y=54}this.zhuoArr[t][e].getComponent("DArexMonsterSix").setInputControl()}},zhuoNodePool:function(){this.zhuoPool&&this.zhuoPool.size()>0&&this.zhuoPool.clear(),this.zhuoPool=null,this.zhuoPool=new cc.NodePool;for(var t=0;t<6;++t)this.zhuoPool.put(cc.instantiate(this.zhuoPfSix))},zhuoFivePool:function(){this.zhuoMonsterPool=new cc.NodePool;for(var t=0;t<5;++t)this.zhuoMonsterPool.put(cc.instantiate(this.zhuoPf))},putNodePool:function(){for(t=0;t<this.zhuoArr.length;++t)for(e=0;e<this.zhuoArr[t].length;++e)this.zhuoPool.put(this.zhuoArr[t][e]);for(e=0;e<this.fiveMonster.length;++e)this.zhuoMonsterPool.put(this.fiveMonster[e]);for(var t=0;t<this.moreSixMonster.length;++t)for(e=0;e<this.moreSixMonster[t].length;++e)this.zhuoPool.put(this.moreSixMonster[t][e]);for(var e=0;e<this.moreFiveMonster.length;++e)this.zhuoMonsterPool.put(this.moreFiveMonster[e])},clickBoss:function(t,e,i){var o=cc.callFunc(function(){t.setContentSize(cc.size(e-20,i-20))},this),n=cc.delayTime(2e-7),s=cc.callFunc(function(){t.setContentSize(cc.size(e,i))},this);this.node.runAction(cc.sequence(o,n,s))},closeInputControl:function(){var t=this;t.node.off("touchstart",t.dongzhuoClick,t)},setInputControl:function(){var t=this;t.node.on("touchstart",t.dongzhuoClick,t)},dongzhuoClick:function(t){var e=this,i=t.getLocation();e.zhuoBoss.getChildByName("zhuoAction").getBoundingBoxToWorld().contains(i)&&!e.boolSkill&&(o.EffectOffset&&cc.audioEngine.play(this.clickMusic),e.clickBoss(e.zhuoBoss.getChildByName("zhuoAction"),e.zhuobossWidth,e.zhuobossHeight),o.HardModel?(60===e.increaseCount&&(e.bloodValues=.01665),e.clickDongCount--,e.zhuoComp.setLength(e.bloodValues),0===e.clickDongCount&&(e.closeInputControl(),e.zhuoComp.setLengthZero())):(2===o.dongzhuoTimes?e.bloodValues=.006:3===o.dongzhuoTimes&&(e.bloodValues=.0054),e.zhuoComp.setLength(e.bloodValues)),e.game.comboSucc(),e.zhuoComp.getLength()<=0&&e.callOnce&&!o.HardModel&&(e.succShow(),e.callOnce=!1),0===e.zhuoComp.getLength()&&o.HardModel&&(e.increaseCount+=5,e.bloodValues=(1/e.increaseCount).toFixed(5),e.clickDongCount=e.increaseCount))},liangsetInputControl:function(){var t=this;t.node.on("touchstart",t.liangControl,t)},closeLiangControl:function(){var t=this;t.node.off("touchstart",t.liangControl,t)},liangControl:function(t){var e=this,i=t.getLocation();e.zhuoBoss.getChildByName("zhuoAction").getBoundingBoxToWorld().contains(i)&&!e.boolSkill&&(o.EffectOffset&&cc.audioEngine.play(this.clickMusic),e.clickBoss(e.zhuoBoss.getChildByName("zhuoAction"),e.liangbossWidth,e.liangbossHeight),e.bloodValues=.02,e.zhuoComp.setLength(e.bloodValues),e.game.comboSucc())},baosetInputControl:function(){var t=this;t.node.on("touchstart",t.baoControl,t)},closebaosetInputControl:function(){var t=this;t.node.off("touchstart",t.baoControl,t)},baoControl:function(t){var e=this,i=t.getLocation();e.baoBoss.getChildByName("baoAction").getBoundingBoxToWorld().contains(i)&&!e.boolSkill&&(o.EffectOffset&&cc.audioEngine.play(this.clickMusic),e.clickBoss(e.baoBoss.getChildByName("baoAction"),e.baobossWidth,e.baobossHeight),e.bloodValues=.02,e.baoComp.setLength(e.bloodValues),e.game.comboSucc())},jiaosetInputControl:function(){var t=this;t.node.on("touchstart",function(e){var i=e.getLocation();t.jiaoBoss.getChildByName("jiaoAction").getBoundingBoxToWorld().contains(i)&&!t.boolSkill&&(o.EffectOffset&&cc.audioEngine.play(this.clickMusic),t.clickBoss(t.jiaoBoss.getChildByName("jiaoAction"),t.jiaobossWidth,t.jiaobossHeight),t.bloodValues=.02,t.jiaoComp.setLength(t.bloodValues),t.game.comboSucc(),t.jiaoComp.getLength()<=0&&t.callOnce&&(t.succShow(),t.callOnce=!1))},t)},bossAction:function(){this.timeIn=!1;var t=cc.moveBy(.05,cc.p(-20,20)),e=cc.moveBy(.1,cc.p(40,40)),i=cc.moveBy(.05,cc.p(-20,20)),n=cc.moveBy(.5,cc.p(0,400)),s=cc.callFunc(function(){this.node.stopAction(a),o.FirstGame&&(1==o.dongzhuoTimes?(this.zhuoBoss.active=!1,this.baoBoss.active=!0):2==o.dongzhuoTimes&&(this.baoBoss.active=!1,this.jiaoBoss.active=!0))},this),a=cc.sequence(t,e,i,n,s);this.node.runAction(a)},startBoss:function(){1==o.dongzhuoTimes?this.startLiangBoss():2==o.dongzhuoTimes?this.startBaoBoss():3==o.dongzhuoTimes&&this.startJiaoBoss()},startLiangBoss:function(){this.updateFlag=!1,this.zhuoTimer.startmyUpdate(),this.liangsetInputControl()},startBaoBoss:function(){this.updateFlag=!1,this.baoTimer.startmyUpdate(),this.baosetInputControl()},stopBaoBoss:function(){this.baoTimer.stopmyUpdate(),this.closebaosetInputControl()},startJiaoBoss:function(){this.updateFlag=!1,this.jiaoTimer.startmyUpdate(),this.jiaosetInputControl()},bossTimerPause:function(){cc.director.getScheduler().pauseTarget(this.zhuoTimer),o.FirstGame&&(cc.director.getScheduler().pauseTarget(this.baoTimer),cc.director.getScheduler().pauseTarget(this.jiaoTimer));for(t=0;t<this.zhuoArr.length;++t)for(e=0;e<this.zhuoArr[t].length;++e)cc.director.getScheduler().pauseTarget(this.zhuoArr[t][e].getComponent("DmonsterScroll"));for(var t=0;t<this.moreSixMonster.length;++t)for(e=0;e<this.moreSixMonster[t].length;++e)cc.director.getScheduler().pauseTarget(this.moreSixMonster[t][e].getComponent("DmonsterScroll"));for(var e=0;e<this.fiveMonster.length;++e)cc.director.getScheduler().pauseTarget(this.fiveMonster[e].getComponent("DmonsterScroll"));for(var i=0;i<this.moreFiveMonster.length;++i)cc.director.getScheduler().pauseTarget(this.moreFiveMonster[i].getComponent("DmonsterScroll"))},bossTimerResume:function(){cc.director.getScheduler().resumeTarget(this.zhuoTimer),o.FirstGame&&(cc.director.getScheduler().resumeTarget(this.baoTimer),cc.director.getScheduler().resumeTarget(this.jiaoTimer));for(t=0;t<this.zhuoArr.length;++t)for(e=0;e<this.zhuoArr[t].length;++e)cc.director.getScheduler().resumeTarget(this.zhuoArr[t][e].getComponent("DmonsterScroll"));for(var t=0;t<this.moreSixMonster.length;++t)for(e=0;e<this.moreSixMonster[t].length;++e)cc.director.getScheduler().resumeTarget(this.moreSixMonster[t][e].getComponent("DmonsterScroll"));for(var e=0;e<this.fiveMonster.length;++e)cc.director.getScheduler().resumeTarget(this.fiveMonster[e].getComponent("DmonsterScroll"));for(var i=0;i<this.moreFiveMonster.length;++i)cc.director.getScheduler().resumeTarget(this.moreFiveMonster[i].getComponent("DmonsterScroll"))},update:function(t){o.ZhuoState&&(this.updateFlag=!0,o.ZhuoState=!1,o.TimeState=!0,o.FirstGame?(1==o.dongzhuoTimes?(this.zhuoTimer.setTime(this.game.currentBossTime),this.zhuoTimer.showTimer(),this.zhuoTimer.stopmyUpdate()):2==o.dongzhuoTimes&&(this.baoTimer.setTime(this.game.currentBossTime),this.baoTimer.showTimer(),this.baoTimer.stopmyUpdate()),3==o.dongzhuoTimes&&(this.jiaoTimer.setTime(this.game.currentBossTime),this.jiaoTimer.showTimer(),this.jiaoTimer.stopmyUpdate())):(this.zhuoTimer.setTime(this.game.currentBossTime),this.zhuoTimer.showTimer(),this.timeIn=!1)),o.dongzhuoWar&&(this.node.y>-410?(this.y=this.node.y,this.y-=this.speed*t,this.node.y=this.y,this.closeInputControl()):this.updateFlag&&(o.FirstGame?(1==o.dongzhuoTimes?this.guideTwo.node.active||(this.guideTwo.node.active=!0):2==o.dongzhuoTimes?!this.guideThree.node.active&&this.guideThreeBool&&(this.guideThreeBool=!1,this.guideThree.node.active=!0):3==o.dongzhuoTimes&&!this.guideFour.node.active&&this.guideFourBool&&(this.guideFourBool=!1,this.guideFour.node.active=!0),this.game.seeZhuo.node.active=!1):(this.threeFirst=!0,this.threeSecond=!0,this.threeThird=!0,this.threeFour=!0,this.updateFlag=!1,this.timeIn=!0,this.game.seeZhuo.node.active=!1,this.setInputControl())),o.FirstGame?(1==o.dongzhuoTimes&&this.zhuoComp.getLength()<=0?(o.EffectOffset&&cc.audioEngine.play(this.baoLiangDied,!1,1),this.boolSkill=!1,this.zhuoTimer.setTime(0),this.closeLiangControl(),o.dongzhuoWar=!1,this.bossAction(),this.game.resumeSkill()):2==o.dongzhuoTimes&&this.baoComp.getLength()<=0&&(o.EffectOffset&&cc.audioEngine.play(this.baoLiangDied,!1),this.boolSkill=!1,this.baoTimer.setTime(0),this.closebaosetInputControl(),o.dongzhuoWar=!1,this.bossAction(),this.game.resumeSkill()),2==o.dongzhuoTimes&&(0==this.clickTimesFour&&(this.boolSkill=!1),this.baoTimer.getTime()==this.secondStageSkill&&this.twoFirst?(this.clickTimesFour=0,this.skillTwotwo(),this.closebaosetInputControl(),this.baoTimer.stopmyUpdate(),this.guideThree.node.active=!0,this.twoFirst=!1):this.baoTimer.getTime()==this.secondStageSkill-this.intervalTime&&this.twoSecond?(this.skillTwotwo(),this.twoSecond=!1):this.baoTimer.getTime()==this.secondStageSkill-2*this.intervalTime&&this.twoThird?(this.skillTwotwo(),this.twoThird=!1):this.baoTimer.getTime()==this.secondStageSkill-3*this.intervalTime&&this.twoFour&&(this.skillTwotwo(),this.twoFour=!1),this.boolSkill&&this.baoTimer.getTime()>=1?this.baoBoss.opacity=125:this.baoBoss.opacity=255),3==o.dongzhuoTimes&&(0==this.clickTimesThree&&0==this.clickTimesFour&&(this.boolSkill=!1),this.jiaoTimer.getTime()==this.thirdStageSkill&&this.threeFirst?(this.clickTimesFour=0,this.clickTimesThree=0,this.skillThreethree(),this.threeFirst=!1):this.jiaoTimer.getTime()==this.thirdStageSkill-this.intervalTime&&this.threeSecond?(this.skillTwotwo(),this.threeSecond=!1):this.jiaoTimer.getTime()==this.thirdStageSkill-2*this.intervalTime&&this.threeThird?(this.skillThreethree(),this.threeThird=!1):this.jiaoTimer.getTime()==this.thirdStageSkill-3*this.intervalTime&&this.threeFour?(this.skillTwotwo(),this.threeFour=!1):this.jiaoTimer.getTime()==this.thirdStageSkill-4*this.intervalTime&&this.callTwice&&(this.skillThreethree(),this.callTwice=!1),this.boolSkill&&this.jiaoTimer.getTime()>=1?this.jiaoBoss.opacity=125:this.jiaoBoss.opacity=255),3==o.dongzhuoTimes&&this.jiaoComp.getLength()<=0&&(o.dongzhuoTimes=0,this.succJiaoShow())):o.HardModel?(1==o.dongzhuoTimes&&0===this.zhuoComp.getLength()?(this.clickTimesFive=1,this.boolSkill=!1,this.zhuoTimer.setTime(15),this.zhuoComp.setLengthOne(),o.dongzhuoWar=!1,this.bossAction(),this.game.resumeSkill()):2==o.dongzhuoTimes&&0===this.zhuoComp.getLength()?(this.clickTimes6=1,this.boolSkill=!1,this.zhuoTimer.setTime(15),this.zhuoComp.setLengthOne(),o.dongzhuoWar=!1,this.game.resumeSkill(),this.bossAction()):o.dongzhuoTimes>=3&&0===this.zhuoComp.getLength()&&(this.clickTimes6=1,this.clickTimesFive=1,this.boolSkill=!1,this.zhuoTimer.setTime(15),this.zhuoComp.setLengthOne(),o.dongzhuoWar=!1,this.game.resumeSkill(),this.bossAction()),1==this.zhuoTimer.getTime()&&this.zhuoComp.getLength()>0&&(this.boolSkill=!1,this.zhuoTimer.setTime(0),o.dongzhuoWar=!1,this.bossAction(),this.game.bloodCheck(),this.game.clickN(7)),1==o.dongzhuoTimes&&(0==this.clickTimesFive&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.firstStageSkill&&this.callFirst?(this.clickTimesFive=0,this.skillThree(),this.callFirst=!1):this.zhuoTimer.getTime()==this.firstStageSkill-this.intervalTime&&this.callSecond?(this.skillThree(),this.callSecond=!1):this.zhuoTimer.getTime()==this.firstStageSkill-2*this.intervalTime&&this.callThird?(this.skillThree(),this.callThird=!1):this.zhuoTimer.getTime()==this.firstStageSkill-3*this.intervalTime&&this.callFour&&(this.skillThree(),this.callFour=!1)),2==o.dongzhuoTimes&&(0==this.clickTimes6&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.secondStageSkill&&this.twoFirst?(this.clickTimes6=0,this.twoFirst=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-this.intervalTime&&this.twoSecond&&this.addTwoSecond?(this.addTwoSecond=!1,this.twoSecond=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-2*this.intervalTime&&this.twoThird?(this.twoThird=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-3*this.intervalTime&&this.twoFour&&(this.twoFour=!1,this.skillTwo())),o.dongzhuoTimes>=3&&(0==this.clickTimes6&&0==this.clickTimesFive&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.thirdStageSkill&&this.threeFirst?(this.clickTimesFive=0,this.clickTimes6=0,this.skillThree(),this.threeFirst=!1):this.zhuoTimer.getTime()==this.thirdStageSkill-this.intervalTime&&this.threeSecond?(this.skillTwo(),this.threeSecond=!1):this.zhuoTimer.getTime()==this.thirdStageSkill-2*this.intervalTime&&this.threeThird?(this.threeThird=!1,this.skillThree()):this.zhuoTimer.getTime()==this.thirdStageSkill-3*this.intervalTime&&this.threeFour&&(this.threeFour=!1,this.skillTwo())),this.boolSkill&&this.zhuoTimer.getTime()>=1?this.zhuoBoss.opacity=125:this.zhuoTimer.getTime()>=0&&(this.zhuoBoss.opacity=255)):(1==o.dongzhuoTimes&&this.zhuoComp.getLength()<=.7&&this.zhuoComp.getLength()>0?(this.clickTimesFive=1,this.boolSkill=!1,this.zhuoTimer.setTime(0),o.dongzhuoWar=!1,this.bossAction(),this.game.resumeSkill()):2==o.dongzhuoTimes&&this.zhuoComp.getLength()<=.4&&this.zhuoComp.getLength()>0&&(this.clickTimes6=1,this.boolSkill=!1,this.zhuoTimer.setTime(0),o.dongzhuoWar=!1,this.game.resumeSkill(),this.bossAction()),1==this.zhuoTimer.getTime()&&(this.boolSkill=!1,this.zhuoTimer.setTime(0),o.dongzhuoWar=!1,1==o.dongzhuoTimes&&this.zhuoComp.getLength()>.7?o.DeadState=!0:2==o.dongzhuoTimes&&this.zhuoComp.getLength()>.4?o.DeadState=!0:3==o.dongzhuoTimes&&(o.DeadState=!0),this.bossAction()),1==o.dongzhuoTimes&&(0==this.clickTimesFive&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.firstStageSkill&&this.callFirst?(this.clickTimesFive=0,this.skillThree(),this.callFirst=!1):this.zhuoTimer.getTime()==this.firstStageSkill-this.intervalTime&&this.callSecond?(this.skillThree(),this.callSecond=!1):this.zhuoTimer.getTime()==this.firstStageSkill-2*this.intervalTime&&this.callThird?(this.skillThree(),this.callThird=!1):this.zhuoTimer.getTime()==this.firstStageSkill-3*this.intervalTime&&this.callFour&&(this.skillThree(),this.callFour=!1)),2==o.dongzhuoTimes&&(0==this.clickTimes6&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.secondStageSkill&&this.twoFirst?(this.clickTimes6=0,this.twoFirst=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-this.intervalTime&&this.twoSecond&&this.addTwoSecond?(this.addTwoSecond=!1,this.twoSecond=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-2*this.intervalTime&&this.twoThird?(this.twoThird=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.secondStageSkill-3*this.intervalTime&&this.twoFour&&(this.twoFour=!1,this.skillTwo())),3==o.dongzhuoTimes&&(0==this.clickTimes6&&0==this.clickTimesFive&&(this.boolSkill=!1),this.zhuoTimer.getTime()==this.thirdStageSkill&&this.threeFirst?(this.clickTimesFive=0,this.clickTimes6=0,this.skillThree(),this.threeFirst=!1):this.zhuoTimer.getTime()==this.thirdStageSkill-this.intervalTime&&this.threeSecond?(this.skillTwo(),this.threeSecond=!1):this.zhuoTimer.getTime()==this.thirdStageSkill-2*this.intervalTime&&this.threeThird?(this.threeThird=!1,this.skillThree()):this.zhuoTimer.getTime()==this.thirdStageSkill-3*this.intervalTime&&this.threeFour?(this.threeFour=!1,this.skillTwo()):this.zhuoTimer.getTime()==this.thirdStageSkill-4*this.intervalTime&&this.callTwice&&(this.skillThree(),this.callTwice=!1)),this.zhuoComp.getLength()>0&&o.DeadState?(this.game.bloodCheck(),this.game.clickN(7)):this.zhuoComp.getLength()<=0&&o.DeadState&&this.succShow(),this.boolSkill&&this.zhuoTimer.getTime()>=1?this.zhuoBoss.opacity=125:this.zhuoTimer.getTime()>=0&&(this.zhuoBoss.opacity=255)))},succShow:function(){this.node.targetOff(this),this.game.stopUpdate(),this.zhuoBoss.getChildByName("loseBloodbar").active=!1,this.zhuoBoss.getChildByName("bloodBar").active=!1,this.zhuoBoss.getChildByName("Timer").active=!1,o.EffectOffset&&cc.audioEngine.play(this.zhuoDied,!1,1);var t=cc.moveBy(.03,cc.p(-20,0)),e=cc.moveBy(.03,cc.p(40,0)),i=cc.moveBy(.03,cc.p(-20,0)),n=cc.fadeOut(4),s=cc.callFunc(function(){this.game.clickN(9),o.DeadState=!1},this);this.zhuoBoss.runAction(cc.sequence(cc.repeat(cc.sequence(t,e,i),5),n,s))},succJiaoShow:function(){this.node.targetOff(this),this.game.stopUpdate(),this.jiaoBoss.getChildByName("loseBloodbar").active=!1,this.jiaoBoss.getChildByName("bloodBar").active=!1,this.jiaoBoss.getChildByName("Timer").active=!1,o.EffectOffset&&cc.audioEngine.play(this.zhuoDied,!1,1);var t=cc.moveBy(.03,cc.p(-20,0)),e=cc.moveBy(.03,cc.p(40,0)),i=cc.moveBy(.03,cc.p(-20,0)),n=cc.fadeOut(4),s=cc.callFunc(function(){this.game.clickN(9),this.guideFour.node.active=!1,o.DeadState=!1},this);this.jiaoBoss.runAction(cc.sequence(cc.repeat(cc.sequence(t,e,i),5),n,s))}}),cc._RF.pop()},{Common:"Common"}]},{},["AddScoreAction","AdsLed","AnimationDestroy","AnimationHardBoci","BLGame","BLarex","BLarexR","BLarexRScroll","BLattackAnim","BLstageTimer","BLtroopIncrease","BLtroopLayout","BLyellow","BattleControl","BattleGuideClose","BattleGuideText","BattleLayer","BattleLoopOnePlay","BattleMode","BattleOpenShow","BloodBar","ClassicArexOne","ClassicArexThree","ClassicArexTwo","ClassicBomb","ClassicGame","ClassicNullNode","ClassicSkill","ClassicStoreCtrl","ClassicYellow","ClickReturn","Common","ConfigLayer","ContinueLayer","DArexMonster","DArexMonsterSix","DArexThree","DBomb","DSkill","DTimer","DmonsterScroll","Dongzhuo","Dyellow","EnergyCounter","FinalAction","GBlockHero","GBlockNormal","GBlockTimer","GDBoss","GDGame","GDmonster","GDmonsterScroll","GDstageTimer","GDwarSeconds","GGame","GTimer","GameOver","GcupAnim","HBoss","HGame","Hmonster","HmonsterScroll","HspecialYY","HstageTimer","HwarSeconds","JsToJava","LTimer","LarexOne","LarexThree","LarexTwo","LimitGame","Login","MatchComplete","MatchLayer","MatchSelect","Menu","NewArexOne","NewArexThree","NewArexTwo","NewBattleThree","NewBomb","NewCloseTouch","NewDialogueMap","NewDialogueOver","NewDialogueSwitchFive","NewDialogueSwitchFiveOne","NewDialogueSwitchFour","NewDialogueSwitchOne","NewDialogueSwitchSeven","NewDialogueSwitchSevenThree","NewDialogueSwitchSevenTwo","NewDialogueSwitchSix","NewDialogueSwitchSixOne","NewDialogueSwitchSixThree","NewDialogueSwitchSixTwo","NewDialogueSwitchTwo","NewDialogueSwitchTwoOne","NewDialogueSwitchTwoThree","NewDialogueSwitchTwoTwo","NewDialogueZhangjiao","NewSkillCeMa","NewSkillEnZe","NewSkillGuRuo","NewSkillHengSao","NewSkillHuaJian","NewSkillLiXian","NickName","NormalHardCtrl","NullNode","Occupy","PUGame","PURarexOne","PURarexThree","PURarexTwo","PUTimer","PUarexOne","PUarexThree","PUarexTwo","PUyellow","PVPArexOne","PVPArexThree","PVPArexTwo","PVPBomb","PVPGame","PVPMode","PVPSkill","PVPWaitLayer","PVPYellow","PageViewCtrl","PersonalRanking","PersonalViewCtrl","PingAiNode","PingArex","PingGame","PingMyNode","PingRArex","PingRandomArex","PingRandomArexR","PopulationLayer","PowerLayer","PowerRankLayer","QArexFormation","QArexFormationFour","QFormationScroll","QTimer","QarexOne","QarexThree","QarexTwo","Qbomb","QianjunScroll","Qskill","QuEWar","QuitKuang","RFormationScroll","RTimer","RboatFormation","RboatMiddle","RboatNormal","Rbomb","RbombMiddle","RedWar","Rskill","Scroll","SelectColor","StorageData","StoreCtrl","StoreLayer","TBoss","TGame","TarexOne","TarexThree","TarexTwo","Tbomb","Timer","Tskill","Tyellow","ULevelStr","UTitleStr","UpBackground","Upgrade","UpgradeConfig","WaitProgress","WaitProgressStore","XBoss","XGame","Xmonster","XmonsterScroll","XspecialYY","XstageTimer","XwarSeconds","YGame","YTimer","ZhuoScroll"]);